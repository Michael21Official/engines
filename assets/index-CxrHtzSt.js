var IP=Object.defineProperty;var kP=(n,e,t)=>e in n?IP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var hy=(n,e,t)=>kP(n,typeof e!="symbol"?e+"":e,t);function FP(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function O0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var J_={exports:{}},py={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function HP(){if(zw)return py;zw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return py.Fragment=e,py.jsx=t,py.jsxs=t,py}var Lw;function jP(){return Lw||(Lw=1,J_.exports=HP()),J_.exports}var T=jP(),Z_={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function GP(){if(Ow)return on;Ow=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function M(Y,te,Ce){this.props=Y,this.context=te,this.refs=E,this.updater=Ce||b}M.prototype.isReactComponent={},M.prototype.setState=function(Y,te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,te,"setState")},M.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function A(){}A.prototype=M.prototype;function z(Y,te,Ce){this.props=Y,this.context=te,this.refs=E,this.updater=Ce||b}var B=z.prototype=new A;B.constructor=z,S(B,M.prototype),B.isPureReactComponent=!0;var L=Array.isArray,O={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function k(Y,te,Ce,He,se,we){return Ce=we.ref,{$$typeof:n,type:Y,key:te,ref:Ce!==void 0?Ce:null,props:we}}function F(Y,te){return k(Y.type,te,void 0,void 0,void 0,Y.props)}function P(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function w(Y){var te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Ce){return te[Ce]})}var G=/\/+/g;function ee(Y,te){return typeof Y=="object"&&Y!==null&&Y.key!=null?w(""+Y.key):te.toString(36)}function q(){}function $(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(q,q):(Y.status="pending",Y.then(function(te){Y.status==="pending"&&(Y.status="fulfilled",Y.value=te)},function(te){Y.status==="pending"&&(Y.status="rejected",Y.reason=te)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ae(Y,te,Ce,He,se){var we=typeof Y;(we==="undefined"||we==="boolean")&&(Y=null);var Ae=!1;if(Y===null)Ae=!0;else switch(we){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(Y.$$typeof){case n:case e:Ae=!0;break;case m:return Ae=Y._init,ae(Ae(Y._payload),te,Ce,He,se)}}if(Ae)return se=se(Y),Ae=He===""?"."+ee(Y,0):He,L(se)?(Ce="",Ae!=null&&(Ce=Ae.replace(G,"$&/")+"/"),ae(se,te,Ce,"",function(vt){return vt})):se!=null&&(P(se)&&(se=F(se,Ce+(se.key==null||Y&&Y.key===se.key?"":(""+se.key).replace(G,"$&/")+"/")+Ae)),te.push(se)),1;Ae=0;var Xe=He===""?".":He+":";if(L(Y))for(var Ge=0;Ge<Y.length;Ge++)He=Y[Ge],we=Xe+ee(He,Ge),Ae+=ae(He,te,Ce,we,se);else if(Ge=v(Y),typeof Ge=="function")for(Y=Ge.call(Y),Ge=0;!(He=Y.next()).done;)He=He.value,we=Xe+ee(He,Ge++),Ae+=ae(He,te,Ce,we,se);else if(we==="object"){if(typeof Y.then=="function")return ae($(Y),te,Ce,He,se);throw te=String(Y),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function J(Y,te,Ce){if(Y==null)return Y;var He=[],se=0;return ae(Y,He,"","",function(we){return te.call(Ce,we,se++)}),He}function re(Y){if(Y._status===-1){var te=Y._result;te=te(),te.then(function(Ce){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Ce)},function(Ce){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Ce)}),Y._status===-1&&(Y._status=0,Y._result=te)}if(Y._status===1)return Y._result.default;throw Y._result}var Q=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function de(){}return on.Children={map:J,forEach:function(Y,te,Ce){J(Y,function(){te.apply(this,arguments)},Ce)},count:function(Y){var te=0;return J(Y,function(){te++}),te},toArray:function(Y){return J(Y,function(te){return te})||[]},only:function(Y){if(!P(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},on.Component=M,on.Fragment=t,on.Profiler=r,on.PureComponent=z,on.StrictMode=i,on.Suspense=u,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,on.act=function(){throw Error("act(...) is not supported in production builds of React.")},on.cache=function(Y){return function(){return Y.apply(null,arguments)}},on.cloneElement=function(Y,te,Ce){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var He=S({},Y.props),se=Y.key,we=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(we=void 0),te.key!==void 0&&(se=""+te.key),te)!U.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(He[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)He.children=Ce;else if(1<Ae){for(var Xe=Array(Ae),Ge=0;Ge<Ae;Ge++)Xe[Ge]=arguments[Ge+2];He.children=Xe}return k(Y.type,se,void 0,void 0,we,He)},on.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},on.createElement=function(Y,te,Ce){var He,se={},we=null;if(te!=null)for(He in te.key!==void 0&&(we=""+te.key),te)U.call(te,He)&&He!=="key"&&He!=="__self"&&He!=="__source"&&(se[He]=te[He]);var Ae=arguments.length-2;if(Ae===1)se.children=Ce;else if(1<Ae){for(var Xe=Array(Ae),Ge=0;Ge<Ae;Ge++)Xe[Ge]=arguments[Ge+2];se.children=Xe}if(Y&&Y.defaultProps)for(He in Ae=Y.defaultProps,Ae)se[He]===void 0&&(se[He]=Ae[He]);return k(Y,we,void 0,void 0,null,se)},on.createRef=function(){return{current:null}},on.forwardRef=function(Y){return{$$typeof:c,render:Y}},on.isValidElement=P,on.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:re}},on.memo=function(Y,te){return{$$typeof:h,type:Y,compare:te===void 0?null:te}},on.startTransition=function(Y){var te=O.T,Ce={};O.T=Ce;try{var He=Y(),se=O.S;se!==null&&se(Ce,He),typeof He=="object"&&He!==null&&typeof He.then=="function"&&He.then(de,Q)}catch(we){Q(we)}finally{O.T=te}},on.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},on.use=function(Y){return O.H.use(Y)},on.useActionState=function(Y,te,Ce){return O.H.useActionState(Y,te,Ce)},on.useCallback=function(Y,te){return O.H.useCallback(Y,te)},on.useContext=function(Y){return O.H.useContext(Y)},on.useDebugValue=function(){},on.useDeferredValue=function(Y,te){return O.H.useDeferredValue(Y,te)},on.useEffect=function(Y,te){return O.H.useEffect(Y,te)},on.useId=function(){return O.H.useId()},on.useImperativeHandle=function(Y,te,Ce){return O.H.useImperativeHandle(Y,te,Ce)},on.useInsertionEffect=function(Y,te){return O.H.useInsertionEffect(Y,te)},on.useLayoutEffect=function(Y,te){return O.H.useLayoutEffect(Y,te)},on.useMemo=function(Y,te){return O.H.useMemo(Y,te)},on.useOptimistic=function(Y,te){return O.H.useOptimistic(Y,te)},on.useReducer=function(Y,te,Ce){return O.H.useReducer(Y,te,Ce)},on.useRef=function(Y){return O.H.useRef(Y)},on.useState=function(Y){return O.H.useState(Y)},on.useSyncExternalStore=function(Y,te,Ce){return O.H.useSyncExternalStore(Y,te,Ce)},on.useTransition=function(){return O.H.useTransition()},on.version="19.0.0",on}var Nw;function jm(){return Nw||(Nw=1,Z_.exports=GP()),Z_.exports}var I=jm();const co=O0(I),r0=FP({__proto__:null,default:co},[I]);var Q_={exports:{}},my={},$_={exports:{}},eM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function VP(){return Uw||(Uw=1,function(n){function e(J,re){var Q=J.length;J.push(re);e:for(;0<Q;){var de=Q-1>>>1,Y=J[de];if(0<r(Y,re))J[de]=re,J[Q]=Y,Q=de;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var re=J[0],Q=J.pop();if(Q!==re){J[0]=Q;e:for(var de=0,Y=J.length,te=Y>>>1;de<te;){var Ce=2*(de+1)-1,He=J[Ce],se=Ce+1,we=J[se];if(0>r(He,Q))se<Y&&0>r(we,He)?(J[de]=we,J[se]=Q,de=se):(J[de]=He,J[Ce]=Q,de=Ce);else if(se<Y&&0>r(we,Q))J[de]=we,J[se]=Q,de=se;else break e}}return re}function r(J,re){var Q=J.sortIndex-re.sortIndex;return Q!==0?Q:J.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],h=[],m=1,g=null,v=3,b=!1,S=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function B(J){for(var re=t(h);re!==null;){if(re.callback===null)i(h);else if(re.startTime<=J)i(h),re.sortIndex=re.expirationTime,e(u,re);else break;re=t(h)}}function L(J){if(E=!1,B(J),!S)if(t(u)!==null)S=!0,$();else{var re=t(h);re!==null&&ae(L,re.startTime-J)}}var O=!1,U=-1,k=5,F=-1;function P(){return!(n.unstable_now()-F<k)}function w(){if(O){var J=n.unstable_now();F=J;var re=!0;try{e:{S=!1,E&&(E=!1,A(U),U=-1),b=!0;var Q=v;try{t:{for(B(J),g=t(u);g!==null&&!(g.expirationTime>J&&P());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var Y=de(g.expirationTime<=J);if(J=n.unstable_now(),typeof Y=="function"){g.callback=Y,B(J),re=!0;break t}g===t(u)&&i(u),B(J)}else i(u);g=t(u)}if(g!==null)re=!0;else{var te=t(h);te!==null&&ae(L,te.startTime-J),re=!1}}break e}finally{g=null,v=Q,b=!1}re=void 0}}finally{re?G():O=!1}}}var G;if(typeof z=="function")G=function(){z(w)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,q=ee.port2;ee.port1.onmessage=w,G=function(){q.postMessage(null)}}else G=function(){M(w,0)};function $(){O||(O=!0,G())}function ae(J,re){U=M(function(){J(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,$())},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(J){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var Q=v;v=re;try{return J()}finally{v=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Q=v;v=J;try{return re()}finally{v=Q}},n.unstable_scheduleCallback=function(J,re,Q){var de=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,J){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,J={id:m++,callback:re,priorityLevel:J,startTime:Q,expirationTime:Y,sortIndex:-1},Q>de?(J.sortIndex=Q,e(h,J),t(u)===null&&J===t(h)&&(E?(A(U),U=-1):E=!0,ae(L,Q-de))):(J.sortIndex=Y,e(u,J),S||b||(S=!0,$())),J},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(J){var re=v;return function(){var Q=v;v=re;try{return J.apply(this,arguments)}finally{v=Q}}}}(eM)),eM}var Pw;function HE(){return Pw||(Pw=1,$_.exports=VP()),$_.exports}var tM={exports:{}},ua={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function XP(){if(Iw)return ua;Iw=1;var n=jm();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:h,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ua.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ua.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,m)},ua.flushSync=function(u){var h=o.T,m=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=h,i.p=m,i.d.f()}},ua.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},ua.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ua.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):m==="script"&&i.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ua.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},ua.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);i.d.L(u,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ua.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},ua.requestFormReset=function(u){i.d.r(u)},ua.unstable_batchedUpdates=function(u,h){return u(h)},ua.useFormState=function(u,h,m){return o.H.useFormState(u,h,m)},ua.useFormStatus=function(){return o.H.useHostTransitionStatus()},ua.version="19.0.0",ua}var kw;function Tz(){if(kw)return tM.exports;kw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tM.exports=XP(),tM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function WP(){if(Fw)return my;Fw=1;var n=HE(),e=jm(),t=Tz();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case u:return"Fragment";case c:return"Portal";case m:return"Profiler";case h:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case S:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case A:return l=s.displayName||null,l!==null?l:F(s.type)||"Memo";case z:l=s._payload,s=s._init;try{return F(s(l))}catch{}}return null}var P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,G,ee;function q(s){if(G===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||"",ee=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+s+ee}var $=!1;function ae(s,l){if(!s||$)return"";$=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Ve){var Le=Ve}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(Ve){Le=Ve}s.call(nt.prototype)}}else{try{throw Error()}catch(Ve){Le=Ve}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Ve){if(Ve&&Le&&typeof Ve.stack=="string")return[Ve.stack,Le.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=y.DetermineComponentFrameRoot(),H=R[0],X=R[1];if(H&&X){var ie=H.split(`
`),ge=X.split(`
`);for(_=y=0;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;for(;_<ge.length&&!ge[_].includes("DetermineComponentFrameRoot");)_++;if(y===ie.length||_===ge.length)for(y=ie.length-1,_=ge.length-1;1<=y&&0<=_&&ie[y]!==ge[_];)_--;for(;1<=y&&0<=_;y--,_--)if(ie[y]!==ge[_]){if(y!==1||_!==1)do if(y--,_--,0>_||ie[y]!==ge[_]){var Ke=`
`+ie[y].replace(" at new "," at ");return s.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",s.displayName)),Ke}while(1<=y&&0<=_);break}}}finally{$=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?q(p):""}function J(s){switch(s.tag){case 26:case 27:case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return s=ae(s.type,!1),s;case 11:return s=ae(s.type.render,!1),s;case 1:return s=ae(s.type,!0),s;default:return""}}function re(s){try{var l="";do l+=J(s),s=s.return;while(s);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Q(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function de(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Y(s){if(Q(s)!==s)throw Error(i(188))}function te(s){var l=s.alternate;if(!l){if(l=Q(s),l===null)throw Error(i(188));return l!==s?null:s}for(var p=s,y=l;;){var _=p.return;if(_===null)break;var R=_.alternate;if(R===null){if(y=_.return,y!==null){p=y;continue}break}if(_.child===R.child){for(R=_.child;R;){if(R===p)return Y(_),s;if(R===y)return Y(_),l;R=R.sibling}throw Error(i(188))}if(p.return!==y.return)p=_,y=R;else{for(var H=!1,X=_.child;X;){if(X===p){H=!0,p=_,y=R;break}if(X===y){H=!0,y=_,p=R;break}X=X.sibling}if(!H){for(X=R.child;X;){if(X===p){H=!0,p=R,y=_;break}if(X===y){H=!0,y=R,p=_;break}X=X.sibling}if(!H)throw Error(i(189))}}if(p.alternate!==y)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?s:l}function Ce(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=Ce(s),l!==null)return l;s=s.sibling}return null}var He=Array.isArray,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Ae=[],Xe=-1;function Ge(s){return{current:s}}function vt(s){0>Xe||(s.current=Ae[Xe],Ae[Xe]=null,Xe--)}function Ze(s,l){Xe++,Ae[Xe]=s.current,s.current=l}var at=Ge(null),Et=Ge(null),ht=Ge(null),ne=Ge(null);function Yt(s,l){switch(Ze(ht,l),Ze(Et,s),Ze(at,null),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?ow(l):0;break;default:if(s=s===8?l.parentNode:l,l=s.tagName,s=s.namespaceURI)s=ow(s),l=lw(s,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}vt(at),Ze(at,l)}function ke(){vt(at),vt(Et),vt(ht)}function De(s){s.memoizedState!==null&&Ze(ne,s);var l=at.current,p=lw(l,s.type);l!==p&&(Ze(Et,s),Ze(at,p))}function Te(s){Et.current===s&&(vt(at),vt(Et)),ne.current===s&&(vt(ne),ly._currentValue=we)}var $e=Object.prototype.hasOwnProperty,ze=n.unstable_scheduleCallback,K=n.unstable_cancelCallback,j=n.unstable_shouldYield,pe=n.unstable_requestPaint,Ee=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,fe=n.unstable_ImmediatePriority,Fe=n.unstable_UserBlockingPriority,Pe=n.unstable_NormalPriority,Je=n.unstable_LowPriority,et=n.unstable_IdlePriority,We=n.log,it=n.unstable_setDisableYieldValue,ct=null,ft=null;function gt(s){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}}function ue(s){if(typeof We=="function"&&it(s),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(ct,s)}catch{}}var Ie=Math.clz32?Math.clz32:st,yt=Math.log,le=Math.LN2;function st(s){return s>>>=0,s===0?32:31-(yt(s)/le|0)|0}var Oe=128,Ue=4194304;function rt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function dt(s,l){var p=s.pendingLanes;if(p===0)return 0;var y=0,_=s.suspendedLanes,R=s.pingedLanes,H=s.warmLanes;s=s.finishedLanes!==0;var X=p&134217727;return X!==0?(p=X&~_,p!==0?y=rt(p):(R&=X,R!==0?y=rt(R):s||(H=X&~H,H!==0&&(y=rt(H))))):(X=p&~_,X!==0?y=rt(X):R!==0?y=rt(R):s||(H=p&~H,H!==0&&(y=rt(H)))),y===0?0:l!==0&&l!==y&&(l&_)===0&&(_=y&-y,H=l&-l,_>=H||_===32&&(H&4194176)!==0)?l:y}function wt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Xt(s,l){switch(s){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fn(){var s=Oe;return Oe<<=1,(Oe&4194176)===0&&(Oe=128),s}function $t(){var s=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),s}function bi(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function Ri(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Of(s,l,p,y,_,R){var H=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var X=s.entanglements,ie=s.expirationTimes,ge=s.hiddenUpdates;for(p=H&~p;0<p;){var Ke=31-Ie(p),nt=1<<Ke;X[Ke]=0,ie[Ke]=-1;var Le=ge[Ke];if(Le!==null)for(ge[Ke]=null,Ke=0;Ke<Le.length;Ke++){var Ve=Le[Ke];Ve!==null&&(Ve.lane&=-536870913)}p&=~nt}y!==0&&cc(s,y,0),R!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=R&~(H&~l))}function cc(s,l,p){s.pendingLanes|=l,s.suspendedLanes&=~l;var y=31-Ie(l);s.entangledLanes|=l,s.entanglements[y]=s.entanglements[y]|1073741824|p&4194218}function Xa(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var y=31-Ie(p),_=1<<y;_&l|s[y]&l&&(s[y]|=l),p&=~_}}function Ma(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function hu(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:Cw(s.type))}function ps(s,l){var p=se.p;try{return se.p=s,l()}finally{se.p=p}}var Bi=Math.random().toString(36).slice(2),Si="__reactFiber$"+Bi,rn="__reactProps$"+Bi,ms="__reactContainer$"+Bi,hl="__reactEvents$"+Bi,wh="__reactListeners$"+Bi,Rh="__reactHandles$"+Bi,Bh="__reactResources$"+Bi,yo="__reactMarker$"+Bi;function uc(s){delete s[Si],delete s[rn],delete s[hl],delete s[wh],delete s[Rh]}function gs(s){var l=s[Si];if(l)return l;for(var p=s.parentNode;p;){if(l=p[ms]||p[Si]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=fw(s);s!==null;){if(p=s[Si])return p;s=fw(s)}return l}s=p,p=s.parentNode}return null}function V(s){if(s=s[Si]||s[ms]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function he(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Re(s){var l=s[Bh];return l||(l=s[Bh]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _e(s){s[yo]=!0}var ve=new Set,tt={};function pt(s,l){St(s,l),St(s+"Capture",l)}function St(s,l){for(tt[s]=l,s=0;s<l.length;s++)ve.add(l[s])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),It={},Lt={};function mn(s){return $e.call(Lt,s)?!0:$e.call(It,s)?!1:Ht.test(s)?Lt[s]=!0:(It[s]=!0,!1)}function gn(s,l,p){if(mn(l))if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+p)}}function ei(s,l,p){if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+p)}}function Mn(s,l,p,y){if(y===null)s.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(l,p,""+y)}}function Wt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ot(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ji(s){var l=Ot(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),y=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,R=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(H){y=""+H,R.call(this,H)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(H){y=""+H},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function yn(s){s._valueTracker||(s._valueTracker=ji(s))}function Fr(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),y="";return s&&(y=Ot(s)?s.checked?"true":"false":s.value),s=y,s!==p?(l.setValue(s),!0):!1}function Ea(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Cr=/[\n"\\]/g;function ir(s){return s.replace(Cr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Hn(s,l,p,y,_,R,H,X){s.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?s.type=H:s.removeAttribute("type"),l!=null?H==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Wt(l)):s.value!==""+Wt(l)&&(s.value=""+Wt(l)):H!=="submit"&&H!=="reset"||s.removeAttribute("value"),l!=null?vr(s,H,Wt(l)):p!=null?vr(s,H,Wt(p)):y!=null&&s.removeAttribute("value"),_==null&&R!=null&&(s.defaultChecked=!!R),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.name=""+Wt(X):s.removeAttribute("name")}function Tr(s,l,p,y,_,R,H,X){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.type=R),l!=null||p!=null){if(!(R!=="submit"&&R!=="reset"||l!=null))return;p=p!=null?""+Wt(p):"",l=l!=null?""+Wt(l):p,X||l===s.value||(s.value=l),s.defaultValue=l}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=X?s.checked:!!y,s.defaultChecked=!!y,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(s.name=H)}function vr(s,l,p){l==="number"&&Ea(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function Ai(s,l,p,y){if(s=s.options,l){l={};for(var _=0;_<p.length;_++)l["$"+p[_]]=!0;for(p=0;p<s.length;p++)_=l.hasOwnProperty("$"+s[p].value),s[p].selected!==_&&(s[p].selected=_),_&&y&&(s[p].defaultSelected=!0)}else{for(p=""+Wt(p),l=null,_=0;_<s.length;_++){if(s[_].value===p){s[_].selected=!0,y&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function fr(s,l,p){if(l!=null&&(l=""+Wt(l),l!==s.value&&(s.value=l),p==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=p!=null?""+Wt(p):""}function ys(s,l,p,y){if(l==null){if(y!=null){if(p!=null)throw Error(i(92));if(He(y)){if(1<y.length)throw Error(i(93));y=y[0]}p=y}p==null&&(p=""),l=p}p=Wt(l),s.defaultValue=p,y=s.textContent,y===p&&y!==""&&y!==null&&(s.value=y)}function Hr(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nf(s,l,p){var y=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":y?s.setProperty(l,p):typeof p!="number"||p===0||Dh.has(l)?l==="float"?s.cssFloat=p:s[l]=(""+p).trim():s[l]=p+"px"}function ng(s,l,p){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var _ in l)y=l[_],l.hasOwnProperty(_)&&p[_]!==y&&Nf(s,_,y)}else for(var R in l)l.hasOwnProperty(R)&&Nf(s,R,l[R])}function Uf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ov=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pf(s){return ov.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var zh=null;function If(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fc=null,dc=null;function Lh(s){var l=V(s);if(l&&(s=l.stateNode)){var p=s[rn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Hn(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ir(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var y=p[l];if(y!==s&&y.form===s.form){var _=y[rn]||null;if(!_)throw Error(i(90));Hn(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<p.length;l++)y=p[l],y.form===s.form&&Fr(y)}break e;case"textarea":fr(s,p.value,p.defaultValue);break e;case"select":l=p.value,l!=null&&Ai(s,!!p.multiple,l,!1)}}}var Oh=!1;function ig(s,l,p){if(Oh)return s(l,p);Oh=!0;try{var y=s(l);return y}finally{if(Oh=!1,(fc!==null||dc!==null)&&(Oc(),fc&&(l=fc,s=dc,dc=fc=null,Lh(l),s)))for(l=0;l<s.length;l++)Lh(s[l])}}function pu(s,l){var p=s.stateNode;if(p===null)return null;var y=p[rn]||null;if(y===null)return null;p=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(i(231,l,typeof p));return p}var kf=!1;if(xt)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){kf=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{kf=!1}var vo=null,rg=null,Nh=null;function ag(){if(Nh)return Nh;var s,l=rg,p=l.length,y,_="value"in vo?vo.value:vo.textContent,R=_.length;for(s=0;s<p&&l[s]===_[s];s++);var H=p-s;for(y=1;y<=H&&l[p-y]===_[R-y];y++);return Nh=_.slice(s,1<y?1-y:void 0)}function pl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function gu(){return!0}function Ff(){return!1}function jr(s){function l(p,y,_,R,H){this._reactName=p,this._targetInst=_,this.type=y,this.nativeEvent=R,this.target=H,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(p=s[X],this[X]=p?p(R):R[X]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?gu:Ff,this.isPropagationStopped=Ff,this}return w(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),l}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=jr(ml),vu=w({},ml,{view:0,detail:0}),lv=jr(vu),xo,xu,bu,Su=w({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bu&&(bu&&s.type==="mousemove"?(xo=s.screenX-bu.screenX,xu=s.screenY-bu.screenY):xu=xo=0,bu=s),xo)},movementY:function(s){return"movementY"in s?s.movementY:xu}}),sg=jr(Su),cv=w({},Su,{dataTransfer:0}),m_=jr(cv),xr=w({},vu,{relatedTarget:0}),Uh=jr(xr),uv=w({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),fv=jr(uv),dv=w({},ml,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),hv=jr(dv),Hf=w({},ml,{data:0}),Ph=jr(Hf),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function og(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=gv[s])?!!l[s]:!1}function jf(){return og}var yv=w({},vu,{key:function(s){if(s.key){var l=pv[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(s){return s.type==="keypress"?pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),lg=jr(yv),cg=w({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=jr(cg),vv=w({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),ug=jr(vv),xv=w({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=jr(xv),fg=w({},Su,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),g_=jr(fg),bv=w({},ml,{newState:0,oldState:0}),gl=jr(bv),So=[9,13,27,32],Gf=xt&&"CompositionEvent"in window,hc=null;xt&&"documentMode"in document&&(hc=document.documentMode);var Vf=xt&&"TextEvent"in window&&!hc,Xf=xt&&(!Gf||hc&&8<hc&&11>=hc),yl=" ",br=!1;function Wf(s,l){switch(s){case"keyup":return So.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vl=!1;function Yf(s,l){switch(s){case"compositionend":return dg(l);case"keypress":return l.which!==32?null:(br=!0,yl);case"textInput":return s=l.data,s===yl&&br?null:s;default:return null}}function hg(s,l){if(vl)return s==="compositionend"||!Gf&&Wf(s,l)?(s=ag(),Nh=rg=vo=null,vl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Xf&&l.locale!=="ko"?null:l.data;default:return null}}var kh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!kh[s.type]:l==="textarea"}function ea(s,l,p,y){fc?dc?dc.push(y):dc=[y]:fc=y,l=bx(l,"onChange"),0<l.length&&(p=new yu("onChange","change",null,p,y),s.push({event:p,listeners:l}))}var Au=null,pc=null;function Sv(s){nw(s,0)}function Kf(s){var l=he(s);if(Fr(l))return s}function Fh(s,l){if(s==="change")return l}var Hh=!1;if(xt){var jh;if(xt){var _u="oninput"in document;if(!_u){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),_u=typeof Mu.oninput=="function"}jh=_u}else jh=!1;Hh=jh&&(!document.documentMode||9<document.documentMode)}function fi(){Au&&(Au.detachEvent("onpropertychange",Av),pc=Au=null)}function Av(s){if(s.propertyName==="value"&&Kf(pc)){var l=[];ea(l,pc,s,If(s)),ig(Sv,l)}}function y_(s,l,p){s==="focusin"?(fi(),Au=l,pc=p,Au.attachEvent("onpropertychange",Av)):s==="focusout"&&fi()}function _v(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kf(pc)}function qf(s,l){if(s==="click")return Kf(l)}function xl(s,l){if(s==="input"||s==="change")return Kf(l)}function Mv(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ta=typeof Object.is=="function"?Object.is:Mv;function vs(s,l){if(ta(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),y=Object.keys(l);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!$e.call(l,_)||!ta(s[_],l[_]))return!1}return!0}function na(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mg(s,l){var p=na(s);s=0;for(var y;p;){if(p.nodeType===3){if(y=s+p.textContent.length,s<=l&&y>=l)return{node:p,offset:l-s};s=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=na(p)}}function gg(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?gg(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function yg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ea(s.document);l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=Ea(s.document)}return l}function Jf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function vg(s,l){var p=yg(l);l=s.focusedElem;var y=s.selectionRange;if(p!==l&&l&&l.ownerDocument&&gg(l.ownerDocument.documentElement,l)){if(y!==null&&Jf(l)){if(s=y.start,p=y.end,p===void 0&&(p=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(p,l.value.length);else if(p=(s=l.ownerDocument||document)&&s.defaultView||window,p.getSelection){p=p.getSelection();var _=l.textContent.length,R=Math.min(y.start,_);y=y.end===void 0?R:Math.min(y.end,_),!p.extend&&R>y&&(_=y,y=R,R=_),_=mg(l,R);var H=mg(l,y);_&&H&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==H.node||p.focusOffset!==H.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),p.removeAllRanges(),R>y?(p.addRange(s),p.extend(H.node,H.offset)):(s.setEnd(H.node,H.offset),p.addRange(s)))}}for(s=[],p=l;p=p.parentNode;)p.nodeType===1&&s.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)p=s[l],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Gh=xt&&"documentMode"in document&&11>=document.documentMode,mc=null,xg=null,Eu=null,Vh=!1;function Wa(s,l,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Vh||mc==null||mc!==Ea(y)||(y=mc,"selectionStart"in y&&Jf(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Eu&&vs(Eu,y)||(Eu=y,y=bx(xg,"onSelect"),0<y.length&&(l=new yu("onSelect","select",null,l,p),s.push({event:l,listeners:y}),l.target=mc)))}function Ao(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var gc={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},bg={},Xh={};xt&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete gc.animationend.animation,delete gc.animationiteration.animation,delete gc.animationstart.animation),"TransitionEvent"in window||delete gc.transitionend.transition);function Gi(s){if(bg[s])return bg[s];if(!gc[s])return s;var l=gc[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in Xh)return bg[s]=l[p];return s}var Sg=Gi("animationend"),ia=Gi("animationiteration"),Ag=Gi("animationstart"),_o=Gi("transitionrun"),Cu=Gi("transitionstart"),bl=Gi("transitioncancel"),Wh=Gi("transitionend"),Yh=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ya(s,l){Yh.set(s,l),pt(l,[s])}var Sr=[],Fs=0,Eo=0;function Zf(){for(var s=Fs,l=Eo=Fs=0;l<s;){var p=Sr[l];Sr[l++]=null;var y=Sr[l];Sr[l++]=null;var _=Sr[l];Sr[l++]=null;var R=Sr[l];if(Sr[l++]=null,y!==null&&_!==null){var H=y.pending;H===null?_.next=_:(_.next=H.next,H.next=_),y.pending=_}R!==0&&$f(p,_,R)}}function Qf(s,l,p,y){Sr[Fs++]=s,Sr[Fs++]=l,Sr[Fs++]=p,Sr[Fs++]=y,Eo|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function yc(s,l,p,y){return Qf(s,l,p,y),ed(s)}function Co(s,l){return Qf(s,null,null,l),ed(s)}function $f(s,l,p){s.lanes|=p;var y=s.alternate;y!==null&&(y.lanes|=p);for(var _=!1,R=s.return;R!==null;)R.childLanes|=p,y=R.alternate,y!==null&&(y.childLanes|=p),R.tag===22&&(s=R.stateNode,s===null||s._visibility&1||(_=!0)),s=R,R=R.return;_&&l!==null&&s.tag===3&&(R=s.stateNode,_=31-Ie(p),R=R.hiddenUpdates,s=R[_],s===null?R[_]=[l]:s.push(l),l.lane=p|536870912)}function ed(s){if(50<is)throw is=0,Yo=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Sl={},Kh=new WeakMap;function ra(s,l){if(typeof s=="object"&&s!==null){var p=Kh.get(s);return p!==void 0?p:(l={value:s,source:l,stack:re(l)},Kh.set(s,l),l)}return{value:s,source:l,stack:re(l)}}var vc=[],Al=0,wr=null,td=0,ti=[],Ca=0,To=null,Hs=1,wo="";function Gr(s,l){vc[Al++]=td,vc[Al++]=wr,wr=s,td=l}function _g(s,l,p){ti[Ca++]=Hs,ti[Ca++]=wo,ti[Ca++]=To,To=s;var y=Hs;s=wo;var _=32-Ie(y)-1;y&=~(1<<_),p+=1;var R=32-Ie(l)+_;if(30<R){var H=_-_%5;R=(y&(1<<H)-1).toString(32),y>>=H,_-=H,Hs=1<<32-Ie(l)+_|p<<_|y,wo=R+s}else Hs=1<<R|p<<_|y,wo=s}function nd(s){s.return!==null&&(Gr(s,1),_g(s,1,0))}function _l(s){for(;s===wr;)wr=vc[--Al],vc[Al]=null,td=vc[--Al],vc[Al]=null;for(;s===To;)To=ti[--Ca],ti[Ca]=null,wo=ti[--Ca],ti[Ca]=null,Hs=ti[--Ca],ti[Ca]=null}var Rr=null,dr=null,wn=!1,Ka=null,qa=!1,id=Error(i(519));function xc(s){var l=Error(i(418,""));throw js(ra(l,s)),id}function Ev(s){var l=s.stateNode,p=s.type,y=s.memoizedProps;switch(l[Si]=s,l[rn]=y,p){case"dialog":Bn("cancel",l),Bn("close",l);break;case"iframe":case"object":case"embed":Bn("load",l);break;case"video":case"audio":for(p=0;p<iy.length;p++)Bn(iy[p],l);break;case"source":Bn("error",l);break;case"img":case"image":case"link":Bn("error",l),Bn("load",l);break;case"details":Bn("toggle",l);break;case"input":Bn("invalid",l),Tr(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),yn(l);break;case"select":Bn("invalid",l);break;case"textarea":Bn("invalid",l),ys(l,y.value,y.defaultValue,y.children),yn(l)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||y.suppressHydrationWarning===!0||sw(l.textContent,p)?(y.popover!=null&&(Bn("beforetoggle",l),Bn("toggle",l)),y.onScroll!=null&&Bn("scroll",l),y.onScrollEnd!=null&&Bn("scrollend",l),y.onClick!=null&&(l.onclick=Sx),l=!0):l=!1,l||xc(s)}function Cv(s){for(Rr=s.return;Rr;)switch(Rr.tag){case 3:case 27:qa=!0;return;case 5:case 13:qa=!1;return;default:Rr=Rr.return}}function Tu(s){if(s!==Rr)return!1;if(!wn)return Cv(s),wn=!0,!1;var l=!1,p;if((p=s.tag!==3&&s.tag!==27)&&((p=s.tag===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||P_(s.type,s.memoizedProps)),p=!p),p&&(l=!0),l&&dr&&xc(s),Cv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(p=s.data,p==="/$"){if(l===0){dr=qo(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++;s=s.nextSibling}dr=null}}else dr=Rr?qo(s.stateNode.nextSibling):null;return!0}function wu(){dr=Rr=null,wn=!1}function js(s){Ka===null?Ka=[s]:Ka.push(s)}var Ml=Error(i(460)),Mg=Error(i(474)),qh={then:function(){}};function Tv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rd(){}function El(s,l,p){switch(p=s[p],p===void 0?s.push(l):p!==l&&(l.then(rd,rd),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,s===Ml?Error(i(483)):s;default:if(typeof l.status=="string")l.then(rd,rd);else{if(s=Yn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(y){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=y}},function(y){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,s===Ml?Error(i(483)):s}throw Ru=l,Ml}}var Ru=null;function In(){if(Ru===null)throw Error(i(459));var s=Ru;return Ru=null,s}var Cl=null,ad=0;function sd(s){var l=ad;return ad+=1,Cl===null&&(Cl=[]),El(Cl,s,l)}function od(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Jh(s,l){throw l.$$typeof===a?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function wv(s){var l=s._init;return l(s._payload)}function Rv(s){function l(be,me){if(s){var Me=be.deletions;Me===null?(be.deletions=[me],be.flags|=16):Me.push(me)}}function p(be,me){if(!s)return null;for(;me!==null;)l(be,me),me=me.sibling;return null}function y(be){for(var me=new Map;be!==null;)be.key!==null?me.set(be.key,be):me.set(be.index,be),be=be.sibling;return me}function _(be,me){return be=Yr(be,me),be.index=0,be.sibling=null,be}function R(be,me,Me){return be.index=Me,s?(Me=be.alternate,Me!==null?(Me=Me.index,Me<me?(be.flags|=33554434,me):Me):(be.flags|=33554434,me)):(be.flags|=1048576,me)}function H(be){return s&&be.alternate===null&&(be.flags|=33554434),be}function X(be,me,Me,Qe){return me===null||me.tag!==6?(me=Yi(Me,be.mode,Qe),me.return=be,me):(me=_(me,Me),me.return=be,me)}function ie(be,me,Me,Qe){var Rt=Me.type;return Rt===u?Ke(be,me,Me.props.children,Qe,Me.key):me!==null&&(me.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===z&&wv(Rt)===me.type)?(me=_(me,Me.props),od(me,Me),me.return=be,me):(me=Vu(Me.type,Me.key,Me.props,null,be.mode,Qe),od(me,Me),me.return=be,me)}function ge(be,me,Me,Qe){return me===null||me.tag!==4||me.stateNode.containerInfo!==Me.containerInfo||me.stateNode.implementation!==Me.implementation?(me=xd(Me,be.mode,Qe),me.return=be,me):(me=_(me,Me.children||[]),me.return=be,me)}function Ke(be,me,Me,Qe,Rt){return me===null||me.tag!==7?(me=Xl(Me,be.mode,Qe,Rt),me.return=be,me):(me=_(me,Me),me.return=be,me)}function nt(be,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Yi(""+me,be.mode,Me),me.return=be,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case o:return Me=Vu(me.type,me.key,me.props,null,be.mode,Me),od(Me,me),Me.return=be,Me;case c:return me=xd(me,be.mode,Me),me.return=be,me;case z:var Qe=me._init;return me=Qe(me._payload),nt(be,me,Me)}if(He(me)||U(me))return me=Xl(me,be.mode,Me,null),me.return=be,me;if(typeof me.then=="function")return nt(be,sd(me),Me);if(me.$$typeof===b)return nt(be,hp(be,me),Me);Jh(be,me)}return null}function Le(be,me,Me,Qe){var Rt=me!==null?me.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Rt!==null?null:X(be,me,""+Me,Qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case o:return Me.key===Rt?ie(be,me,Me,Qe):null;case c:return Me.key===Rt?ge(be,me,Me,Qe):null;case z:return Rt=Me._init,Me=Rt(Me._payload),Le(be,me,Me,Qe)}if(He(Me)||U(Me))return Rt!==null?null:Ke(be,me,Me,Qe,null);if(typeof Me.then=="function")return Le(be,me,sd(Me),Qe);if(Me.$$typeof===b)return Le(be,me,hp(be,Me),Qe);Jh(be,Me)}return null}function Ve(be,me,Me,Qe,Rt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return be=be.get(Me)||null,X(me,be,""+Qe,Rt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case o:return be=be.get(Qe.key===null?Me:Qe.key)||null,ie(me,be,Qe,Rt);case c:return be=be.get(Qe.key===null?Me:Qe.key)||null,ge(me,be,Qe,Rt);case z:var xn=Qe._init;return Qe=xn(Qe._payload),Ve(be,me,Me,Qe,Rt)}if(He(Qe)||U(Qe))return be=be.get(Me)||null,Ke(me,be,Qe,Rt,null);if(typeof Qe.then=="function")return Ve(be,me,Me,sd(Qe),Rt);if(Qe.$$typeof===b)return Ve(be,me,Me,hp(me,Qe),Rt);Jh(me,Qe)}return null}function zt(be,me,Me,Qe){for(var Rt=null,xn=null,Nt=me,Gt=me=0,Ur=null;Nt!==null&&Gt<Me.length;Gt++){Nt.index>Gt?(Ur=Nt,Nt=null):Ur=Nt.sibling;var kn=Le(be,Nt,Me[Gt],Qe);if(kn===null){Nt===null&&(Nt=Ur);break}s&&Nt&&kn.alternate===null&&l(be,Nt),me=R(kn,me,Gt),xn===null?Rt=kn:xn.sibling=kn,xn=kn,Nt=Ur}if(Gt===Me.length)return p(be,Nt),wn&&Gr(be,Gt),Rt;if(Nt===null){for(;Gt<Me.length;Gt++)Nt=nt(be,Me[Gt],Qe),Nt!==null&&(me=R(Nt,me,Gt),xn===null?Rt=Nt:xn.sibling=Nt,xn=Nt);return wn&&Gr(be,Gt),Rt}for(Nt=y(Nt);Gt<Me.length;Gt++)Ur=Ve(Nt,be,Gt,Me[Gt],Qe),Ur!==null&&(s&&Ur.alternate!==null&&Nt.delete(Ur.key===null?Gt:Ur.key),me=R(Ur,me,Gt),xn===null?Rt=Ur:xn.sibling=Ur,xn=Ur);return s&&Nt.forEach(function($u){return l(be,$u)}),wn&&Gr(be,Gt),Rt}function Zt(be,me,Me,Qe){if(Me==null)throw Error(i(151));for(var Rt=null,xn=null,Nt=me,Gt=me=0,Ur=null,kn=Me.next();Nt!==null&&!kn.done;Gt++,kn=Me.next()){Nt.index>Gt?(Ur=Nt,Nt=null):Ur=Nt.sibling;var $u=Le(be,Nt,kn.value,Qe);if($u===null){Nt===null&&(Nt=Ur);break}s&&Nt&&$u.alternate===null&&l(be,Nt),me=R($u,me,Gt),xn===null?Rt=$u:xn.sibling=$u,xn=$u,Nt=Ur}if(kn.done)return p(be,Nt),wn&&Gr(be,Gt),Rt;if(Nt===null){for(;!kn.done;Gt++,kn=Me.next())kn=nt(be,kn.value,Qe),kn!==null&&(me=R(kn,me,Gt),xn===null?Rt=kn:xn.sibling=kn,xn=kn);return wn&&Gr(be,Gt),Rt}for(Nt=y(Nt);!kn.done;Gt++,kn=Me.next())kn=Ve(Nt,be,Gt,kn.value,Qe),kn!==null&&(s&&kn.alternate!==null&&Nt.delete(kn.key===null?Gt:kn.key),me=R(kn,me,Gt),xn===null?Rt=kn:xn.sibling=kn,xn=kn);return s&&Nt.forEach(function(PP){return l(be,PP)}),wn&&Gr(be,Gt),Rt}function Ji(be,me,Me,Qe){if(typeof Me=="object"&&Me!==null&&Me.type===u&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case o:e:{for(var Rt=Me.key;me!==null;){if(me.key===Rt){if(Rt=Me.type,Rt===u){if(me.tag===7){p(be,me.sibling),Qe=_(me,Me.props.children),Qe.return=be,be=Qe;break e}}else if(me.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===z&&wv(Rt)===me.type){p(be,me.sibling),Qe=_(me,Me.props),od(Qe,Me),Qe.return=be,be=Qe;break e}p(be,me);break}else l(be,me);me=me.sibling}Me.type===u?(Qe=Xl(Me.props.children,be.mode,Qe,Me.key),Qe.return=be,be=Qe):(Qe=Vu(Me.type,Me.key,Me.props,null,be.mode,Qe),od(Qe,Me),Qe.return=be,be=Qe)}return H(be);case c:e:{for(Rt=Me.key;me!==null;){if(me.key===Rt)if(me.tag===4&&me.stateNode.containerInfo===Me.containerInfo&&me.stateNode.implementation===Me.implementation){p(be,me.sibling),Qe=_(me,Me.children||[]),Qe.return=be,be=Qe;break e}else{p(be,me);break}else l(be,me);me=me.sibling}Qe=xd(Me,be.mode,Qe),Qe.return=be,be=Qe}return H(be);case z:return Rt=Me._init,Me=Rt(Me._payload),Ji(be,me,Me,Qe)}if(He(Me))return zt(be,me,Me,Qe);if(U(Me)){if(Rt=U(Me),typeof Rt!="function")throw Error(i(150));return Me=Rt.call(Me),Zt(be,me,Me,Qe)}if(typeof Me.then=="function")return Ji(be,me,sd(Me),Qe);if(Me.$$typeof===b)return Ji(be,me,hp(be,Me),Qe);Jh(be,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,me!==null&&me.tag===6?(p(be,me.sibling),Qe=_(me,Me),Qe.return=be,be=Qe):(p(be,me),Qe=Yi(Me,be.mode,Qe),Qe.return=be,be=Qe),H(be)):p(be,me)}return function(be,me,Me,Qe){try{ad=0;var Rt=Ji(be,me,Me,Qe);return Cl=null,Rt}catch(Nt){if(Nt===Ml)throw Nt;var xn=Pi(29,Nt,null,be.mode);return xn.lanes=Qe,xn.return=be,xn}finally{}}}var Ro=Rv(!0),Bo=Rv(!1),bc=Ge(null),Sc=Ge(0);function Tl(s,l){s=Wo,Ze(Sc,s),Ze(bc,l),Wo=s|l.baseLanes}function Zh(){Ze(Sc,Wo),Ze(bc,bc.current)}function ld(){Wo=Sc.current,vt(bc),vt(Sc)}var aa=Ge(null),Gs=null;function Do(s){var l=s.alternate;Ze(Vi,Vi.current&1),Ze(aa,s),Gs===null&&(l===null||bc.current!==null||l.memoizedState!==null)&&(Gs=s)}function Eg(s){if(s.tag===22){if(Ze(Vi,Vi.current),Ze(aa,s),Gs===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Gs=s)}}else zo()}function zo(){Ze(Vi,Vi.current),Ze(aa,aa.current)}function Vs(s){vt(aa),Gs===s&&(Gs=null),vt(Vi)}var Vi=Ge(0);function Bu(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var fn=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(p,y){s.push(y)}};this.abort=function(){l.aborted=!0,s.forEach(function(p){return p()})}},v_=n.unstable_scheduleCallback,Ta=n.unstable_NormalPriority,Di={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cg(){return{controller:new fn,data:new Map,refCount:0}}function wl(s){s.refCount--,s.refCount===0&&v_(Ta,function(){s.controller.abort()})}var Xs=null,Rl=0,Ac=0,Bl=null;function x_(s,l){if(Xs===null){var p=Xs=[];Rl=0,Ac=w_(),Bl={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Rl++,l.then(Tg,Tg),l}function Tg(){if(--Rl===0&&Xs!==null){Bl!==null&&(Bl.status="fulfilled");var s=Xs;Xs=null,Ac=0,Bl=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Dl(s,l){var p=[],y={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return s.then(function(){y.status="fulfilled",y.value=l;for(var _=0;_<p.length;_++)(0,p[_])(l)},function(_){for(y.status="rejected",y.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),y}var Qh=P.S;P.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&x_(s,l),Qh!==null&&Qh(s,l)};var Lo=Ge(null);function cd(){var s=Lo.current;return s!==null?s:Yn.pooledCache}function Du(s,l){l===null?Ze(Lo,Lo.current):Ze(Lo,l.pool)}function Oo(){var s=cd();return s===null?null:{parent:Di._currentValue,pool:s}}var No=0,an=null,jn=null,Xi=null,jt=!1,zl=!1,Ll=!1,zu=0,Ol=0,Lu=null,b_=0;function _i(){throw Error(i(321))}function _c(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!ta(s[p],l[p]))return!1;return!0}function wg(s,l,p,y,_,R){return No=R,an=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,P.H=s===null||s.memoizedState===null?Ul:Po,Ll=!1,R=p(y,_),Ll=!1,zl&&(R=Dv(l,p,y,_)),Bv(s),R}function Bv(s){P.H=Ys;var l=jn!==null&&jn.next!==null;if(No=0,Xi=jn=an=null,jt=!1,Ol=0,Lu=null,l)throw Error(i(300));s===null||rr||(s=s.dependencies,s!==null&&Iu(s)&&(rr=!0))}function Dv(s,l,p,y){an=s;var _=0;do{if(zl&&(Lu=null),Ol=0,zl=!1,25<=_)throw Error(i(301));if(_+=1,Xi=jn=null,s.updateQueue!=null){var R=s.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}P.H=Cc,R=l(p,y)}while(zl);return R}function S_(){var s=P.H,l=s.useState()[0];return l=typeof l.then=="function"?fd(l):l,s=s.useState()[0],(jn!==null?jn.memoizedState:null)!==s&&(an.flags|=1024),l}function Rg(){var s=zu!==0;return zu=0,s}function ud(s,l,p){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~p}function $h(s){if(jt){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}jt=!1}No=0,Xi=jn=an=null,zl=!1,Ol=zu=0,Lu=null}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?an.memoizedState=Xi=s:Xi=Xi.next=s,Xi}function zi(){if(jn===null){var s=an.alternate;s=s!==null?s.memoizedState:null}else s=jn.next;var l=Xi===null?an.memoizedState:Xi.next;if(l!==null)Xi=l,jn=s;else{if(s===null)throw an.alternate===null?Error(i(467)):Error(i(310));jn=s,s={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Xi===null?an.memoizedState=Xi=s:Xi=Xi.next=s}return Xi}var ep;ep=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fd(s){var l=Ol;return Ol+=1,Lu===null&&(Lu=[]),s=El(Lu,s,l),l=an,(Xi===null?l.memoizedState:Xi.next)===null&&(l=l.alternate,P.H=l===null||l.memoizedState===null?Ul:Po),s}function Ou(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return fd(s);if(s.$$typeof===b)return Br(s)}throw Error(i(438,String(s)))}function xs(s){var l=null,p=an.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var y=an.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=ep(),an.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(s),y=0;y<s;y++)p[y]=L;return l.index++,p}function di(s,l){return typeof l=="function"?l(s):l}function bs(s){var l=zi();return sa(l,jn,s)}function sa(s,l,p){var y=s.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=p;var _=s.baseQueue,R=y.pending;if(R!==null){if(_!==null){var H=_.next;_.next=R.next,R.next=H}l.baseQueue=_=R,y.pending=null}if(R=s.baseState,_===null)s.memoizedState=R;else{l=_.next;var X=H=null,ie=null,ge=l,Ke=!1;do{var nt=ge.lane&-536870913;if(nt!==ge.lane?(Ut&nt)===nt:(No&nt)===nt){var Le=ge.revertLane;if(Le===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),nt===Ac&&(Ke=!0);else if((No&Le)===Le){ge=ge.next,Le===Ac&&(Ke=!0);continue}else nt={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(X=ie=nt,H=R):ie=ie.next=nt,an.lanes|=Le,Ts|=Le;nt=ge.action,Ll&&p(R,nt),R=ge.hasEagerState?ge.eagerState:p(R,nt)}else Le={lane:nt,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},ie===null?(X=ie=Le,H=R):ie=ie.next=Le,an.lanes|=nt,Ts|=nt;ge=ge.next}while(ge!==null&&ge!==l);if(ie===null?H=R:ie.next=X,!ta(R,s.memoizedState)&&(rr=!0,Ke&&(p=Bl,p!==null)))throw p;s.memoizedState=R,s.baseState=H,s.baseQueue=ie,y.lastRenderedState=R}return _===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function tp(s){var l=zi(),p=l.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=s;var y=p.dispatch,_=p.pending,R=l.memoizedState;if(_!==null){p.pending=null;var H=_=_.next;do R=s(R,H.action),H=H.next;while(H!==_);ta(R,l.memoizedState)||(rr=!0),l.memoizedState=R,l.baseQueue===null&&(l.baseState=R),p.lastRenderedState=R}return[R,y]}function zv(s,l,p){var y=an,_=zi(),R=wn;if(R){if(p===void 0)throw Error(i(407));p=p()}else p=l();var H=!ta((jn||_).memoizedState,p);if(H&&(_.memoizedState=p,rr=!0),_=_.queue,Lg(Lv.bind(null,y,_,s),[s]),_.getSnapshot!==l||H||Xi!==null&&Xi.memoizedState.tag&1){if(y.flags|=2048,Ws(9,Nl.bind(null,y,_,p,l),{destroy:void 0},null),Yn===null)throw Error(i(349));R||(No&60)!==0||Vr(y,l,p)}return p}function Vr(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=an.updateQueue,l===null?(l=ep(),an.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function Nl(s,l,p,y){l.value=p,l.getSnapshot=y,Ov(l)&&Nv(s)}function Lv(s,l,p){return p(function(){Ov(l)&&Nv(s)})}function Ov(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!ta(s,p)}catch{return!0}}function Nv(s){var l=Co(s,2);l!==null&&qi(l,s,2)}function Bg(s){var l=Ar();if(typeof s=="function"){var p=s;if(s=p(),Ll){ue(!0);try{p()}finally{ue(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:s},l}function Dg(s,l,p,y){return s.baseState=p,sa(s,jn,typeof y=="function"?y:di)}function A_(s,l,p,y,_){if(sp(s))throw Error(i(485));if(s=l.action,s!==null){var R={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){R.listeners.push(H)}};P.T!==null?p(!0):R.isTransition=!1,y(R),p=l.pending,p===null?(R.next=l.pending=R,zg(l,R)):(R.next=p.next,l.pending=p.next=R)}}function zg(s,l){var p=l.action,y=l.payload,_=s.state;if(l.isTransition){var R=P.T,H={};P.T=H;try{var X=p(_,y),ie=P.S;ie!==null&&ie(H,X),Uv(s,l,X)}catch(ge){Uo(s,l,ge)}finally{P.T=R}}else try{R=p(_,y),Uv(s,l,R)}catch(ge){Uo(s,l,ge)}}function Uv(s,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){Mc(s,l,y)},function(y){return Uo(s,l,y)}):Mc(s,l,p)}function Mc(s,l,p){l.status="fulfilled",l.value=p,Pv(l),s.state=p,l=s.pending,l!==null&&(p=l.next,p===l?s.pending=null:(p=p.next,l.next=p,zg(s,p)))}function Uo(s,l,p){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=p,Pv(l),l=l.next;while(l!==y)}s.action=null}function Pv(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Iv(s,l){return l}function kv(s,l){if(wn){var p=Yn.formState;if(p!==null){e:{var y=an;if(wn){if(dr){t:{for(var _=dr,R=qa;_.nodeType!==8;){if(!R){_=null;break t}if(_=qo(_.nextSibling),_===null){_=null;break t}}R=_.data,_=R==="F!"||R==="F"?_:null}if(_){dr=qo(_.nextSibling),y=_.data==="F!";break e}}xc(y)}y=!1}y&&(l=p[0])}}return p=Ar(),p.memoizedState=p.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iv,lastRenderedState:l},p.queue=y,p=Pg.bind(null,an,y),y.dispatch=p,y=Bg(!1),R=dd.bind(null,an,!1,y.queue),y=Ar(),_={state:l,dispatch:null,action:s,pending:null},y.queue=_,p=A_.bind(null,an,_,R,p),_.dispatch=p,y.memoizedState=s,[l,p,!1]}function Nu(s){var l=zi();return Fv(l,jn,s)}function Fv(s,l,p){l=sa(s,l,Iv)[0],s=bs(di)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?fd(l):l;var y=zi(),_=y.queue,R=_.dispatch;return p!==y.memoizedState&&(an.flags|=2048,Ws(9,__.bind(null,_,p),{destroy:void 0},null)),[l,R,s]}function __(s,l){s.action=l}function Hv(s){var l=zi(),p=jn;if(p!==null)return Fv(l,p,s);zi(),l=l.memoizedState,p=zi();var y=p.queue.dispatch;return p.memoizedState=s,[l,y,!1]}function Ws(s,l,p,y){return s={tag:s,create:l,inst:p,deps:y,next:null},l=an.updateQueue,l===null&&(l=ep(),an.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=s.next=s:(y=p.next,p.next=s,s.next=y,l.lastEffect=s),s}function jv(){return zi().memoizedState}function np(s,l,p,y){var _=Ar();an.flags|=s,_.memoizedState=Ws(1|l,p,{destroy:void 0},y===void 0?null:y)}function ip(s,l,p,y){var _=zi();y=y===void 0?null:y;var R=_.memoizedState.inst;jn!==null&&y!==null&&_c(y,jn.memoizedState.deps)?_.memoizedState=Ws(l,p,R,y):(an.flags|=s,_.memoizedState=Ws(1|l,p,R,y))}function Gv(s,l){np(8390656,8,s,l)}function Lg(s,l){ip(2048,8,s,l)}function Vv(s,l){return ip(4,2,s,l)}function Xv(s,l){return ip(4,4,s,l)}function Wv(s,l){if(typeof l=="function"){s=s();var p=l(s);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Yv(s,l,p){p=p!=null?p.concat([s]):null,ip(4,4,Wv.bind(null,l,s),p)}function Og(){}function Kv(s,l){var p=zi();l=l===void 0?null:l;var y=p.memoizedState;return l!==null&&_c(l,y[1])?y[0]:(p.memoizedState=[s,l],s)}function qv(s,l){var p=zi();l=l===void 0?null:l;var y=p.memoizedState;if(l!==null&&_c(l,y[1]))return y[0];if(y=s(),Ll){ue(!0);try{s()}finally{ue(!1)}}return p.memoizedState=[y,l],y}function rp(s,l,p){return p===void 0||(No&1073741824)!==0?s.memoizedState=l:(s.memoizedState=p,s=za(),an.lanes|=s,Ts|=s,p)}function Jv(s,l,p,y){return ta(p,l)?p:bc.current!==null?(s=rp(s,p,y),ta(s,l)||(rr=!0),s):(No&42)===0?(rr=!0,s.memoizedState=p):(s=za(),an.lanes|=s,Ts|=s,l)}function Zv(s,l,p,y,_){var R=se.p;se.p=R!==0&&8>R?R:8;var H=P.T,X={};P.T=X,dd(s,!1,l,p);try{var ie=_(),ge=P.S;if(ge!==null&&ge(X,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ke=Dl(ie,y);Ec(s,l,Ke,qr(s))}else Ec(s,l,y,qr(s))}catch(nt){Ec(s,l,{then:function(){},status:"rejected",reason:nt},qr())}finally{se.p=R,P.T=H}}function M_(){}function Ng(s,l,p,y){if(s.tag!==5)throw Error(i(476));var _=Qv(s).queue;Zv(s,_,l,we,p===null?M_:function(){return $v(s),p(y)})}function Qv(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:we},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:p},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function $v(s){var l=Qv(s).next.queue;Ec(s,l,{},qr())}function ap(){return Br(ly)}function Ug(){return zi().memoizedState}function ex(){return zi().memoizedState}function tx(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var p=qr();s=Ba(p);var y=Da(l,s,p);y!==null&&(qi(y,l,p),kl(y,l,p)),l={cache:Cg()},s.payload=l;return}l=l.return}}function nx(s,l,p){var y=qr();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},sp(s)?ix(l,p):(p=yc(s,l,p,y),p!==null&&(qi(p,s,y),rx(p,l,y)))}function Pg(s,l,p){var y=qr();Ec(s,l,p,y)}function Ec(s,l,p,y){var _={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(sp(s))ix(l,_);else{var R=s.alternate;if(s.lanes===0&&(R===null||R.lanes===0)&&(R=l.lastRenderedReducer,R!==null))try{var H=l.lastRenderedState,X=R(H,p);if(_.hasEagerState=!0,_.eagerState=X,ta(X,H))return Qf(s,l,_,0),Yn===null&&Zf(),!1}catch{}finally{}if(p=yc(s,l,_,y),p!==null)return qi(p,s,y),rx(p,l,y),!0}return!1}function dd(s,l,p,y){if(y={lane:2,revertLane:w_(),action:y,hasEagerState:!1,eagerState:null,next:null},sp(s)){if(l)throw Error(i(479))}else l=yc(s,p,y,2),l!==null&&qi(l,s,2)}function sp(s){var l=s.alternate;return s===an||l!==null&&l===an}function ix(s,l){zl=jt=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function rx(s,l,p){if((p&4194176)!==0){var y=l.lanes;y&=s.pendingLanes,p|=y,l.lanes=p,Xa(s,p)}}var Ys={readContext:Br,use:Ou,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i};Ys.useCacheRefresh=_i,Ys.useMemoCache=_i,Ys.useHostTransitionStatus=_i,Ys.useFormState=_i,Ys.useActionState=_i,Ys.useOptimistic=_i;var Ul={readContext:Br,use:Ou,useCallback:function(s,l){return Ar().memoizedState=[s,l===void 0?null:l],s},useContext:Br,useEffect:Gv,useImperativeHandle:function(s,l,p){p=p!=null?p.concat([s]):null,np(4194308,4,Wv.bind(null,l,s),p)},useLayoutEffect:function(s,l){return np(4194308,4,s,l)},useInsertionEffect:function(s,l){np(4,2,s,l)},useMemo:function(s,l){var p=Ar();l=l===void 0?null:l;var y=s();if(Ll){ue(!0);try{s()}finally{ue(!1)}}return p.memoizedState=[y,l],y},useReducer:function(s,l,p){var y=Ar();if(p!==void 0){var _=p(l);if(Ll){ue(!0);try{p(l)}finally{ue(!1)}}}else _=l;return y.memoizedState=y.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},y.queue=s,s=s.dispatch=nx.bind(null,an,s),[y.memoizedState,s]},useRef:function(s){var l=Ar();return s={current:s},l.memoizedState=s},useState:function(s){s=Bg(s);var l=s.queue,p=Pg.bind(null,an,l);return l.dispatch=p,[s.memoizedState,p]},useDebugValue:Og,useDeferredValue:function(s,l){var p=Ar();return rp(p,s,l)},useTransition:function(){var s=Bg(!1);return s=Zv.bind(null,an,s.queue,!0,!1),Ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,p){var y=an,_=Ar();if(wn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=l(),Yn===null)throw Error(i(349));(Ut&60)!==0||Vr(y,l,p)}_.memoizedState=p;var R={value:p,getSnapshot:l};return _.queue=R,Gv(Lv.bind(null,y,R,s),[s]),y.flags|=2048,Ws(9,Nl.bind(null,y,R,p,l),{destroy:void 0},null),p},useId:function(){var s=Ar(),l=Yn.identifierPrefix;if(wn){var p=wo,y=Hs;p=(y&~(1<<32-Ie(y)-1)).toString(32)+p,l=":"+l+"R"+p,p=zu++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=b_++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},useCacheRefresh:function(){return Ar().memoizedState=tx.bind(null,an)}};Ul.useMemoCache=xs,Ul.useHostTransitionStatus=ap,Ul.useFormState=kv,Ul.useActionState=kv,Ul.useOptimistic=function(s){var l=Ar();l.memoizedState=l.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=dd.bind(null,an,!0,p),p.dispatch=l,[s,l]};var Po={readContext:Br,use:Ou,useCallback:Kv,useContext:Br,useEffect:Lg,useImperativeHandle:Yv,useInsertionEffect:Vv,useLayoutEffect:Xv,useMemo:qv,useReducer:bs,useRef:jv,useState:function(){return bs(di)},useDebugValue:Og,useDeferredValue:function(s,l){var p=zi();return Jv(p,jn.memoizedState,s,l)},useTransition:function(){var s=bs(di)[0],l=zi().memoizedState;return[typeof s=="boolean"?s:fd(s),l]},useSyncExternalStore:zv,useId:Ug};Po.useCacheRefresh=ex,Po.useMemoCache=xs,Po.useHostTransitionStatus=ap,Po.useFormState=Nu,Po.useActionState=Nu,Po.useOptimistic=function(s,l){var p=zi();return Dg(p,jn,s,l)};var Cc={readContext:Br,use:Ou,useCallback:Kv,useContext:Br,useEffect:Lg,useImperativeHandle:Yv,useInsertionEffect:Vv,useLayoutEffect:Xv,useMemo:qv,useReducer:tp,useRef:jv,useState:function(){return tp(di)},useDebugValue:Og,useDeferredValue:function(s,l){var p=zi();return jn===null?rp(p,s,l):Jv(p,jn.memoizedState,s,l)},useTransition:function(){var s=tp(di)[0],l=zi().memoizedState;return[typeof s=="boolean"?s:fd(s),l]},useSyncExternalStore:zv,useId:Ug};Cc.useCacheRefresh=ex,Cc.useMemoCache=xs,Cc.useHostTransitionStatus=ap,Cc.useFormState=Hv,Cc.useActionState=Hv,Cc.useOptimistic=function(s,l){var p=zi();return jn!==null?Dg(p,jn,s,l):(p.baseState=s,[s,p.queue.dispatch])};function Ig(s,l,p,y){l=s.memoizedState,p=p(y,l),p=p==null?l:w({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var kg={isMounted:function(s){return(s=s._reactInternals)?Q(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var y=qr(),_=Ba(y);_.payload=l,p!=null&&(_.callback=p),l=Da(s,_,y),l!==null&&(qi(l,s,y),kl(l,s,y))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var y=qr(),_=Ba(y);_.tag=1,_.payload=l,p!=null&&(_.callback=p),l=Da(s,_,y),l!==null&&(qi(l,s,y),kl(l,s,y))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=qr(),y=Ba(p);y.tag=2,l!=null&&(y.callback=l),l=Da(s,y,p),l!==null&&(qi(l,s,p),kl(l,s,p))}};function ax(s,l,p,y,_,R,H){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,R,H):l.prototype&&l.prototype.isPureReactComponent?!vs(p,y)||!vs(_,R):!0}function sx(s,l,p,y){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,y),l.state!==s&&kg.enqueueReplaceState(l,l.state,null)}function Tc(s,l){var p=l;if("ref"in l){p={};for(var y in l)y!=="ref"&&(p[y]=l[y])}if(s=s.defaultProps){p===l&&(p=w({},p));for(var _ in s)p[_]===void 0&&(p[_]=s[_])}return p}var op=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ox(s){op(s)}function lx(s){console.error(s)}function cx(s){op(s)}function lp(s,l){try{var p=s.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function ux(s,l,p){try{var y=s.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Fg(s,l,p){return p=Ba(p),p.tag=3,p.payload={element:null},p.callback=function(){lp(s,l)},p}function Hg(s){return s=Ba(s),s.tag=3,s}function fx(s,l,p,y){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var R=y.value;s.payload=function(){return _(R)},s.callback=function(){ux(l,p,y)}}var H=p.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(s.callback=function(){ux(l,p,y),typeof _!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var X=y.stack;this.componentDidCatch(y.value,{componentStack:X!==null?X:""})})}function E_(s,l,p,y,_){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=p.alternate,l!==null&&pd(l,p,_,!0),p=aa.current,p!==null){switch(p.tag){case 13:return Gs===null?Ad():p.alternate===null&&oi===0&&(oi=3),p.flags&=-257,p.flags|=65536,p.lanes=_,y===qh?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([y]):l.add(y),Jt(s,y,_)),!1;case 22:return p.flags|=65536,y===qh?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([y]):p.add(y)),Jt(s,y,_)),!1}throw Error(i(435,p.tag))}return Jt(s,y,_),Ad(),!1}if(wn)return l=aa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,y!==id&&(s=Error(i(422),{cause:y}),js(ra(s,p)))):(y!==id&&(l=Error(i(423),{cause:y}),js(ra(l,p))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,y=ra(y,p),_=Fg(s.stateNode,y,_),Fu(s,_),oi!==4&&(oi=2)),!1;var R=Error(i(520),{cause:y});if(R=ra(R,p),Sd===null?Sd=[R]:Sd.push(R),oi!==4&&(oi=2),l===null)return!0;y=ra(y,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,s=_&-_,p.lanes|=s,s=Fg(p.stateNode,y,s),Fu(p,s),!1;case 1:if(l=p.type,R=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ki===null||!Ki.has(R))))return p.flags|=65536,_&=-_,p.lanes|=_,_=Hg(_),fx(_,s,p,y),Fu(p,_),!1}p=p.return}while(p!==null);return!1}var wa=Error(i(461)),rr=!1;function ar(s,l,p,y){l.child=s===null?Bo(l,null,p,y):Ro(l,s.child,p,y)}function jg(s,l,p,y,_){p=p.render;var R=l.ref;if("ref"in y){var H={};for(var X in y)X!=="ref"&&(H[X]=y[X])}else H=y;return Rc(l),y=wg(s,l,p,H,R,_),X=Rg(),s!==null&&!rr?(ud(s,l,_),Li(s,l,_)):(wn&&X&&nd(l),l.flags|=1,ar(s,l,y,_),l.child)}function Gg(s,l,p,y,_){if(s===null){var R=p.type;return typeof R=="function"&&!Vo(R)&&R.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=R,Vg(s,l,R,y,_)):(s=Vu(p.type,null,y,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(R=s.child,!Zg(s,_)){var H=R.memoizedProps;if(p=p.compare,p=p!==null?p:vs,p(H,y)&&s.ref===l.ref)return Li(s,l,_)}return l.flags|=1,s=Yr(R,y),s.ref=l.ref,s.return=l,l.child=s}function Vg(s,l,p,y,_){if(s!==null){var R=s.memoizedProps;if(vs(R,y)&&s.ref===l.ref)if(rr=!1,l.pendingProps=y=R,Zg(s,_))(s.flags&131072)!==0&&(rr=!0);else return l.lanes=s.lanes,Li(s,l,_)}return Wg(s,l,p,y,_)}function dx(s,l,p){var y=l.pendingProps,_=y.children,R=(l.stateNode._pendingVisibility&2)!==0,H=s!==null?s.memoizedState:null;if(Uu(s,l),y.mode==="hidden"||R){if((l.flags&128)!==0){if(y=H!==null?H.baseLanes|p:p,s!==null){for(_=l.child=s.child,R=0;_!==null;)R=R|_.lanes|_.childLanes,_=_.sibling;l.childLanes=R&~y}else l.childLanes=0,l.child=null;return Xg(s,l,y,p)}if((p&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Du(l,H!==null?H.cachePool:null),H!==null?Tl(l,H):Zh(),Eg(l);else return l.lanes=l.childLanes=536870912,Xg(s,l,H!==null?H.baseLanes|p:p,p)}else H!==null?(Du(l,H.cachePool),Tl(l,H),zo(),l.memoizedState=null):(s!==null&&Du(l,null),Zh(),zo());return ar(s,l,_,p),l.child}function Xg(s,l,p,y){var _=cd();return _=_===null?null:{parent:Di._currentValue,pool:_},l.memoizedState={baseLanes:p,cachePool:_},s!==null&&Du(l,null),Zh(),Eg(l),s!==null&&pd(s,l,y,!0),null}function Uu(s,l){var p=l.ref;if(p===null)s!==null&&s.ref!==null&&(l.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(s===null||s.ref!==p)&&(l.flags|=2097664)}}function Wg(s,l,p,y,_){return Rc(l),p=wg(s,l,p,y,void 0,_),y=Rg(),s!==null&&!rr?(ud(s,l,_),Li(s,l,_)):(wn&&y&&nd(l),l.flags|=1,ar(s,l,p,_),l.child)}function hx(s,l,p,y,_,R){return Rc(l),l.updateQueue=null,p=Dv(l,y,p,_),Bv(s),y=Rg(),s!==null&&!rr?(ud(s,l,R),Li(s,l,R)):(wn&&y&&nd(l),l.flags|=1,ar(s,l,p,R),l.child)}function px(s,l,p,y,_){if(Rc(l),l.stateNode===null){var R=Sl,H=p.contextType;typeof H=="object"&&H!==null&&(R=Br(H)),R=new p(y,R),l.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=kg,l.stateNode=R,R._reactInternals=l,R=l.stateNode,R.props=y,R.state=l.memoizedState,R.refs={},Xr(l),H=p.contextType,R.context=typeof H=="object"&&H!==null?Br(H):Sl,R.state=l.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(Ig(l,p,H,y),R.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(H=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),H!==R.state&&kg.enqueueReplaceState(R,R.state,null),As(l,y,R,_),Dr(),R.state=l.memoizedState),typeof R.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(s===null){R=l.stateNode;var X=l.memoizedProps,ie=Tc(p,X);R.props=ie;var ge=R.context,Ke=p.contextType;H=Sl,typeof Ke=="object"&&Ke!==null&&(H=Br(Ke));var nt=p.getDerivedStateFromProps;Ke=typeof nt=="function"||typeof R.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Ke||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X||ge!==H)&&sx(l,R,y,H),Wi=!1;var Le=l.memoizedState;R.state=Le,As(l,y,R,_),Dr(),ge=l.memoizedState,X||Le!==ge||Wi?(typeof nt=="function"&&(Ig(l,p,nt,y),ge=l.memoizedState),(ie=Wi||ax(l,p,ie,y,Le,ge,H))?(Ke||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(l.flags|=4194308)):(typeof R.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=ge),R.props=y,R.state=ge,R.context=H,y=ie):(typeof R.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{R=l.stateNode,pp(s,l),H=l.memoizedProps,Ke=Tc(p,H),R.props=Ke,nt=l.pendingProps,Le=R.context,ge=p.contextType,ie=Sl,typeof ge=="object"&&ge!==null&&(ie=Br(ge)),X=p.getDerivedStateFromProps,(ge=typeof X=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(H!==nt||Le!==ie)&&sx(l,R,y,ie),Wi=!1,Le=l.memoizedState,R.state=Le,As(l,y,R,_),Dr();var Ve=l.memoizedState;H!==nt||Le!==Ve||Wi||s!==null&&s.dependencies!==null&&Iu(s.dependencies)?(typeof X=="function"&&(Ig(l,p,X,y),Ve=l.memoizedState),(Ke=Wi||ax(l,p,Ke,y,Le,Ve,ie)||s!==null&&s.dependencies!==null&&Iu(s.dependencies))?(ge||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,Ve,ie),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,Ve,ie)),typeof R.componentDidUpdate=="function"&&(l.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof R.componentDidUpdate!="function"||H===s.memoizedProps&&Le===s.memoizedState||(l.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Le===s.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Ve),R.props=y,R.state=Ve,R.context=ie,y=Ke):(typeof R.componentDidUpdate!="function"||H===s.memoizedProps&&Le===s.memoizedState||(l.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&Le===s.memoizedState||(l.flags|=1024),y=!1)}return R=y,Uu(s,l),y=(l.flags&128)!==0,R||y?(R=l.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:R.render(),l.flags|=1,s!==null&&y?(l.child=Ro(l,s.child,null,_),l.child=Ro(l,null,p,_)):ar(s,l,p,_),l.memoizedState=R.state,s=l.child):s=Li(s,l,_),s}function Yg(s,l,p,y){return wu(),l.flags|=256,ar(s,l,p,y),l.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function hr(s){return{baseLanes:s,cachePool:Oo()}}function cp(s,l,p){return s=s!==null?s.childLanes&~p:0,l&&(s|=Kr),s}function mx(s,l,p){var y=l.pendingProps,_=!1,R=(l.flags&128)!==0,H;if((H=R)||(H=s!==null&&s.memoizedState===null?!1:(Vi.current&2)!==0),H&&(_=!0,l.flags&=-129),H=(l.flags&32)!==0,l.flags&=-33,s===null){if(wn){if(_?Do(l):zo(),wn){var X=dr,ie;if(ie=X){e:{for(ie=X,X=qa;ie.nodeType!==8;){if(!X){X=null;break e}if(ie=qo(ie.nextSibling),ie===null){X=null;break e}}X=ie}X!==null?(l.memoizedState={dehydrated:X,treeContext:To!==null?{id:Hs,overflow:wo}:null,retryLane:536870912},ie=Pi(18,null,null,0),ie.stateNode=X,ie.return=l,l.child=ie,Rr=l,dr=null,ie=!0):ie=!1}ie||xc(l)}if(X=l.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return X.data==="$!"?l.lanes=16:l.lanes=536870912,null;Vs(l)}return X=y.children,y=y.fallback,_?(zo(),_=l.mode,X=Jg({mode:"hidden",children:X},_),y=Xl(y,_,p,null),X.return=l,y.return=l,X.sibling=y,l.child=X,_=l.child,_.memoizedState=hr(p),_.childLanes=cp(s,H,p),l.memoizedState=Kg,y):(Do(l),qg(l,X))}if(ie=s.memoizedState,ie!==null&&(X=ie.dehydrated,X!==null)){if(R)l.flags&256?(Do(l),l.flags&=-257,l=up(s,l,p)):l.memoizedState!==null?(zo(),l.child=s.child,l.flags|=128,l=null):(zo(),_=y.fallback,X=l.mode,y=Jg({mode:"visible",children:y.children},X),_=Xl(_,X,p,null),_.flags|=2,y.return=l,_.return=l,y.sibling=_,l.child=y,Ro(l,s.child,null,p),y=l.child,y.memoizedState=hr(p),y.childLanes=cp(s,H,p),l.memoizedState=Kg,l=_);else if(Do(l),X.data==="$!"){if(H=X.nextSibling&&X.nextSibling.dataset,H)var ge=H.dgst;H=ge,y=Error(i(419)),y.stack="",y.digest=H,js({value:y,source:null,stack:null}),l=up(s,l,p)}else if(rr||pd(s,l,p,!1),H=(p&s.childLanes)!==0,rr||H){if(H=Yn,H!==null){if(y=p&-p,(y&42)!==0)y=1;else switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=64;break;case 268435456:y=134217728;break;default:y=0}if(y=(y&(H.suspendedLanes|p))!==0?0:y,y!==0&&y!==ie.retryLane)throw ie.retryLane=y,Co(s,y),qi(H,s,y),wa}X.data==="$?"||Ad(),l=up(s,l,p)}else X.data==="$?"?(l.flags|=128,l.child=s.child,l=Uc.bind(null,s),X._reactRetry=l,l=null):(s=ie.treeContext,dr=qo(X.nextSibling),Rr=l,wn=!0,Ka=null,qa=!1,s!==null&&(ti[Ca++]=Hs,ti[Ca++]=wo,ti[Ca++]=To,Hs=s.id,wo=s.overflow,To=l),l=qg(l,y.children),l.flags|=4096);return l}return _?(zo(),_=y.fallback,X=l.mode,ie=s.child,ge=ie.sibling,y=Yr(ie,{mode:"hidden",children:y.children}),y.subtreeFlags=ie.subtreeFlags&31457280,ge!==null?_=Yr(ge,_):(_=Xl(_,X,p,null),_.flags|=2),_.return=l,y.return=l,y.sibling=_,l.child=y,y=_,_=l.child,X=s.child.memoizedState,X===null?X=hr(p):(ie=X.cachePool,ie!==null?(ge=Di._currentValue,ie=ie.parent!==ge?{parent:ge,pool:ge}:ie):ie=Oo(),X={baseLanes:X.baseLanes|p,cachePool:ie}),_.memoizedState=X,_.childLanes=cp(s,H,p),l.memoizedState=Kg,y):(Do(l),p=s.child,s=p.sibling,p=Yr(p,{mode:"visible",children:y.children}),p.return=l,p.sibling=null,s!==null&&(H=l.deletions,H===null?(l.deletions=[s],l.flags|=16):H.push(s)),l.child=p,l.memoizedState=null,p)}function qg(s,l){return l=Jg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Jg(s,l){return $g(s,l,0,null)}function up(s,l,p){return Ro(l,s.child,null,p),s=qg(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function fp(s,l,p){s.lanes|=l;var y=s.alternate;y!==null&&(y.lanes|=l),Ra(s.return,l,p)}function Pl(s,l,p,y,_){var R=s.memoizedState;R===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=p,R.tailMode=_)}function wc(s,l,p){var y=l.pendingProps,_=y.revealOrder,R=y.tail;if(ar(s,l,y.children,p),y=Vi.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fp(s,p,l);else if(s.tag===19)fp(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}switch(Ze(Vi,y),_){case"forwards":for(p=l.child,_=null;p!==null;)s=p.alternate,s!==null&&Bu(s)===null&&(_=p),p=p.sibling;p=_,p===null?(_=l.child,l.child=null):(_=p.sibling,p.sibling=null),Pl(l,!1,_,p,R);break;case"backwards":for(p=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&Bu(s)===null){l.child=_;break}s=_.sibling,_.sibling=p,p=_,_=s}Pl(l,!0,p,null,R);break;case"together":Pl(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Li(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),Ts|=l.lanes,(p&l.childLanes)===0)if(s!==null){if(pd(s,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,p=Yr(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=Yr(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function Zg(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Iu(s)))}function C_(s,l,p){switch(l.tag){case 3:Yt(l,l.stateNode.containerInfo),Il(l,Di,s.memoizedState.cache),wu();break;case 27:case 5:De(l);break;case 4:Yt(l,l.stateNode.containerInfo);break;case 10:Il(l,l.type,l.memoizedProps.value);break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(Do(l),l.flags|=128,null):(p&l.child.childLanes)!==0?mx(s,l,p):(Do(l),s=Li(s,l,p),s!==null?s.sibling:null);Do(l);break;case 19:var _=(s.flags&128)!==0;if(y=(p&l.childLanes)!==0,y||(pd(s,l,p,!1),y=(p&l.childLanes)!==0),_){if(y)return wc(s,l,p);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ze(Vi,Vi.current),y)break;return null;case 22:case 23:return l.lanes=0,dx(s,l,p);case 24:Il(l,Di,s.memoizedState.cache)}return Li(s,l,p)}function hd(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps)rr=!0;else{if(!Zg(s,p)&&(l.flags&128)===0)return rr=!1,C_(s,l,p);rr=(s.flags&131072)!==0}else rr=!1,wn&&(l.flags&1048576)!==0&&_g(l,td,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var y=l.elementType,_=y._init;if(y=_(y._payload),l.type=y,typeof y=="function")Vo(y)?(s=Tc(y,s),l.tag=1,l=px(null,l,y,s,p)):(l.tag=0,l=Wg(null,l,y,s,p));else{if(y!=null){if(_=y.$$typeof,_===S){l.tag=11,l=jg(null,l,y,s,p);break e}else if(_===A){l.tag=14,l=Gg(null,l,y,s,p);break e}}throw l=F(y)||y,Error(i(306,l,""))}}return l;case 0:return Wg(s,l,l.type,l.pendingProps,p);case 1:return y=l.type,_=Tc(y,l.pendingProps),px(s,l,y,_,p);case 3:e:{if(Yt(l,l.stateNode.containerInfo),s===null)throw Error(i(387));var R=l.pendingProps;_=l.memoizedState,y=_.element,pp(s,l),As(l,R,null,p);var H=l.memoizedState;if(R=H.cache,Il(l,Di,R),R!==_.cache&&dp(l,[Di],p,!0),Dr(),R=H.element,_.isDehydrated)if(_={element:R,isDehydrated:!1,cache:H.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=Yg(s,l,R,p);break e}else if(R!==y){y=ra(Error(i(424)),l),js(y),l=Yg(s,l,R,p);break e}else for(dr=qo(l.stateNode.containerInfo.firstChild),Rr=l,wn=!0,Ka=null,qa=!0,p=Bo(l,null,R,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(wu(),R===y){l=Li(s,l,p);break e}ar(s,l,R,p)}l=l.child}return l;case 26:return Uu(s,l),s===null?(p=mw(l.type,null,l.pendingProps,null))?l.memoizedState=p:wn||(p=l.type,s=l.pendingProps,y=Ax(ht.current).createElement(p),y[Si]=l,y[rn]=s,Jr(y,p,s),_e(y),l.stateNode=y):l.memoizedState=mw(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return De(l),s===null&&wn&&(y=l.stateNode=dw(l.type,l.pendingProps,ht.current),Rr=l,qa=!0,dr=qo(y.firstChild)),y=l.pendingProps.children,s!==null||wn?ar(s,l,y,p):l.child=Ro(l,null,y,p),Uu(s,l),l.child;case 5:return s===null&&wn&&((_=y=dr)&&(y=hP(y,l.type,l.pendingProps,qa),y!==null?(l.stateNode=y,Rr=l,dr=qo(y.firstChild),qa=!1,_=!0):_=!1),_||xc(l)),De(l),_=l.type,R=l.pendingProps,H=s!==null?s.memoizedProps:null,y=R.children,P_(_,R)?y=null:H!==null&&P_(_,H)&&(l.flags|=32),l.memoizedState!==null&&(_=wg(s,l,S_,null,null,p),ly._currentValue=_),Uu(s,l),ar(s,l,y,p),l.child;case 6:return s===null&&wn&&((s=p=dr)&&(p=pP(p,l.pendingProps,qa),p!==null?(l.stateNode=p,Rr=l,dr=null,s=!0):s=!1),s||xc(l)),null;case 13:return mx(s,l,p);case 4:return Yt(l,l.stateNode.containerInfo),y=l.pendingProps,s===null?l.child=Ro(l,null,y,p):ar(s,l,y,p),l.child;case 11:return jg(s,l,l.type,l.pendingProps,p);case 7:return ar(s,l,l.pendingProps,p),l.child;case 8:return ar(s,l,l.pendingProps.children,p),l.child;case 12:return ar(s,l,l.pendingProps.children,p),l.child;case 10:return y=l.pendingProps,Il(l,l.type,y.value),ar(s,l,y.children,p),l.child;case 9:return _=l.type._context,y=l.pendingProps.children,Rc(l),_=Br(_),y=y(_),l.flags|=1,ar(s,l,y,p),l.child;case 14:return Gg(s,l,l.type,l.pendingProps,p);case 15:return Vg(s,l,l.type,l.pendingProps,p);case 19:return wc(s,l,p);case 22:return dx(s,l,p);case 24:return Rc(l),y=Br(Di),s===null?(_=cd(),_===null&&(_=Yn,R=Cg(),_.pooledCache=R,R.refCount++,R!==null&&(_.pooledCacheLanes|=p),_=R),l.memoizedState={parent:y,cache:_},Xr(l),Il(l,Di,_)):((s.lanes&p)!==0&&(pp(s,l),As(l,null,null,p),Dr()),_=s.memoizedState,R=l.memoizedState,_.parent!==y?(_={parent:y,cache:y},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Il(l,Di,y)):(y=R.cache,Il(l,Di,y),y!==_.cache&&dp(l,[Di],p,!0))),ar(s,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var Pu=Ge(null),Ks=null,Ss=null;function Il(s,l,p){Ze(Pu,l._currentValue),l._currentValue=p}function Io(s){s._currentValue=Pu.current,vt(Pu)}function Ra(s,l,p){for(;s!==null;){var y=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),s===p)break;s=s.return}}function dp(s,l,p,y){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var R=_.dependencies;if(R!==null){var H=_.child;R=R.firstContext;e:for(;R!==null;){var X=R;R=_;for(var ie=0;ie<l.length;ie++)if(X.context===l[ie]){R.lanes|=p,X=R.alternate,X!==null&&(X.lanes|=p),Ra(R.return,p,s),y||(H=null);break e}R=X.next}}else if(_.tag===18){if(H=_.return,H===null)throw Error(i(341));H.lanes|=p,R=H.alternate,R!==null&&(R.lanes|=p),Ra(H,p,s),H=null}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===s){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}}function pd(s,l,p,y){s=null;for(var _=l,R=!1;_!==null;){if(!R){if((_.flags&524288)!==0)R=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var H=_.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var X=_.type;ta(_.pendingProps.value,H.value)||(s!==null?s.push(X):s=[X])}}else if(_===ne.current){if(H=_.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(ly):s=[ly])}_=_.return}s!==null&&dp(l,s,p,y),l.flags|=262144}function Iu(s){for(s=s.firstContext;s!==null;){if(!ta(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Rc(s){Ks=s,Ss=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Br(s){return ku(Ks,s)}function hp(s,l){return Ks===null&&Rc(s),ku(s,l)}function ku(s,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},Ss===null){if(s===null)throw Error(i(308));Ss=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ss=Ss.next=l;return p}var Wi=!1;function Xr(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ba(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Da(s,l,p){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(qt&2)!==0){var _=y.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),y.pending=l,l=ed(s),$f(s,null,p),l}return Qf(s,y,l,p),ed(s)}function kl(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194176)!==0)){var y=l.lanes;y&=s.pendingLanes,p|=y,l.lanes=p,Xa(s,p)}}function Fu(s,l){var p=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var _=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var H={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};R===null?_=R=H:R=R.next=H,p=p.next}while(p!==null);R===null?_=R=l:R=R.next=l}else _=R=l;p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:R,shared:y.shared,callbacks:y.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}var oa=!1;function Dr(){if(oa){var s=Bl;if(s!==null)throw s}}function As(s,l,p,y){oa=!1;var _=s.updateQueue;Wi=!1;var R=_.firstBaseUpdate,H=_.lastBaseUpdate,X=_.shared.pending;if(X!==null){_.shared.pending=null;var ie=X,ge=ie.next;ie.next=null,H===null?R=ge:H.next=ge,H=ie;var Ke=s.alternate;Ke!==null&&(Ke=Ke.updateQueue,X=Ke.lastBaseUpdate,X!==H&&(X===null?Ke.firstBaseUpdate=ge:X.next=ge,Ke.lastBaseUpdate=ie))}if(R!==null){var nt=_.baseState;H=0,Ke=ge=ie=null,X=R;do{var Le=X.lane&-536870913,Ve=Le!==X.lane;if(Ve?(Ut&Le)===Le:(y&Le)===Le){Le!==0&&Le===Ac&&(oa=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var zt=s,Zt=X;Le=l;var Ji=p;switch(Zt.tag){case 1:if(zt=Zt.payload,typeof zt=="function"){nt=zt.call(Ji,nt,Le);break e}nt=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Zt.payload,Le=typeof zt=="function"?zt.call(Ji,nt,Le):zt,Le==null)break e;nt=w({},nt,Le);break e;case 2:Wi=!0}}Le=X.callback,Le!==null&&(s.flags|=64,Ve&&(s.flags|=8192),Ve=_.callbacks,Ve===null?_.callbacks=[Le]:Ve.push(Le))}else Ve={lane:Le,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ke===null?(ge=Ke=Ve,ie=nt):Ke=Ke.next=Ve,H|=Le;if(X=X.next,X===null){if(X=_.shared.pending,X===null)break;Ve=X,X=Ve.next,Ve.next=null,_.lastBaseUpdate=Ve,_.shared.pending=null}}while(!0);Ke===null&&(ie=nt),_.baseState=ie,_.firstBaseUpdate=ge,_.lastBaseUpdate=Ke,R===null&&(_.shared.lanes=0),Ts|=H,s.lanes=H,s.memoizedState=nt}}function qs(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function Js(s,l){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)qs(p[s],l)}function Oi(s,l){try{var p=l.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var _=y.next;p=_;do{if((p.tag&s)===s){y=void 0;var R=p.create,H=p.inst;y=R(),H.destroy=y}p=p.next}while(p!==_)}}catch(X){lt(l,l.return,X)}}function Ja(s,l,p){try{var y=l.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var R=_.next;y=R;do{if((y.tag&s)===s){var H=y.inst,X=H.destroy;if(X!==void 0){H.destroy=void 0,_=l;var ie=p;try{X()}catch(ge){lt(_,ie,ge)}}}y=y.next}while(y!==R)}}catch(ge){lt(l,l.return,ge)}}function ko(s){var l=s.updateQueue;if(l!==null){var p=s.stateNode;try{Js(l,p)}catch(y){lt(s,s.return,y)}}}function md(s,l,p){p.props=Tc(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(y){lt(s,l,y)}}function Ni(s,l){try{var p=s.ref;if(p!==null){var y=s.stateNode;switch(s.tag){case 26:case 27:case 5:var _=y;break;default:_=y}typeof p=="function"?s.refCleanup=p(_):p.current=_}}catch(R){lt(s,l,R)}}function Wn(s,l){var p=s.ref,y=s.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(_){lt(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){lt(s,l,_)}else p.current=null}function Rn(s){var l=s.type,p=s.memoizedProps,y=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(_){lt(s,s.return,_)}}function Za(s,l,p){try{var y=s.stateNode;lP(y,s.type,p,l),y[rn]=l}catch(_){lt(s,s.return,_)}}function _s(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function gd(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_s(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function la(s,l,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Sx));else if(y!==4&&y!==27&&(s=s.child,s!==null))for(la(s,l,p),s=s.sibling;s!==null;)la(s,l,p),s=s.sibling}function Fo(s,l,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(y!==4&&y!==27&&(s=s.child,s!==null))for(Fo(s,l,p),s=s.sibling;s!==null;)Fo(s,l,p),s=s.sibling}var Ms=!1,ai=!1,Fl=!1,mp=typeof WeakSet=="function"?WeakSet:Set,Ui=null,gp=!1;function Hu(s,l){if(s=s.containerInfo,N_=wx,s=yg(s),Jf(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var _=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var H=0,X=-1,ie=-1,ge=0,Ke=0,nt=s,Le=null;t:for(;;){for(var Ve;nt!==p||_!==0&&nt.nodeType!==3||(X=H+_),nt!==R||y!==0&&nt.nodeType!==3||(ie=H+y),nt.nodeType===3&&(H+=nt.nodeValue.length),(Ve=nt.firstChild)!==null;)Le=nt,nt=Ve;for(;;){if(nt===s)break t;if(Le===p&&++ge===_&&(X=H),Le===R&&++Ke===y&&(ie=H),(Ve=nt.nextSibling)!==null)break;nt=Le,Le=nt.parentNode}nt=Ve}p=X===-1||ie===-1?null:{start:X,end:ie}}else p=null}p=p||{start:0,end:0}}else p=null;for(U_={focusedElem:s,selectionRange:p},wx=!1,Ui=l;Ui!==null;)if(l=Ui,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Ui=s;else for(;Ui!==null;){switch(l=Ui,R=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&R!==null){s=void 0,p=l,_=R.memoizedProps,R=R.memoizedState,y=p.stateNode;try{var zt=Tc(p.type,_,p.elementType===p.type);s=y.getSnapshotBeforeUpdate(zt,R),y.__reactInternalSnapshotBeforeUpdate=s}catch(Zt){lt(p,p.return,Zt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,p=s.nodeType,p===9)F_(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":F_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,Ui=s;break}Ui=l.return}return zt=gp,gp=!1,zt}function ju(s,l,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Zs(s,p),y&4&&Oi(5,p);break;case 1:if(Zs(s,p),y&4)if(s=p.stateNode,l===null)try{s.componentDidMount()}catch(X){lt(p,p.return,X)}else{var _=Tc(p.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(X){lt(p,p.return,X)}}y&64&&ko(p),y&512&&Ni(p,p.return);break;case 3:if(Zs(s,p),y&64&&(y=p.updateQueue,y!==null)){if(s=null,p.child!==null)switch(p.child.tag){case 27:case 5:s=p.child.stateNode;break;case 1:s=p.child.stateNode}try{Js(y,s)}catch(X){lt(p,p.return,X)}}break;case 26:Zs(s,p),y&512&&Ni(p,p.return);break;case 27:case 5:Zs(s,p),l===null&&y&4&&Rn(p),y&512&&Ni(p,p.return);break;case 12:Zs(s,p);break;case 13:Zs(s,p),y&4&&gx(s,p);break;case 22:if(_=p.memoizedState!==null||Ms,!_){l=l!==null&&l.memoizedState!==null||ai;var R=Ms,H=ai;Ms=_,(ai=l)&&!H?Cs(s,p,(p.subtreeFlags&8772)!==0):Zs(s,p),Ms=R,ai=H}y&512&&(p.memoizedProps.mode==="manual"?Ni(p,p.return):Wn(p,p.return));break;default:Zs(s,p)}}function yp(s){var l=s.alternate;l!==null&&(s.alternate=null,yp(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&uc(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var si=null,pr=!1;function zr(s,l,p){for(p=p.child;p!==null;)vp(s,l,p),p=p.sibling}function vp(s,l,p){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ct,p)}catch{}switch(p.tag){case 26:ai||Wn(p,l),zr(s,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ai||Wn(p,l);var y=si,_=pr;for(si=p.stateNode,zr(s,l,p),p=p.stateNode,l=p.attributes;l.length;)p.removeAttributeNode(l[0]);uc(p),si=y,pr=_;break;case 5:ai||Wn(p,l);case 6:_=si;var R=pr;if(si=null,zr(s,l,p),si=_,pr=R,si!==null)if(pr)try{s=si,y=p.stateNode,s.nodeType===8?s.parentNode.removeChild(y):s.removeChild(y)}catch(H){lt(p,l,H)}else try{si.removeChild(p.stateNode)}catch(H){lt(p,l,H)}break;case 18:si!==null&&(pr?(l=si,p=p.stateNode,l.nodeType===8?k_(l.parentNode,p):l.nodeType===1&&k_(l,p),dy(l)):k_(si,p.stateNode));break;case 4:y=si,_=pr,si=p.stateNode.containerInfo,pr=!0,zr(s,l,p),si=y,pr=_;break;case 0:case 11:case 14:case 15:ai||Ja(2,p,l),ai||Ja(4,p,l),zr(s,l,p);break;case 1:ai||(Wn(p,l),y=p.stateNode,typeof y.componentWillUnmount=="function"&&md(p,l,y)),zr(s,l,p);break;case 21:zr(s,l,p);break;case 22:ai||Wn(p,l),ai=(y=ai)||p.memoizedState!==null,zr(s,l,p),ai=y;break;default:zr(s,l,p)}}function gx(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{dy(s)}catch(p){lt(l,l.return,p)}}function yd(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new mp),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new mp),l;default:throw Error(i(435,s.tag))}}function vd(s,l){var p=yd(s);l.forEach(function(y){var _=Be.bind(null,s,y);p.has(y)||(p.add(y),y.then(_,_))})}function Wr(s,l){var p=l.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y],R=s,H=l,X=H;e:for(;X!==null;){switch(X.tag){case 27:case 5:si=X.stateNode,pr=!1;break e;case 3:si=X.stateNode.containerInfo,pr=!0;break e;case 4:si=X.stateNode.containerInfo,pr=!0;break e}X=X.return}if(si===null)throw Error(i(160));vp(R,H,_),si=null,pr=!1,R=_.alternate,R!==null&&(R.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Bc(l,s),l=l.sibling}var Lr=null;function Bc(s,l){var p=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Wr(l,s),Or(s),y&4&&(Ja(3,s,s.return),Oi(3,s),Ja(5,s,s.return));break;case 1:Wr(l,s),Or(s),y&512&&(ai||p===null||Wn(p,p.return)),y&64&&Ms&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var _=Lr;if(Wr(l,s),Or(s),y&512&&(ai||p===null||Wn(p,p.return)),y&4){var R=p!==null?p.memoizedState:null;if(y=s.memoizedState,p===null)if(y===null)if(s.stateNode===null){e:{y=s.type,p=s.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":R=_.getElementsByTagName("title")[0],(!R||R[yo]||R[Si]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=_.createElement(y),_.head.insertBefore(R,_.querySelector("head > title"))),Jr(R,y,p),R[Si]=s,_e(R),y=R;break e;case"link":var H=vw("link","href",_).get(y+(p.href||""));if(H){for(var X=0;X<H.length;X++)if(R=H[X],R.getAttribute("href")===(p.href==null?null:p.href)&&R.getAttribute("rel")===(p.rel==null?null:p.rel)&&R.getAttribute("title")===(p.title==null?null:p.title)&&R.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){H.splice(X,1);break t}}R=_.createElement(y),Jr(R,y,p),_.head.appendChild(R);break;case"meta":if(H=vw("meta","content",_).get(y+(p.content||""))){for(X=0;X<H.length;X++)if(R=H[X],R.getAttribute("content")===(p.content==null?null:""+p.content)&&R.getAttribute("name")===(p.name==null?null:p.name)&&R.getAttribute("property")===(p.property==null?null:p.property)&&R.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&R.getAttribute("charset")===(p.charSet==null?null:p.charSet)){H.splice(X,1);break t}}R=_.createElement(y),Jr(R,y,p),_.head.appendChild(R);break;default:throw Error(i(468,y))}R[Si]=s,_e(R),y=R}s.stateNode=y}else xw(_,s.type,s.stateNode);else s.stateNode=yw(_,y,s.memoizedProps);else R!==y?(R===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):R.count--,y===null?xw(_,s.type,s.stateNode):yw(_,y,s.memoizedProps)):y===null&&s.stateNode!==null&&Za(s,s.memoizedProps,p.memoizedProps)}break;case 27:if(y&4&&s.alternate===null){_=s.stateNode,R=s.memoizedProps;try{for(var ie=_.firstChild;ie;){var ge=ie.nextSibling,Ke=ie.nodeName;ie[yo]||Ke==="HEAD"||Ke==="BODY"||Ke==="SCRIPT"||Ke==="STYLE"||Ke==="LINK"&&ie.rel.toLowerCase()==="stylesheet"||_.removeChild(ie),ie=ge}for(var nt=s.type,Le=_.attributes;Le.length;)_.removeAttributeNode(Le[0]);Jr(_,nt,R),_[Si]=s,_[rn]=R}catch(zt){lt(s,s.return,zt)}}case 5:if(Wr(l,s),Or(s),y&512&&(ai||p===null||Wn(p,p.return)),s.flags&32){_=s.stateNode;try{Hr(_,"")}catch(zt){lt(s,s.return,zt)}}y&4&&s.stateNode!=null&&(_=s.memoizedProps,Za(s,_,p!==null?p.memoizedProps:_)),y&1024&&(Fl=!0);break;case 6:if(Wr(l,s),Or(s),y&4){if(s.stateNode===null)throw Error(i(162));y=s.memoizedProps,p=s.stateNode;try{p.nodeValue=y}catch(zt){lt(s,s.return,zt)}}break;case 3:if(Ex=null,_=Lr,Lr=_x(l.containerInfo),Wr(l,s),Lr=_,Or(s),y&4&&p!==null&&p.memoizedState.isDehydrated)try{dy(l.containerInfo)}catch(zt){lt(s,s.return,zt)}Fl&&(Fl=!1,Hl(s));break;case 4:y=Lr,Lr=_x(s.stateNode.containerInfo),Wr(l,s),Or(s),Lr=y;break;case 12:Wr(l,s),Or(s);break;case 13:Wr(l,s),Or(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(sn=Ee()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,vd(s,y)));break;case 22:if(y&512&&(ai||p===null||Wn(p,p.return)),ie=s.memoizedState!==null,ge=p!==null&&p.memoizedState!==null,Ke=Ms,nt=ai,Ms=Ke||ie,ai=nt||ge,Wr(l,s),ai=nt,Ms=Ke,Or(s),l=s.stateNode,l._current=s,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,y&8192&&(l._visibility=ie?l._visibility&-2:l._visibility|1,ie&&(l=Ms||ai,p===null||ge||l||Es(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(p=null,l=s;;){if(l.tag===5||l.tag===26||l.tag===27){if(p===null){ge=p=l;try{if(_=ge.stateNode,ie)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{H=ge.stateNode,X=ge.memoizedProps.style;var Ve=X!=null&&X.hasOwnProperty("display")?X.display:null;H.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(zt){lt(ge,ge.return,zt)}}}else if(l.tag===6){if(p===null){ge=l;try{ge.stateNode.nodeValue=ie?"":ge.memoizedProps}catch(zt){lt(ge,ge.return,zt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=s.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,vd(s,p))));break;case 19:Wr(l,s),Or(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,vd(s,y)));break;case 21:break;default:Wr(l,s),Or(s)}}function Or(s){var l=s.flags;if(l&2){try{if(s.tag!==27){e:{for(var p=s.return;p!==null;){if(_s(p)){var y=p;break e}p=p.return}throw Error(i(160))}switch(y.tag){case 27:var _=y.stateNode,R=gd(s);Fo(s,R,_);break;case 5:var H=y.stateNode;y.flags&32&&(Hr(H,""),y.flags&=-33);var X=gd(s);Fo(s,X,H);break;case 3:case 4:var ie=y.stateNode.containerInfo,ge=gd(s);la(s,ge,ie);break;default:throw Error(i(161))}}}catch(Ke){lt(s,s.return,Ke)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Hl(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;Hl(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Zs(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ju(s,l.alternate,l),l=l.sibling}function Es(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Ja(4,l,l.return),Es(l);break;case 1:Wn(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&md(l,l.return,p),Es(l);break;case 26:case 27:case 5:Wn(l,l.return),Es(l);break;case 22:Wn(l,l.return),l.memoizedState===null&&Es(l);break;default:Es(l)}s=s.sibling}}function Cs(s,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,_=s,R=l,H=R.flags;switch(R.tag){case 0:case 11:case 15:Cs(_,R,p),Oi(4,R);break;case 1:if(Cs(_,R,p),y=R,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ge){lt(y,y.return,ge)}if(y=R,_=y.updateQueue,_!==null){var X=y.stateNode;try{var ie=_.shared.hiddenCallbacks;if(ie!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ie.length;_++)qs(ie[_],X)}catch(ge){lt(y,y.return,ge)}}p&&H&64&&ko(R),Ni(R,R.return);break;case 26:case 27:case 5:Cs(_,R,p),p&&y===null&&H&4&&Rn(R),Ni(R,R.return);break;case 12:Cs(_,R,p);break;case 13:Cs(_,R,p),p&&H&4&&gx(_,R);break;case 22:R.memoizedState===null&&Cs(_,R,p),Ni(R,R.return);break;default:Cs(_,R,p)}l=l.sibling}}function ca(s,l){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&wl(p))}function Qa(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&wl(s))}function ni(s,l,p,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ho(s,l,p,y),l=l.sibling}function Ho(s,l,p,y){var _=l.flags;switch(l.tag){case 0:case 11:case 15:ni(s,l,p,y),_&2048&&Oi(9,l);break;case 3:ni(s,l,p,y),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&wl(s)));break;case 12:if(_&2048){ni(s,l,p,y),s=l.stateNode;try{var R=l.memoizedProps,H=R.id,X=R.onPostCommit;typeof X=="function"&&X(H,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ie){lt(l,l.return,ie)}}else ni(s,l,p,y);break;case 23:break;case 22:R=l.stateNode,l.memoizedState!==null?R._visibility&4?ni(s,l,p,y):Ln(s,l):R._visibility&4?ni(s,l,p,y):(R._visibility|=4,Kt(s,l,p,y,(l.subtreeFlags&10256)!==0)),_&2048&&ca(l.alternate,l);break;case 24:ni(s,l,p,y),_&2048&&Qa(l.alternate,l);break;default:ni(s,l,p,y)}}function Kt(s,l,p,y,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var R=s,H=l,X=p,ie=y,ge=H.flags;switch(H.tag){case 0:case 11:case 15:Kt(R,H,X,ie,_),Oi(8,H);break;case 23:break;case 22:var Ke=H.stateNode;H.memoizedState!==null?Ke._visibility&4?Kt(R,H,X,ie,_):Ln(R,H):(Ke._visibility|=4,Kt(R,H,X,ie,_)),_&&ge&2048&&ca(H.alternate,H);break;case 24:Kt(R,H,X,ie,_),_&&ge&2048&&Qa(H.alternate,H);break;default:Kt(R,H,X,ie,_)}l=l.sibling}}function Ln(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=s,y=l,_=y.flags;switch(y.tag){case 22:Ln(p,y),_&2048&&ca(y.alternate,y);break;case 24:Ln(p,y),_&2048&&Qa(y.alternate,y);break;default:Ln(p,y)}l=l.sibling}}var hi=8192;function jo(s){if(s.subtreeFlags&hi)for(s=s.child;s!==null;)Dc(s),s=s.sibling}function Dc(s){switch(s.tag){case 26:jo(s),s.flags&hi&&s.memoizedState!==null&&TP(Lr,s.memoizedState,s.memoizedProps);break;case 5:jo(s);break;case 3:case 4:var l=Lr;Lr=_x(s.stateNode.containerInfo),jo(s),Lr=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=hi,hi=16777216,jo(s),hi=l):jo(s));break;default:jo(s)}}function jl(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Gl(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var y=l[p];Ui=y,yx(y,s)}jl(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gu(s),s=s.sibling}function Gu(s){switch(s.tag){case 0:case 11:case 15:Gl(s),s.flags&2048&&Ja(9,s,s.return);break;case 3:Gl(s);break;case 12:Gl(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&4&&(s.return===null||s.return.tag!==13)?(l._visibility&=-5,Go(s)):Gl(s);break;default:Gl(s)}}function Go(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var y=l[p];Ui=y,yx(y,s)}jl(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Ja(8,l,l.return),Go(l);break;case 22:p=l.stateNode,p._visibility&4&&(p._visibility&=-5,Go(l));break;default:Go(l)}s=s.sibling}}function yx(s,l){for(;Ui!==null;){var p=Ui;switch(p.tag){case 0:case 11:case 15:Ja(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:wl(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ui=y;else e:for(p=s;Ui!==null;){y=Ui;var _=y.sibling,R=y.return;if(yp(y),y===p){Ui=null;break e}if(_!==null){_.return=R,Ui=_;break e}Ui=R}}}function Qg(s,l,p,y){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(s,l,p,y){return new Qg(s,l,p,y)}function Vo(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yr(s,l){var p=s.alternate;return p===null?(p=Pi(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&31457280,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function Vl(s,l){s.flags&=31457282;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,l=p.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Vu(s,l,p,y,_,R){var H=0;if(y=s,typeof s=="function")Vo(s)&&(H=1);else if(typeof s=="string")H=EP(s,p,at.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case u:return Xl(p.children,_,R,l);case h:H=8,_|=24;break;case m:return s=Pi(12,p,l,_|2),s.elementType=m,s.lanes=R,s;case E:return s=Pi(13,p,l,_),s.elementType=E,s.lanes=R,s;case M:return s=Pi(19,p,l,_),s.elementType=M,s.lanes=R,s;case B:return $g(p,_,R,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case g:case b:H=10;break e;case v:H=9;break e;case S:H=11;break e;case A:H=14;break e;case z:H=16,y=null;break e}H=29,p=Error(i(130,s===null?"null":typeof s,"")),y=null}return l=Pi(H,p,l,_),l.elementType=s,l.type=y,l.lanes=R,l}function Xl(s,l,p,y){return s=Pi(7,s,y,l),s.lanes=p,s}function $g(s,l,p,y){s=Pi(22,s,y,l),s.elementType=B,s.lanes=p;var _={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var R=_._current;if(R===null)throw Error(i(456));if((_._pendingVisibility&2)===0){var H=Co(R,2);H!==null&&(_._pendingVisibility|=2,qi(H,R,2))}},attach:function(){var R=_._current;if(R===null)throw Error(i(456));if((_._pendingVisibility&2)!==0){var H=Co(R,2);H!==null&&(_._pendingVisibility&=-3,qi(H,R,2))}}};return s.stateNode=_,s}function Yi(s,l,p){return s=Pi(6,s,null,l),s.lanes=p,s}function xd(s,l,p){return l=Pi(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function $a(s){s.flags|=4}function Wl(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!bw(l)){if(l=aa.current,l!==null&&((Ut&4194176)===Ut?Gs!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||l!==Gs))throw Ru=qh,Mg;s.flags|=8192}}function es(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?$t():536870912,s.lanes|=l,$s|=l)}function bd(s,l){if(!wn)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function vi(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,y=0;if(l)for(var _=s.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags&31457280,y|=_.flags&31457280,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=y,s.childLanes=p,l}function T_(s,l,p){var y=l.pendingProps;switch(_l(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(l),null;case 1:return vi(l),null;case 3:return p=l.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),Io(Di),ke(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Tu(l)?$a(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ka!==null&&(rs(Ka),Ka=null))),vi(l),null;case 26:return p=l.memoizedState,s===null?($a(l),p!==null?(vi(l),Wl(l,p)):(vi(l),l.flags&=-16777217)):p?p!==s.memoizedState?($a(l),vi(l),Wl(l,p)):(vi(l),l.flags&=-16777217):(s.memoizedProps!==y&&$a(l),vi(l),l.flags&=-16777217),null;case 27:Te(l),p=ht.current;var _=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==y&&$a(l);else{if(!y){if(l.stateNode===null)throw Error(i(166));return vi(l),null}s=at.current,Tu(l)?Ev(l):(s=dw(_,y,p),l.stateNode=s,$a(l))}return vi(l),null;case 5:if(Te(l),p=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==y&&$a(l);else{if(!y){if(l.stateNode===null)throw Error(i(166));return vi(l),null}if(s=at.current,Tu(l))Ev(l);else{switch(_=Ax(ht.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof y.is=="string"?_.createElement("select",{is:y.is}):_.createElement("select"),y.multiple?s.multiple=!0:y.size&&(s.size=y.size);break;default:s=typeof y.is=="string"?_.createElement(p,{is:y.is}):_.createElement(p)}}s[Si]=l,s[rn]=y;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=s;e:switch(Jr(s,p,y),p){case"button":case"input":case"select":case"textarea":s=!!y.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$a(l)}}return vi(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==y&&$a(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(i(166));if(s=ht.current,Tu(l)){if(s=l.stateNode,p=l.memoizedProps,y=null,_=Rr,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}s[Si]=l,s=!!(s.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||sw(s.nodeValue,p)),s||xc(l)}else s=Ax(s).createTextNode(y),s[Si]=l,l.stateNode=s}return vi(l),null;case 13:if(y=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Tu(l),y!==null&&y.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Si]=l}else wu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vi(l),_=!1}else Ka!==null&&(rs(Ka),Ka=null),_=!0;if(!_)return l.flags&256?(Vs(l),l):(Vs(l),null)}if(Vs(l),(l.flags&128)!==0)return l.lanes=p,l;if(p=y!==null,s=s!==null&&s.memoizedState!==null,p){y=l.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool);var R=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(R=y.memoizedState.cachePool.pool),R!==_&&(y.flags|=2048)}return p!==s&&p&&(l.child.flags|=8192),es(l,l.updateQueue),vi(l),null;case 4:return ke(),s===null&&z_(l.stateNode.containerInfo),vi(l),null;case 10:return Io(l.type),vi(l),null;case 19:if(vt(Vi),_=l.memoizedState,_===null)return vi(l),null;if(y=(l.flags&128)!==0,R=_.rendering,R===null)if(y)bd(_,!1);else{if(oi!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(R=Bu(s),R!==null){for(l.flags|=128,bd(_,!1),s=R.updateQueue,l.updateQueue=s,es(l,s),l.subtreeFlags=0,s=p,p=l.child;p!==null;)Vl(p,s),p=p.sibling;return Ze(Vi,Vi.current&1|2),l.child}s=s.sibling}_.tail!==null&&Ee()>hn&&(l.flags|=128,y=!0,bd(_,!1),l.lanes=4194304)}else{if(!y)if(s=Bu(R),s!==null){if(l.flags|=128,y=!0,s=s.updateQueue,l.updateQueue=s,es(l,s),bd(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!wn)return vi(l),null}else 2*Ee()-_.renderingStartTime>hn&&p!==536870912&&(l.flags|=128,y=!0,bd(_,!1),l.lanes=4194304);_.isBackwards?(R.sibling=l.child,l.child=R):(s=_.last,s!==null?s.sibling=R:l.child=R,_.last=R)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Ee(),l.sibling=null,s=Vi.current,Ze(Vi,y?s&1|2:s&1),l):(vi(l),null);case 22:case 23:return Vs(l),ld(),y=l.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(p&536870912)!==0&&(l.flags&128)===0&&(vi(l),l.subtreeFlags&6&&(l.flags|=8192)):vi(l),p=l.updateQueue,p!==null&&es(l,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048),s!==null&&vt(Lo),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Io(Di),vi(l),null;case 25:return null}throw Error(i(156,l.tag))}function Mi(s,l){switch(_l(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Io(Di),ke(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Te(l),null;case 13:if(Vs(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));wu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return vt(Vi),null;case 4:return ke(),null;case 10:return Io(l.type),null;case 22:case 23:return Vs(l),ld(),s!==null&&vt(Lo),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Io(Di),null;case 25:return null;default:return null}}function ey(s,l){switch(_l(l),l.tag){case 3:Io(Di),ke();break;case 26:case 27:case 5:Te(l);break;case 4:ke();break;case 13:Vs(l);break;case 19:vt(Vi);break;case 10:Io(l.type);break;case 22:case 23:Vs(l),ld(),s!==null&&vt(Lo);break;case 24:Io(Di)}}var zc={getCacheForType:function(s){var l=Br(Di),p=l.data.get(s);return p===void 0&&(p=s(),l.data.set(s,p)),p}},Xo=typeof WeakMap=="function"?WeakMap:Map,qt=0,Yn=null,cn=null,Ut=0,Zn=0,On=null,Ii=!1,Nr=!1,Yl=!1,Wo=0,oi=0,Ts=0,Qs=0,Xu=0,Kr=0,$s=0,Sd=null,dn=null,Kn=!1,sn=0,hn=1/0,Gn=null,Ki=null,ts=!1,ns=null,Lc=0,ws=0,pi=null,is=0,Yo=null;function qr(){if((qt&2)!==0&&Ut!==0)return Ut&-Ut;if(P.T!==null){var s=Ac;return s!==0?s:w_()}return hu()}function za(){Kr===0&&(Kr=(Ut&536870912)===0||wn?Fn():536870912);var s=aa.current;return s!==null&&(s.flags|=32),Kr}function qi(s,l,p){(s===Yn&&Zn===2||s.cancelPendingCommit!==null)&&(Ko(s,0),La(s,Ut,Kr,!1)),Ri(s,p),((qt&2)===0||s!==Yn)&&(s===Yn&&((qt&2)===0&&(Qs|=p),oi===4&&La(s,Ut,Kr,!1)),Qn(s))}function Wu(s,l,p){if((qt&6)!==0)throw Error(i(327));var y=!p&&(l&60)===0&&(l&s.expiredLanes)===0||wt(s,l),_=y?f(s,l):Nc(s,l,!0),R=y;do{if(_===0){Nr&&!y&&La(s,l,0,!1);break}else if(_===6)La(s,l,0,!Ii);else{if(p=s.current.alternate,R&&!ty(p)){_=Nc(s,l,!1),R=!1;continue}if(_===2){if(R=l,s.errorRecoveryDisabledLanes&R)var H=0;else H=s.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){l=H;e:{var X=s;_=Sd;var ie=X.current.memoizedState.isDehydrated;if(ie&&(Ko(X,H).flags|=256),H=Nc(X,H,!1),H!==2){if(Yl&&!ie){X.errorRecoveryDisabledLanes|=R,Qs|=R,_=4;break e}R=dn,dn=_,R!==null&&rs(R)}_=H}if(R=!1,_!==2)continue}}if(_===1){Ko(s,0),La(s,l,0,!0);break}e:{switch(y=s,_){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){La(y,l,Kr,!Ii);break e}break;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(y.finishedWork=p,y.finishedLanes=l,(l&62914560)===l&&(R=sn+300-Ee(),10<R)){if(La(y,l,Kr,!Ii),dt(y,0)!==0)break e;y.timeoutHandle=cw(xp.bind(null,y,p,dn,Gn,Kn,l,Kr,Qs,$s,Ii,2,-0,0),R);break e}xp(y,p,dn,Gn,Kn,l,Kr,Qs,$s,Ii,0,-0,0)}}break}while(!0);Qn(s)}function rs(s){dn===null?dn=s:dn.push.apply(dn,s)}function xp(s,l,p,y,_,R,H,X,ie,ge,Ke,nt,Le){var Ve=l.subtreeFlags;if((Ve&8192||(Ve&16785408)===16785408)&&(oy={stylesheets:null,count:0,unsuspend:CP},Dc(l),l=wP(),l!==null)){s.cancelPendingCommit=l(oe.bind(null,s,p,y,_,H,X,ie,1,nt,Le)),La(s,R,H,!ge);return}oe(s,p,y,_,H,X,ie,Ke,nt,Le)}function ty(s){for(var l=s;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var _=p[y],R=_.getSnapshot;_=_.value;try{if(!ta(R(),_))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function La(s,l,p,y){l&=~Xu,l&=~Qs,s.suspendedLanes|=l,s.pingedLanes&=~l,y&&(s.warmLanes|=l),y=s.expirationTimes;for(var _=l;0<_;){var R=31-Ie(_),H=1<<R;y[R]=-1,_&=~H}p!==0&&cc(s,p,l)}function Oc(){return(qt&6)===0?(vn(0),!1):!0}function eo(){if(cn!==null){if(Zn===0)var s=cn.return;else s=cn,Ss=Ks=null,$h(s),Cl=null,ad=0,s=cn;for(;s!==null;)ey(s.alternate,s),s=s.return;cn=null}}function Ko(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,uP(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),eo(),Yn=s,cn=p=Yr(s.current,null),Ut=l,Zn=0,On=null,Ii=!1,Nr=wt(s,l),Yl=!1,$s=Kr=Xu=Qs=Ts=oi=0,dn=Sd=null,Kn=!1,(l&8)!==0&&(l|=l&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=l;0<y;){var _=31-Ie(y),R=1<<_;l|=s[_],y&=~R}return Wo=l,Zf(),p}function Kl(s,l){an=null,P.H=Ys,l===Ml?(l=In(),Zn=3):l===Mg?(l=In(),Zn=4):Zn=l===wa?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,On=l,cn===null&&(oi=1,lp(s,ra(l,s.current)))}function Yu(){var s=P.H;return P.H=Ys,s===null?Ys:s}function bp(){var s=P.A;return P.A=zc,s}function Ad(){oi=4,Ii||(Ut&4194176)!==Ut&&aa.current!==null||(Nr=!0),(Ts&134217727)===0&&(Qs&134217727)===0||Yn===null||La(Yn,Ut,Kr,!1)}function Nc(s,l,p){var y=qt;qt|=2;var _=Yu(),R=bp();(Yn!==s||Ut!==l)&&(Gn=null,Ko(s,l)),l=!1;var H=oi;e:do try{if(Zn!==0&&cn!==null){var X=cn,ie=On;switch(Zn){case 8:eo(),H=6;break e;case 3:case 2:case 6:aa.current===null&&(l=!0);var ge=Zn;if(Zn=0,On=null,D(s,X,ie,ge),p&&Nr){H=0;break e}break;default:ge=Zn,Zn=0,On=null,D(s,X,ie,ge)}}ny(),H=oi;break}catch(Ke){Kl(s,Ke)}while(!0);return l&&s.shellSuspendCounter++,Ss=Ks=null,qt=y,P.H=_,P.A=R,cn===null&&(Yn=null,Ut=0,Zf()),H}function ny(){for(;cn!==null;)x(cn)}function f(s,l){var p=qt;qt|=2;var y=Yu(),_=bp();Yn!==s||Ut!==l?(Gn=null,hn=Ee()+500,Ko(s,l)):Nr=wt(s,l);e:do try{if(Zn!==0&&cn!==null){l=cn;var R=On;t:switch(Zn){case 1:Zn=0,On=null,D(s,l,R,1);break;case 2:if(Tv(R)){Zn=0,On=null,C(l);break}l=function(){Zn===2&&Yn===s&&(Zn=7),Qn(s)},R.then(l,l);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:Tv(R)?(Zn=0,On=null,C(l)):(Zn=0,On=null,D(s,l,R,7));break;case 5:var H=null;switch(cn.tag){case 26:H=cn.memoizedState;case 5:case 27:var X=cn;if(!H||bw(H)){Zn=0,On=null;var ie=X.sibling;if(ie!==null)cn=ie;else{var ge=X.return;ge!==null?(cn=ge,N(ge)):cn=null}break t}}Zn=0,On=null,D(s,l,R,5);break;case 6:Zn=0,On=null,D(s,l,R,6);break;case 8:eo(),oi=6;break e;default:throw Error(i(462))}}d();break}catch(Ke){Kl(s,Ke)}while(!0);return Ss=Ks=null,P.H=y,P.A=_,qt=p,cn!==null?0:(Yn=null,Ut=0,Zf(),oi)}function d(){for(;cn!==null&&!j();)x(cn)}function x(s){var l=hd(s.alternate,s,Wo);s.memoizedProps=s.pendingProps,l===null?N(s):cn=l}function C(s){var l=s,p=l.alternate;switch(l.tag){case 15:case 0:l=hx(p,l,l.pendingProps,l.type,void 0,Ut);break;case 11:l=hx(p,l,l.pendingProps,l.type.render,l.ref,Ut);break;case 5:$h(l);default:ey(p,l),l=cn=Vl(l,Wo),l=hd(p,l,Wo)}s.memoizedProps=s.pendingProps,l===null?N(s):cn=l}function D(s,l,p,y){Ss=Ks=null,$h(l),Cl=null,ad=0;var _=l.return;try{if(E_(s,_,l,p,Ut)){oi=1,lp(s,ra(p,s.current)),cn=null;return}}catch(R){if(_!==null)throw cn=_,R;oi=1,lp(s,ra(p,s.current)),cn=null;return}l.flags&32768?(wn||y===1?s=!0:Nr||(Ut&536870912)!==0?s=!1:(Ii=s=!0,(y===2||y===3||y===6)&&(y=aa.current,y!==null&&y.tag===13&&(y.flags|=16384))),W(l,s)):N(l)}function N(s){var l=s;do{if((l.flags&32768)!==0){W(l,Ii);return}s=l.return;var p=T_(l.alternate,l,Wo);if(p!==null){cn=p;return}if(l=l.sibling,l!==null){cn=l;return}cn=l=s}while(l!==null);oi===0&&(oi=5)}function W(s,l){do{var p=Mi(s.alternate,s);if(p!==null){p.flags&=32767,cn=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(s=s.sibling,s!==null)){cn=s;return}cn=s=p}while(s!==null);oi=6,cn=null}function oe(s,l,p,y,_,R,H,X,ie,ge){var Ke=P.T,nt=se.p;try{se.p=2,P.T=null,Se(s,l,p,y,nt,_,R,H,X,ie,ge)}finally{P.T=Ke,se.p=nt}}function Se(s,l,p,y,_,R,H,X){do ut();while(ns!==null);if((qt&6)!==0)throw Error(i(327));var ie=s.finishedWork;if(y=s.finishedLanes,ie===null)return null;if(s.finishedWork=null,s.finishedLanes=0,ie===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var ge=ie.lanes|ie.childLanes;if(ge|=Eo,Of(s,y,ge,R,H,X),s===Yn&&(cn=Yn=null,Ut=0),(ie.subtreeFlags&10256)===0&&(ie.flags&10256)===0||ts||(ts=!0,ws=ge,pi=p,xe(Pe,function(){return ut(),null})),p=(ie.flags&15990)!==0,(ie.subtreeFlags&15990)!==0||p?(p=P.T,P.T=null,R=se.p,se.p=2,H=qt,qt|=4,Hu(s,ie),Bc(ie,s),vg(U_,s.containerInfo),wx=!!N_,U_=N_=null,s.current=ie,ju(s,ie.alternate,ie),pe(),qt=H,se.p=R,P.T=p):s.current=ie,ts?(ts=!1,ns=s,Lc=y):Ye(s,ge),ge=s.pendingLanes,ge===0&&(Ki=null),gt(ie.stateNode),Qn(s),l!==null)for(_=s.onRecoverableError,ie=0;ie<l.length;ie++)ge=l[ie],_(ge.value,{componentStack:ge.stack});return(Lc&3)!==0&&ut(),ge=s.pendingLanes,(y&4194218)!==0&&(ge&42)!==0?s===Yo?is++:(is=0,Yo=s):is=0,vn(0),null}function Ye(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,wl(l)))}function ut(){if(ns!==null){var s=ns,l=ws;ws=0;var p=Ma(Lc),y=P.T,_=se.p;try{if(se.p=32>p?32:p,P.T=null,ns===null)var R=!1;else{p=pi,pi=null;var H=ns,X=Lc;if(ns=null,Lc=0,(qt&6)!==0)throw Error(i(331));var ie=qt;if(qt|=4,Gu(H.current),Ho(H,H.current,X,p),qt=ie,vn(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ct,H)}catch{}R=!0}return R}finally{se.p=_,P.T=y,Ye(s,l)}}return!1}function At(s,l,p){l=ra(p,l),l=Fg(s.stateNode,l,2),s=Da(s,l,2),s!==null&&(Ri(s,2),Qn(s))}function lt(s,l,p){if(s.tag===3)At(s,s,p);else for(;l!==null;){if(l.tag===3){At(l,s,p);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ki===null||!Ki.has(y))){s=ra(p,s),p=Hg(2),y=Da(l,p,2),y!==null&&(fx(p,y,l,s),Ri(y,2),Qn(y));break}}l=l.return}}function Jt(s,l,p){var y=s.pingCache;if(y===null){y=s.pingCache=new Xo;var _=new Set;y.set(l,_)}else _=y.get(l),_===void 0&&(_=new Set,y.set(l,_));_.has(p)||(Yl=!0,_.add(p),s=as.bind(null,s,l,p),l.then(s,s))}function as(s,l,p){var y=s.pingCache;y!==null&&y.delete(l),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Yn===s&&(Ut&p)===p&&(oi===4||oi===3&&(Ut&62914560)===Ut&&300>Ee()-sn?(qt&2)===0&&Ko(s,0):Xu|=p,$s===Ut&&($s=0)),Qn(s)}function Ku(s,l){l===0&&(l=$t()),s=Co(s,l),s!==null&&(Ri(s,l),Qn(s))}function Uc(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),Ku(s,p)}function Be(s,l){var p=0;switch(s.tag){case 13:var y=s.stateNode,_=s.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(l),Ku(s,p)}function xe(s,l){return ze(s,l)}var Ne=null,ot=null,Dt=!1,qn=!1,Ft=!1,un=0;function Qn(s){s!==ot&&s.next===null&&(ot===null?Ne=ot=s:ot=ot.next=s),qn=!0,Dt||(Dt=!0,tP(ql))}function vn(s,l){if(!Ft&&qn){Ft=!0;do for(var p=!1,y=Ne;y!==null;){if(s!==0){var _=y.pendingLanes;if(_===0)var R=0;else{var H=y.suspendedLanes,X=y.pingedLanes;R=(1<<31-Ie(42|s)+1)-1,R&=_&~(H&~X),R=R&201326677?R&201326677|1:R?R|2:0}R!==0&&(p=!0,$T(y,R))}else R=Ut,R=dt(y,y===Yn?R:0),(R&3)===0||wt(y,R)||(p=!0,$T(y,R));y=y.next}while(p);Ft=!1}}function ql(){qn=Dt=!1;var s=0;un!==0&&(cP()&&(s=un),un=0);for(var l=Ee(),p=null,y=Ne;y!==null;){var _=y.next,R=vx(y,l);R===0?(y.next=null,p===null?Ne=_:p.next=_,_===null&&(ot=p)):(p=y,(s!==0||(R&3)!==0)&&(qn=!0)),y=_}vn(s)}function vx(s,l){for(var p=s.suspendedLanes,y=s.pingedLanes,_=s.expirationTimes,R=s.pendingLanes&-62914561;0<R;){var H=31-Ie(R),X=1<<H,ie=_[H];ie===-1?((X&p)===0||(X&y)!==0)&&(_[H]=Xt(X,l)):ie<=l&&(s.expiredLanes|=X),R&=~X}if(l=Yn,p=Ut,p=dt(s,s===l?p:0),y=s.callbackNode,p===0||s===l&&Zn===2||s.cancelPendingCommit!==null)return y!==null&&y!==null&&K(y),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||wt(s,p)){if(l=p&-p,l===s.callbackPriority)return l;switch(y!==null&&K(y),Ma(p)){case 2:case 8:p=Fe;break;case 32:p=Pe;break;case 268435456:p=et;break;default:p=Pe}return y=QT.bind(null,s),p=ze(p,y),s.callbackPriority=l,s.callbackNode=p,l}return y!==null&&y!==null&&K(y),s.callbackPriority=2,s.callbackNode=null,2}function QT(s,l){var p=s.callbackNode;if(ut()&&s.callbackNode!==p)return null;var y=Ut;return y=dt(s,s===Yn?y:0),y===0?null:(Wu(s,y,l),vx(s,Ee()),s.callbackNode!=null&&s.callbackNode===p?QT.bind(null,s):null)}function $T(s,l){if(ut())return null;Wu(s,l,!0)}function tP(s){fP(function(){(qt&6)!==0?ze(fe,s):s()})}function w_(){return un===0&&(un=Fn()),un}function ew(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pf(""+s)}function tw(s,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,s.id&&p.setAttribute("form",s.id),l.parentNode.insertBefore(p,l),s=new FormData(s),p.parentNode.removeChild(p),s}function nP(s,l,p,y,_){if(l==="submit"&&p&&p.stateNode===_){var R=ew((_[rn]||null).action),H=y.submitter;H&&(l=(l=H[rn]||null)?ew(l.formAction):H.getAttribute("formAction"),l!==null&&(R=l,H=null));var X=new yu("action","action",null,y,_);s.push({event:X,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(un!==0){var ie=H?tw(_,H):new FormData(_);Ng(p,{pending:!0,data:ie,method:_.method,action:R},null,ie)}}else typeof R=="function"&&(X.preventDefault(),ie=H?tw(_,H):new FormData(_),Ng(p,{pending:!0,data:ie,method:_.method,action:R},R,ie))},currentTarget:_}]})}}for(var R_=0;R_<Mo.length;R_++){var B_=Mo[R_],iP=B_.toLowerCase(),rP=B_[0].toUpperCase()+B_.slice(1);Ya(iP,"on"+rP)}Ya(Sg,"onAnimationEnd"),Ya(ia,"onAnimationIteration"),Ya(Ag,"onAnimationStart"),Ya("dblclick","onDoubleClick"),Ya("focusin","onFocus"),Ya("focusout","onBlur"),Ya(_o,"onTransitionRun"),Ya(Cu,"onTransitionStart"),Ya(bl,"onTransitionCancel"),Ya(Wh,"onTransitionEnd"),St("onMouseEnter",["mouseout","mouseover"]),St("onMouseLeave",["mouseout","mouseover"]),St("onPointerEnter",["pointerout","pointerover"]),St("onPointerLeave",["pointerout","pointerover"]),pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iy));function nw(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var y=s[p],_=y.event;y=y.listeners;e:{var R=void 0;if(l)for(var H=y.length-1;0<=H;H--){var X=y[H],ie=X.instance,ge=X.currentTarget;if(X=X.listener,ie!==R&&_.isPropagationStopped())break e;R=X,_.currentTarget=ge;try{R(_)}catch(Ke){op(Ke)}_.currentTarget=null,R=ie}else for(H=0;H<y.length;H++){if(X=y[H],ie=X.instance,ge=X.currentTarget,X=X.listener,ie!==R&&_.isPropagationStopped())break e;R=X,_.currentTarget=ge;try{R(_)}catch(Ke){op(Ke)}_.currentTarget=null,R=ie}}}}function Bn(s,l){var p=l[hl];p===void 0&&(p=l[hl]=new Set);var y=s+"__bubble";p.has(y)||(iw(l,s,2,!1),p.add(y))}function D_(s,l,p){var y=0;l&&(y|=4),iw(p,s,y,l)}var xx="_reactListening"+Math.random().toString(36).slice(2);function z_(s){if(!s[xx]){s[xx]=!0,ve.forEach(function(p){p!=="selectionchange"&&(aP.has(p)||D_(p,!1,s),D_(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[xx]||(l[xx]=!0,D_("selectionchange",!1,l))}}function iw(s,l,p,y){switch(Cw(l)){case 2:var _=DP;break;case 8:_=zP;break;default:_=X_}p=_.bind(null,l,p,s),_=void 0,!kf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),y?_!==void 0?s.addEventListener(l,p,{capture:!0,passive:_}):s.addEventListener(l,p,!0):_!==void 0?s.addEventListener(l,p,{passive:_}):s.addEventListener(l,p,!1)}function L_(s,l,p,y,_){var R=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var H=y.tag;if(H===3||H===4){var X=y.stateNode.containerInfo;if(X===_||X.nodeType===8&&X.parentNode===_)break;if(H===4)for(H=y.return;H!==null;){var ie=H.tag;if((ie===3||ie===4)&&(ie=H.stateNode.containerInfo,ie===_||ie.nodeType===8&&ie.parentNode===_))return;H=H.return}for(;X!==null;){if(H=gs(X),H===null)return;if(ie=H.tag,ie===5||ie===6||ie===26||ie===27){y=R=H;continue e}X=X.parentNode}}y=y.return}ig(function(){var ge=R,Ke=If(p),nt=[];e:{var Le=Yh.get(s);if(Le!==void 0){var Ve=yu,zt=s;switch(s){case"keypress":if(pl(p)===0)break e;case"keydown":case"keyup":Ve=lg;break;case"focusin":zt="focus",Ve=Uh;break;case"focusout":zt="blur",Ve=Uh;break;case"beforeblur":case"afterblur":Ve=Uh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=m_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=ug;break;case Sg:case ia:case Ag:Ve=fv;break;case Wh:Ve=bo;break;case"scroll":case"scrollend":Ve=lv;break;case"wheel":Ve=g_;break;case"copy":case"cut":case"paste":Ve=hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Ih;break;case"toggle":case"beforetoggle":Ve=gl}var Zt=(l&4)!==0,Ji=!Zt&&(s==="scroll"||s==="scrollend"),be=Zt?Le!==null?Le+"Capture":null:Le;Zt=[];for(var me=ge,Me;me!==null;){var Qe=me;if(Me=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Me===null||be===null||(Qe=pu(me,be),Qe!=null&&Zt.push(ry(me,Qe,Me))),Ji)break;me=me.return}0<Zt.length&&(Le=new Ve(Le,zt,null,p,Ke),nt.push({event:Le,listeners:Zt}))}}if((l&7)===0){e:{if(Le=s==="mouseover"||s==="pointerover",Ve=s==="mouseout"||s==="pointerout",Le&&p!==zh&&(zt=p.relatedTarget||p.fromElement)&&(gs(zt)||zt[ms]))break e;if((Ve||Le)&&(Le=Ke.window===Ke?Ke:(Le=Ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ve?(zt=p.relatedTarget||p.toElement,Ve=ge,zt=zt?gs(zt):null,zt!==null&&(Ji=Q(zt),Zt=zt.tag,zt!==Ji||Zt!==5&&Zt!==27&&Zt!==6)&&(zt=null)):(Ve=null,zt=ge),Ve!==zt)){if(Zt=sg,Qe="onMouseLeave",be="onMouseEnter",me="mouse",(s==="pointerout"||s==="pointerover")&&(Zt=Ih,Qe="onPointerLeave",be="onPointerEnter",me="pointer"),Ji=Ve==null?Le:he(Ve),Me=zt==null?Le:he(zt),Le=new Zt(Qe,me+"leave",Ve,p,Ke),Le.target=Ji,Le.relatedTarget=Me,Qe=null,gs(Ke)===ge&&(Zt=new Zt(be,me+"enter",zt,p,Ke),Zt.target=Me,Zt.relatedTarget=Ji,Qe=Zt),Ji=Qe,Ve&&zt)t:{for(Zt=Ve,be=zt,me=0,Me=Zt;Me;Me=Sp(Me))me++;for(Me=0,Qe=be;Qe;Qe=Sp(Qe))Me++;for(;0<me-Me;)Zt=Sp(Zt),me--;for(;0<Me-me;)be=Sp(be),Me--;for(;me--;){if(Zt===be||be!==null&&Zt===be.alternate)break t;Zt=Sp(Zt),be=Sp(be)}Zt=null}else Zt=null;Ve!==null&&rw(nt,Le,Ve,Zt,!1),zt!==null&&Ji!==null&&rw(nt,Ji,zt,Zt,!0)}}e:{if(Le=ge?he(ge):window,Ve=Le.nodeName&&Le.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Le.type==="file")var Rt=Fh;else if(pg(Le))if(Hh)Rt=xl;else{Rt=_v;var xn=y_}else Ve=Le.nodeName,!Ve||Ve.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?ge&&Uf(ge.elementType)&&(Rt=Fh):Rt=qf;if(Rt&&(Rt=Rt(s,ge))){ea(nt,Rt,p,Ke);break e}xn&&xn(s,Le,ge),s==="focusout"&&ge&&Le.type==="number"&&ge.memoizedProps.value!=null&&vr(Le,"number",Le.value)}switch(xn=ge?he(ge):window,s){case"focusin":(pg(xn)||xn.contentEditable==="true")&&(mc=xn,xg=ge,Eu=null);break;case"focusout":Eu=xg=mc=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Wa(nt,p,Ke);break;case"selectionchange":if(Gh)break;case"keydown":case"keyup":Wa(nt,p,Ke)}var Nt;if(Gf)e:{switch(s){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else vl?Wf(s,p)&&(Gt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Gt="onCompositionStart");Gt&&(Xf&&p.locale!=="ko"&&(vl||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&vl&&(Nt=ag()):(vo=Ke,rg="value"in vo?vo.value:vo.textContent,vl=!0)),xn=bx(ge,Gt),0<xn.length&&(Gt=new Ph(Gt,s,null,p,Ke),nt.push({event:Gt,listeners:xn}),Nt?Gt.data=Nt:(Nt=dg(p),Nt!==null&&(Gt.data=Nt)))),(Nt=Vf?Yf(s,p):hg(s,p))&&(Gt=bx(ge,"onBeforeInput"),0<Gt.length&&(xn=new Ph("onBeforeInput","beforeinput",null,p,Ke),nt.push({event:xn,listeners:Gt}),xn.data=Nt)),nP(nt,s,ge,p,Ke)}nw(nt,l)})}function ry(s,l,p){return{instance:s,listener:l,currentTarget:p}}function bx(s,l){for(var p=l+"Capture",y=[];s!==null;){var _=s,R=_.stateNode;_=_.tag,_!==5&&_!==26&&_!==27||R===null||(_=pu(s,p),_!=null&&y.unshift(ry(s,_,R)),_=pu(s,l),_!=null&&y.push(ry(s,_,R))),s=s.return}return y}function Sp(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function rw(s,l,p,y,_){for(var R=l._reactName,H=[];p!==null&&p!==y;){var X=p,ie=X.alternate,ge=X.stateNode;if(X=X.tag,ie!==null&&ie===y)break;X!==5&&X!==26&&X!==27||ge===null||(ie=ge,_?(ge=pu(p,R),ge!=null&&H.unshift(ry(p,ge,ie))):_||(ge=pu(p,R),ge!=null&&H.push(ry(p,ge,ie)))),p=p.return}H.length!==0&&s.push({event:l,listeners:H})}var sP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function aw(s){return(typeof s=="string"?s:""+s).replace(sP,`
`).replace(oP,"")}function sw(s,l){return l=aw(l),aw(s)===l}function Sx(){}function ii(s,l,p,y,_,R){switch(p){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||Hr(s,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&Hr(s,""+y);break;case"className":ei(s,"class",y);break;case"tabIndex":ei(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(s,p,y);break;case"style":ng(s,y,R);break;case"data":if(l!=="object"){ei(s,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||p!=="href")){s.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(p);break}y=Pf(""+y),s.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(p==="formAction"?(l!=="input"&&ii(s,l,"name",_.name,_,null),ii(s,l,"formEncType",_.formEncType,_,null),ii(s,l,"formMethod",_.formMethod,_,null),ii(s,l,"formTarget",_.formTarget,_,null)):(ii(s,l,"encType",_.encType,_,null),ii(s,l,"method",_.method,_,null),ii(s,l,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(p);break}y=Pf(""+y),s.setAttribute(p,y);break;case"onClick":y!=null&&(s.onclick=Sx);break;case"onScroll":y!=null&&Bn("scroll",s);break;case"onScrollEnd":y!=null&&Bn("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}p=Pf(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(p,""+y):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":y===!0?s.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(p,y):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(p,y):s.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(p):s.setAttribute(p,y);break;case"popover":Bn("beforetoggle",s),Bn("toggle",s),gn(s,"popover",y);break;case"xlinkActuate":Mn(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Mn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Mn(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Mn(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Mn(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Mn(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Mn(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Mn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Mn(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":gn(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=sv.get(p)||p,gn(s,p,y))}}function O_(s,l,p,y,_,R){switch(p){case"style":ng(s,y,R);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"children":typeof y=="string"?Hr(s,y):(typeof y=="number"||typeof y=="bigint")&&Hr(s,""+y);break;case"onScroll":y!=null&&Bn("scroll",s);break;case"onScrollEnd":y!=null&&Bn("scrollend",s);break;case"onClick":y!=null&&(s.onclick=Sx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),l=p.slice(2,_?p.length-7:void 0),R=s[rn]||null,R=R!=null?R[p]:null,typeof R=="function"&&s.removeEventListener(l,R,_),typeof y=="function")){typeof R!="function"&&R!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(l,y,_);break e}p in s?s[p]=y:y===!0?s.setAttribute(p,""):gn(s,p,y)}}}function Jr(s,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bn("error",s),Bn("load",s);var y=!1,_=!1,R;for(R in p)if(p.hasOwnProperty(R)){var H=p[R];if(H!=null)switch(R){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ii(s,l,R,H,p,null)}}_&&ii(s,l,"srcSet",p.srcSet,p,null),y&&ii(s,l,"src",p.src,p,null);return;case"input":Bn("invalid",s);var X=R=H=_=null,ie=null,ge=null;for(y in p)if(p.hasOwnProperty(y)){var Ke=p[y];if(Ke!=null)switch(y){case"name":_=Ke;break;case"type":H=Ke;break;case"checked":ie=Ke;break;case"defaultChecked":ge=Ke;break;case"value":R=Ke;break;case"defaultValue":X=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,l));break;default:ii(s,l,y,Ke,p,null)}}Tr(s,R,X,ie,ge,H,_,!1),yn(s);return;case"select":Bn("invalid",s),y=H=R=null;for(_ in p)if(p.hasOwnProperty(_)&&(X=p[_],X!=null))switch(_){case"value":R=X;break;case"defaultValue":H=X;break;case"multiple":y=X;default:ii(s,l,_,X,p,null)}l=R,p=H,s.multiple=!!y,l!=null?Ai(s,!!y,l,!1):p!=null&&Ai(s,!!y,p,!0);return;case"textarea":Bn("invalid",s),R=_=y=null;for(H in p)if(p.hasOwnProperty(H)&&(X=p[H],X!=null))switch(H){case"value":y=X;break;case"defaultValue":_=X;break;case"children":R=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:ii(s,l,H,X,p,null)}ys(s,y,_,R),yn(s);return;case"option":for(ie in p)if(p.hasOwnProperty(ie)&&(y=p[ie],y!=null))switch(ie){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:ii(s,l,ie,y,p,null)}return;case"dialog":Bn("cancel",s),Bn("close",s);break;case"iframe":case"object":Bn("load",s);break;case"video":case"audio":for(y=0;y<iy.length;y++)Bn(iy[y],s);break;case"image":Bn("error",s),Bn("load",s);break;case"details":Bn("toggle",s);break;case"embed":case"source":case"link":Bn("error",s),Bn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in p)if(p.hasOwnProperty(ge)&&(y=p[ge],y!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ii(s,l,ge,y,p,null)}return;default:if(Uf(l)){for(Ke in p)p.hasOwnProperty(Ke)&&(y=p[Ke],y!==void 0&&O_(s,l,Ke,y,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(y=p[X],y!=null&&ii(s,l,X,y,p,null))}function lP(s,l,p,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,R=null,H=null,X=null,ie=null,ge=null,Ke=null;for(Ve in p){var nt=p[Ve];if(p.hasOwnProperty(Ve)&&nt!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":ie=nt;default:y.hasOwnProperty(Ve)||ii(s,l,Ve,null,y,nt)}}for(var Le in y){var Ve=y[Le];if(nt=p[Le],y.hasOwnProperty(Le)&&(Ve!=null||nt!=null))switch(Le){case"type":R=Ve;break;case"name":_=Ve;break;case"checked":ge=Ve;break;case"defaultChecked":Ke=Ve;break;case"value":H=Ve;break;case"defaultValue":X=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,l));break;default:Ve!==nt&&ii(s,l,Le,Ve,y,nt)}}Hn(s,H,X,ie,ge,Ke,R,_);return;case"select":Ve=H=X=Le=null;for(R in p)if(ie=p[R],p.hasOwnProperty(R)&&ie!=null)switch(R){case"value":break;case"multiple":Ve=ie;default:y.hasOwnProperty(R)||ii(s,l,R,null,y,ie)}for(_ in y)if(R=y[_],ie=p[_],y.hasOwnProperty(_)&&(R!=null||ie!=null))switch(_){case"value":Le=R;break;case"defaultValue":X=R;break;case"multiple":H=R;default:R!==ie&&ii(s,l,_,R,y,ie)}l=X,p=H,y=Ve,Le!=null?Ai(s,!!p,Le,!1):!!y!=!!p&&(l!=null?Ai(s,!!p,l,!0):Ai(s,!!p,p?[]:"",!1));return;case"textarea":Ve=Le=null;for(X in p)if(_=p[X],p.hasOwnProperty(X)&&_!=null&&!y.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:ii(s,l,X,null,y,_)}for(H in y)if(_=y[H],R=p[H],y.hasOwnProperty(H)&&(_!=null||R!=null))switch(H){case"value":Le=_;break;case"defaultValue":Ve=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==R&&ii(s,l,H,_,y,R)}fr(s,Le,Ve);return;case"option":for(var zt in p)if(Le=p[zt],p.hasOwnProperty(zt)&&Le!=null&&!y.hasOwnProperty(zt))switch(zt){case"selected":s.selected=!1;break;default:ii(s,l,zt,null,y,Le)}for(ie in y)if(Le=y[ie],Ve=p[ie],y.hasOwnProperty(ie)&&Le!==Ve&&(Le!=null||Ve!=null))switch(ie){case"selected":s.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:ii(s,l,ie,Le,y,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in p)Le=p[Zt],p.hasOwnProperty(Zt)&&Le!=null&&!y.hasOwnProperty(Zt)&&ii(s,l,Zt,null,y,Le);for(ge in y)if(Le=y[ge],Ve=p[ge],y.hasOwnProperty(ge)&&Le!==Ve&&(Le!=null||Ve!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,l));break;default:ii(s,l,ge,Le,y,Ve)}return;default:if(Uf(l)){for(var Ji in p)Le=p[Ji],p.hasOwnProperty(Ji)&&Le!==void 0&&!y.hasOwnProperty(Ji)&&O_(s,l,Ji,void 0,y,Le);for(Ke in y)Le=y[Ke],Ve=p[Ke],!y.hasOwnProperty(Ke)||Le===Ve||Le===void 0&&Ve===void 0||O_(s,l,Ke,Le,y,Ve);return}}for(var be in p)Le=p[be],p.hasOwnProperty(be)&&Le!=null&&!y.hasOwnProperty(be)&&ii(s,l,be,null,y,Le);for(nt in y)Le=y[nt],Ve=p[nt],!y.hasOwnProperty(nt)||Le===Ve||Le==null&&Ve==null||ii(s,l,nt,Le,y,Ve)}var N_=null,U_=null;function Ax(s){return s.nodeType===9?s:s.ownerDocument}function ow(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lw(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function P_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var I_=null;function cP(){var s=window.event;return s&&s.type==="popstate"?s===I_?!1:(I_=s,!0):(I_=null,!1)}var cw=typeof setTimeout=="function"?setTimeout:void 0,uP=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,fP=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(s){return uw.resolve(null).then(s).catch(dP)}:cw;function dP(s){setTimeout(function(){throw s})}function k_(s,l){var p=l,y=0;do{var _=p.nextSibling;if(s.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(y===0){s.removeChild(_),dy(l);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=_}while(p);dy(l)}function F_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":F_(p),uc(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function hP(s,l,p,y){for(;s.nodeType===1;){var _=p;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[yo])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(R=s.getAttribute("rel"),R==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(R!==_.rel||s.getAttribute("href")!==(_.href==null?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(R=s.getAttribute("src"),(R!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&R&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var R=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===R)return s}else return s;if(s=qo(s.nextSibling),s===null)break}return null}function pP(s,l,p){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=qo(s.nextSibling),s===null))return null;return s}function qo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}function fw(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}function dw(s,l,p){switch(l=Ax(p),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var to=new Map,hw=new Set;function _x(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Pc=se.d;se.d={f:mP,r:gP,D:yP,C:vP,L:xP,m:bP,X:AP,S:SP,M:_P};function mP(){var s=Pc.f(),l=Oc();return s||l}function gP(s){var l=V(s);l!==null&&l.tag===5&&l.type==="form"?$v(l):Pc.r(s)}var Ap=typeof document>"u"?null:document;function pw(s,l,p){var y=Ap;if(y&&typeof l=="string"&&l){var _=ir(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),hw.has(_)||(hw.add(_),s={rel:s,crossOrigin:p,href:l},y.querySelector(_)===null&&(l=y.createElement("link"),Jr(l,"link",s),_e(l),y.head.appendChild(l)))}}function yP(s){Pc.D(s),pw("dns-prefetch",s,null)}function vP(s,l){Pc.C(s,l),pw("preconnect",s,l)}function xP(s,l,p){Pc.L(s,l,p);var y=Ap;if(y&&s&&l){var _='link[rel="preload"][as="'+ir(l)+'"]';l==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+ir(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+ir(p.imageSizes)+'"]')):_+='[href="'+ir(s)+'"]';var R=_;switch(l){case"style":R=_p(s);break;case"script":R=Mp(s)}to.has(R)||(s=w({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:s,as:l},p),to.set(R,s),y.querySelector(_)!==null||l==="style"&&y.querySelector(ay(R))||l==="script"&&y.querySelector(sy(R))||(l=y.createElement("link"),Jr(l,"link",s),_e(l),y.head.appendChild(l)))}}function bP(s,l){Pc.m(s,l);var p=Ap;if(p&&s){var y=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+ir(y)+'"][href="'+ir(s)+'"]',R=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Mp(s)}if(!to.has(R)&&(s=w({rel:"modulepreload",href:s},l),to.set(R,s),p.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(sy(R)))return}y=p.createElement("link"),Jr(y,"link",s),_e(y),p.head.appendChild(y)}}}function SP(s,l,p){Pc.S(s,l,p);var y=Ap;if(y&&s){var _=Re(y).hoistableStyles,R=_p(s);l=l||"default";var H=_.get(R);if(!H){var X={loading:0,preload:null};if(H=y.querySelector(ay(R)))X.loading=5;else{s=w({rel:"stylesheet",href:s,"data-precedence":l},p),(p=to.get(R))&&H_(s,p);var ie=H=y.createElement("link");_e(ie),Jr(ie,"link",s),ie._p=new Promise(function(ge,Ke){ie.onload=ge,ie.onerror=Ke}),ie.addEventListener("load",function(){X.loading|=1}),ie.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Mx(H,l,y)}H={type:"stylesheet",instance:H,count:1,state:X},_.set(R,H)}}}function AP(s,l){Pc.X(s,l);var p=Ap;if(p&&s){var y=Re(p).hoistableScripts,_=Mp(s),R=y.get(_);R||(R=p.querySelector(sy(_)),R||(s=w({src:s,async:!0},l),(l=to.get(_))&&j_(s,l),R=p.createElement("script"),_e(R),Jr(R,"link",s),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},y.set(_,R))}}function _P(s,l){Pc.M(s,l);var p=Ap;if(p&&s){var y=Re(p).hoistableScripts,_=Mp(s),R=y.get(_);R||(R=p.querySelector(sy(_)),R||(s=w({src:s,async:!0,type:"module"},l),(l=to.get(_))&&j_(s,l),R=p.createElement("script"),_e(R),Jr(R,"link",s),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},y.set(_,R))}}function mw(s,l,p,y){var _=(_=ht.current)?_x(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=_p(p.href),p=Re(_).hoistableStyles,y=p.get(l),y||(y={type:"style",instance:null,count:0,state:null},p.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=_p(p.href);var R=Re(_).hoistableStyles,H=R.get(s);if(H||(_=_.ownerDocument||_,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(s,H),(R=_.querySelector(ay(s)))&&!R._p&&(H.instance=R,H.state.loading=5),to.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},to.set(s,p),R||MP(_,s,p,H.state))),l&&y===null)throw Error(i(528,""));return H}if(l&&y!==null)throw Error(i(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Mp(p),p=Re(_).hoistableScripts,y=p.get(l),y||(y={type:"script",instance:null,count:0,state:null},p.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function _p(s){return'href="'+ir(s)+'"'}function ay(s){return'link[rel="stylesheet"]['+s+"]"}function gw(s){return w({},s,{"data-precedence":s.precedence,precedence:null})}function MP(s,l,p,y){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=s.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),Jr(l,"link",p),_e(l),s.head.appendChild(l))}function Mp(s){return'[src="'+ir(s)+'"]'}function sy(s){return"script[async]"+s}function yw(s,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var y=s.querySelector('style[data-href~="'+ir(p.href)+'"]');if(y)return l.instance=y,_e(y),y;var _=w({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),_e(y),Jr(y,"style",_),Mx(y,p.precedence,s),l.instance=y;case"stylesheet":_=_p(p.href);var R=s.querySelector(ay(_));if(R)return l.state.loading|=4,l.instance=R,_e(R),R;y=gw(p),(_=to.get(_))&&H_(y,_),R=(s.ownerDocument||s).createElement("link"),_e(R);var H=R;return H._p=new Promise(function(X,ie){H.onload=X,H.onerror=ie}),Jr(R,"link",y),l.state.loading|=4,Mx(R,p.precedence,s),l.instance=R;case"script":return R=Mp(p.src),(_=s.querySelector(sy(R)))?(l.instance=_,_e(_),_):(y=p,(_=to.get(R))&&(y=w({},p),j_(y,_)),s=s.ownerDocument||s,_=s.createElement("script"),_e(_),Jr(_,"link",y),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,Mx(y,p.precedence,s));return l.instance}function Mx(s,l,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,R=_,H=0;H<y.length;H++){var X=y[H];if(X.dataset.precedence===l)R=X;else if(R!==_)break}R?R.parentNode.insertBefore(s,R.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(s,l.firstChild))}function H_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function j_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ex=null;function vw(s,l,p){if(Ex===null){var y=new Map,_=Ex=new Map;_.set(p,y)}else _=Ex,y=_.get(p),y||(y=new Map,_.set(p,y));if(y.has(s))return y;for(y.set(s,null),p=p.getElementsByTagName(s),_=0;_<p.length;_++){var R=p[_];if(!(R[yo]||R[Si]||s==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var H=R.getAttribute(l)||"";H=s+H;var X=y.get(H);X?X.push(R):y.set(H,[R])}}return y}function xw(s,l,p){s=s.ownerDocument||s,s.head.insertBefore(p,l==="title"?s.querySelector("head > title"):null)}function EP(s,l,p){if(p===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function bw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var oy=null;function CP(){}function TP(s,l,p){if(oy===null)throw Error(i(475));var y=oy;if(l.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=_p(p.href),R=s.querySelector(ay(_));if(R){s=R._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(y.count++,y=Cx.bind(y),s.then(y,y)),l.state.loading|=4,l.instance=R,_e(R);return}R=s.ownerDocument||s,p=gw(p),(_=to.get(_))&&H_(p,_),R=R.createElement("link"),_e(R);var H=R;H._p=new Promise(function(X,ie){H.onload=X,H.onerror=ie}),Jr(R,"link",p),l.instance=R}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(y.count++,l=Cx.bind(y),s.addEventListener("load",l),s.addEventListener("error",l))}}function wP(){if(oy===null)throw Error(i(475));var s=oy;return s.stylesheets&&s.count===0&&G_(s,s.stylesheets),0<s.count?function(l){var p=setTimeout(function(){if(s.stylesheets&&G_(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(p)}}:null}function Cx(){if(this.count--,this.count===0){if(this.stylesheets)G_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Tx=null;function G_(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Tx=new Map,l.forEach(RP,s),Tx=null,Cx.call(s))}function RP(s,l){if(!(l.state.loading&4)){var p=Tx.get(s);if(p)var y=p.get(null);else{p=new Map,Tx.set(s,p);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<_.length;R++){var H=_[R];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(p.set(H.dataset.precedence,H),y=H)}y&&p.set(null,y)}_=l.instance,H=_.getAttribute("data-precedence"),R=p.get(H)||y,R===y&&p.set(null,_),p.set(H,_),this.count++,y=Cx.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),R?R.parentNode.insertBefore(_,R.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var ly={$$typeof:b,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function BP(s,l,p,y,_,R,H,X){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=R,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Sw(s,l,p,y,_,R,H,X,ie,ge,Ke,nt){return s=new BP(s,l,p,H,X,ie,ge,nt),l=1,R===!0&&(l|=24),R=Pi(3,null,null,l),s.current=R,R.stateNode=s,l=Cg(),l.refCount++,s.pooledCache=l,l.refCount++,R.memoizedState={element:y,isDehydrated:p,cache:l},Xr(R),s}function Aw(s){return s?(s=Sl,s):Sl}function _w(s,l,p,y,_,R){_=Aw(_),y.context===null?y.context=_:y.pendingContext=_,y=Ba(l),y.payload={element:p},R=R===void 0?null:R,R!==null&&(y.callback=R),p=Da(s,y,l),p!==null&&(qi(p,s,l),kl(p,s,l))}function Mw(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function V_(s,l){Mw(s,l),(s=s.alternate)&&Mw(s,l)}function Ew(s){if(s.tag===13){var l=Co(s,67108864);l!==null&&qi(l,s,67108864),V_(s,67108864)}}var wx=!0;function DP(s,l,p,y){var _=P.T;P.T=null;var R=se.p;try{se.p=2,X_(s,l,p,y)}finally{se.p=R,P.T=_}}function zP(s,l,p,y){var _=P.T;P.T=null;var R=se.p;try{se.p=8,X_(s,l,p,y)}finally{se.p=R,P.T=_}}function X_(s,l,p,y){if(wx){var _=W_(y);if(_===null)L_(s,l,y,Rx,p),Tw(s,y);else if(OP(_,s,l,p,y))y.stopPropagation();else if(Tw(s,y),l&4&&-1<LP.indexOf(s)){for(;_!==null;){var R=V(_);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var H=rt(R.pendingLanes);if(H!==0){var X=R;for(X.pendingLanes|=2,X.entangledLanes|=2;H;){var ie=1<<31-Ie(H);X.entanglements[1]|=ie,H&=~ie}Qn(R),(qt&6)===0&&(hn=Ee()+500,vn(0))}}break;case 13:X=Co(R,2),X!==null&&qi(X,R,2),Oc(),V_(R,2)}if(R=W_(y),R===null&&L_(s,l,y,Rx,p),R===_)break;_=R}_!==null&&y.stopPropagation()}else L_(s,l,y,null,p)}}function W_(s){return s=If(s),Y_(s)}var Rx=null;function Y_(s){if(Rx=null,s=gs(s),s!==null){var l=Q(s);if(l===null)s=null;else{var p=l.tag;if(p===13){if(s=de(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Rx=s,null}function Cw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case fe:return 2;case Fe:return 8;case Pe:case Je:return 32;case et:return 268435456;default:return 32}default:return 32}}var K_=!1,qu=null,Ju=null,Zu=null,cy=new Map,uy=new Map,Qu=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tw(s,l){switch(s){case"focusin":case"focusout":qu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":cy.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":uy.delete(l.pointerId)}}function fy(s,l,p,y,_,R){return s===null||s.nativeEvent!==R?(s={blockedOn:l,domEventName:p,eventSystemFlags:y,nativeEvent:R,targetContainers:[_]},l!==null&&(l=V(l),l!==null&&Ew(l)),s):(s.eventSystemFlags|=y,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function OP(s,l,p,y,_){switch(l){case"focusin":return qu=fy(qu,s,l,p,y,_),!0;case"dragenter":return Ju=fy(Ju,s,l,p,y,_),!0;case"mouseover":return Zu=fy(Zu,s,l,p,y,_),!0;case"pointerover":var R=_.pointerId;return cy.set(R,fy(cy.get(R)||null,s,l,p,y,_)),!0;case"gotpointercapture":return R=_.pointerId,uy.set(R,fy(uy.get(R)||null,s,l,p,y,_)),!0}return!1}function ww(s){var l=gs(s.target);if(l!==null){var p=Q(l);if(p!==null){if(l=p.tag,l===13){if(l=de(p),l!==null){s.blockedOn=l,ps(s.priority,function(){if(p.tag===13){var y=qr(),_=Co(p,y);_!==null&&qi(_,p,y),V_(p,y)}});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bx(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=W_(s.nativeEvent);if(p===null){p=s.nativeEvent;var y=new p.constructor(p.type,p);zh=y,p.target.dispatchEvent(y),zh=null}else return l=V(p),l!==null&&Ew(l),s.blockedOn=p,!1;l.shift()}return!0}function Rw(s,l,p){Bx(s)&&p.delete(l)}function NP(){K_=!1,qu!==null&&Bx(qu)&&(qu=null),Ju!==null&&Bx(Ju)&&(Ju=null),Zu!==null&&Bx(Zu)&&(Zu=null),cy.forEach(Rw),uy.forEach(Rw)}function Dx(s,l){s.blockedOn===l&&(s.blockedOn=null,K_||(K_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NP)))}var zx=null;function Bw(s){zx!==s&&(zx=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zx===s&&(zx=null);for(var l=0;l<s.length;l+=3){var p=s[l],y=s[l+1],_=s[l+2];if(typeof y!="function"){if(Y_(y||p)===null)continue;break}var R=V(p);R!==null&&(s.splice(l,3),l-=3,Ng(R,{pending:!0,data:_,method:p.method,action:y},y,_))}}))}function dy(s){function l(ie){return Dx(ie,s)}qu!==null&&Dx(qu,s),Ju!==null&&Dx(Ju,s),Zu!==null&&Dx(Zu,s),cy.forEach(l),uy.forEach(l);for(var p=0;p<Qu.length;p++){var y=Qu[p];y.blockedOn===s&&(y.blockedOn=null)}for(;0<Qu.length&&(p=Qu[0],p.blockedOn===null);)ww(p),p.blockedOn===null&&Qu.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var _=p[y],R=p[y+1],H=_[rn]||null;if(typeof R=="function")H||Bw(p);else if(H){var X=null;if(R&&R.hasAttribute("formAction")){if(_=R,H=R[rn]||null)X=H.formAction;else if(Y_(_)!==null)continue}else X=H.action;typeof X=="function"?p[y+1]=X:(p.splice(y,3),y-=3),Bw(p)}}}function q_(s){this._internalRoot=s}Lx.prototype.render=q_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var p=l.current,y=qr();_w(p,y,s,l,null,null)},Lx.prototype.unmount=q_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;s.tag===0&&ut(),_w(s.current,2,null,s,null,null),Oc(),l[ms]=null}};function Lx(s){this._internalRoot=s}Lx.prototype.unstable_scheduleHydration=function(s){if(s){var l=hu();s={blockedOn:null,target:s,priority:l};for(var p=0;p<Qu.length&&l!==0&&l<Qu[p].priority;p++);Qu.splice(p,0,s),p===0&&ww(s)}};var Dw=e.version;if(Dw!=="19.0.0")throw Error(i(527,Dw,"19.0.0"));se.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=te(l),s=s!==null?Ce(s):null,s=s===null?null:s.stateNode,s};var UP={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:gs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ox.isDisabled&&Ox.supportsFiber)try{ct=Ox.inject(UP),ft=Ox}catch{}}return my.createRoot=function(s,l){if(!r(s))throw Error(i(299));var p=!1,y="",_=ox,R=lx,H=cx,X=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(X=l.unstable_transitionCallbacks)),l=Sw(s,1,!1,null,null,p,y,_,R,H,X,null),s[ms]=l.current,z_(s.nodeType===8?s.parentNode:s),new q_(l)},my.hydrateRoot=function(s,l,p){if(!r(s))throw Error(i(299));var y=!1,_="",R=ox,H=lx,X=cx,ie=null,ge=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(R=p.onUncaughtError),p.onCaughtError!==void 0&&(H=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ie=p.unstable_transitionCallbacks),p.formState!==void 0&&(ge=p.formState)),l=Sw(s,1,!0,l,p??null,y,_,R,H,X,ie,ge),l.context=Aw(null),p=l.current,y=qr(),_=Ba(y),_.callback=null,Da(p,_,y),l.current.lanes=y,Ri(l,y),Qn(l),s[ms]=l.current,z_(s),new Lx(l)},my.version="19.0.0",my}var Hw;function YP(){if(Hw)return Q_.exports;Hw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Q_.exports=WP(),Q_.exports}var wz=YP();const KP=O0(wz);var Rz=Tz();const Nx=O0(Rz);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a0(){return a0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},a0.apply(this,arguments)}var hf;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(hf||(hf={}));const jw="popstate";function qP(n){n===void 0&&(n={});function e(i,r){let{pathname:a,search:o,hash:c}=i.location;return N1("",{pathname:a,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:oS(r)}return ZP(e,t,null,n)}function cr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bz(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JP(){return Math.random().toString(36).substr(2,8)}function Gw(n,e){return{usr:n.state,key:n.key,idx:e}}function N1(n,e,t,i){return t===void 0&&(t=null),a0({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Gm(e):e,{state:t,key:e&&e.key||i||JP()})}function oS(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Gm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function ZP(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,c=hf.Pop,u=null,h=m();h==null&&(h=0,o.replaceState(a0({},o.state,{idx:h}),""));function m(){return(o.state||{idx:null}).idx}function g(){c=hf.Pop;let M=m(),A=M==null?null:M-h;h=M,u&&u({action:c,location:E.location,delta:A})}function v(M,A){c=hf.Push;let z=N1(E.location,M,A);h=m()+1;let B=Gw(z,h),L=E.createHref(z);try{o.pushState(B,"",L)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(L)}a&&u&&u({action:c,location:E.location,delta:1})}function b(M,A){c=hf.Replace;let z=N1(E.location,M,A);h=m();let B=Gw(z,h),L=E.createHref(z);o.replaceState(B,"",L),a&&u&&u({action:c,location:E.location,delta:0})}function S(M){let A=r.location.origin!=="null"?r.location.origin:r.location.href,z=typeof M=="string"?M:oS(M);return z=z.replace(/ $/,"%20"),cr(A,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,A)}let E={get action(){return c},get location(){return n(r,o)},listen(M){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(jw,g),u=M,()=>{r.removeEventListener(jw,g),u=null}},createHref(M){return e(r,M)},createURL:S,encodeLocation(M){let A=S(M);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:b,go(M){return o.go(M)}};return E}var Vw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Vw||(Vw={}));function QP(n,e,t){return t===void 0&&(t="/"),$P(n,e,t)}function $P(n,e,t,i){let r=typeof e=="string"?Gm(e):e,a=jE(r.pathname||"/",t);if(a==null)return null;let o=Dz(n);eI(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=dI(a);c=cI(o[u],h)}return c}function Dz(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(a,o,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(cr(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=yf([i,u.relativePath]),m=t.concat(u);a.children&&a.children.length>0&&(cr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Dz(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:oI(h,a.index),routesMeta:m})};return n.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,o);else for(let u of zz(a.path))r(a,o,u)}),e}function zz(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=zz(i.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),r&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function eI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const tI=/^:[\w-]+$/,nI=3,iI=2,rI=1,aI=10,sI=-2,Xw=n=>n==="*";function oI(n,e){let t=n.split("/"),i=t.length;return t.some(Xw)&&(i+=sI),e&&(i+=iI),t.filter(r=>!Xw(r)).reduce((r,a)=>r+(tI.test(a)?nI:a===""?rI:aI),i)}function lI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function cI(n,e,t){let{routesMeta:i}=n,r={},a="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],h=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=uI({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),v=u.route;if(!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:yf([a,g.pathname]),pathnameBase:gI(yf([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=yf([a,g.pathnameBase]))}return o}function uI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=fI(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,m,g)=>{let{paramName:v,isOptional:b}=m;if(v==="*"){let E=c[g]||"";o=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const S=c[g];return b&&!S?h[v]=void 0:h[v]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:n}}function fI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Bz(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function dI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bz(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function jE(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function hI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Gm(n):n;return{pathname:t?t.startsWith("/")?t:pI(t,e):e,search:yI(i),hash:vI(r)}}function pI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function nM(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function GE(n,e){let t=mI(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function VE(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Gm(n):(r=a0({},n),cr(!r.pathname||!r.pathname.includes("?"),nM("?","pathname","search",r)),cr(!r.pathname||!r.pathname.includes("#"),nM("#","pathname","hash",r)),cr(!r.search||!r.search.includes("#"),nM("#","search","hash",r)));let a=n===""||r.pathname==="",o=a?"/":r.pathname,c;if(o==null)c=t;else{let g=e.length-1;if(!i&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}c=g>=0?e[g]:"/"}let u=hI(r,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const yf=n=>n.join("/").replace(/\/\/+/g,"/"),gI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Lz=["post","put","patch","delete"];new Set(Lz);const bI=["get",...Lz];new Set(bI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s0(){return s0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},s0.apply(this,arguments)}const XE=I.createContext(null),SI=I.createContext(null),Tf=I.createContext(null),uA=I.createContext(null),wf=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Oz=I.createContext(null);function AI(n,e){let{relative:t}=e===void 0?{}:e;Vm()||cr(!1);let{basename:i,navigator:r}=I.useContext(Tf),{hash:a,pathname:o,search:c}=Uz(n,{relative:t}),u=o;return i!=="/"&&(u=o==="/"?i:yf([i,o])),r.createHref({pathname:u,search:c,hash:a})}function Vm(){return I.useContext(uA)!=null}function bh(){return Vm()||cr(!1),I.useContext(uA).location}function Nz(n){I.useContext(Tf).static||I.useLayoutEffect(n)}function WE(){let{isDataRoute:n}=I.useContext(wf);return n?NI():_I()}function _I(){Vm()||cr(!1);let n=I.useContext(XE),{basename:e,future:t,navigator:i}=I.useContext(Tf),{matches:r}=I.useContext(wf),{pathname:a}=bh(),o=JSON.stringify(GE(r,t.v7_relativeSplatPath)),c=I.useRef(!1);return Nz(()=>{c.current=!0}),I.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){i.go(h);return}let g=VE(h,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:yf([e,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[e,i,o,a,n])}function Uz(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=I.useContext(Tf),{matches:r}=I.useContext(wf),{pathname:a}=bh(),o=JSON.stringify(GE(r,i.v7_relativeSplatPath));return I.useMemo(()=>VE(n,JSON.parse(o),a,t==="path"),[n,o,a,t])}function MI(n,e){return EI(n,e)}function EI(n,e,t,i){Vm()||cr(!1);let{navigator:r,static:a}=I.useContext(Tf),{matches:o}=I.useContext(wf),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=bh(),g;if(e){var v;let A=typeof e=="string"?Gm(e):e;h==="/"||(v=A.pathname)!=null&&v.startsWith(h)||cr(!1),g=A}else g=m;let b=g.pathname||"/",S=b;if(h!=="/"){let A=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=QP(n,{pathname:S}),M=BI(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:yf([h,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:yf([h,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,i);return e&&M?I.createElement(uA.Provider,{value:{location:s0({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:hf.Pop}},M):M}function CI(){let n=OI(),e=xI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:r},t):null,null)}const TI=I.createElement(CI,null);class wI extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(wf.Provider,{value:this.props.routeContext},I.createElement(Oz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RI(n){let{routeContext:e,match:t,children:i}=n,r=I.useContext(XE);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(wf.Provider,{value:e},i)}function BI(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=(r=t)==null?void 0:r.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||cr(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,h=-1;if(t&&i&&i.v7_partialHydration)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:b}=t,S=g.route.loader&&v[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let b,S=!1,E=null,M=null;t&&(b=c&&g.route.id?c[g.route.id]:void 0,E=g.route.errorElement||TI,u&&(h<0&&v===0?(UI("route-fallback"),S=!0,M=null):h===v&&(S=!0,M=g.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,v+1)),z=()=>{let B;return b?B=E:S?B=M:g.route.Component?B=I.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=m,I.createElement(RI,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:B})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?I.createElement(wI,{location:t.location,revalidation:t.revalidation,component:E,error:b,children:z(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):z()},null)}var Pz=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Pz||{}),Iz=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Iz||{});function DI(n){let e=I.useContext(XE);return e||cr(!1),e}function zI(n){let e=I.useContext(SI);return e||cr(!1),e}function LI(n){let e=I.useContext(wf);return e||cr(!1),e}function kz(n){let e=LI(),t=e.matches[e.matches.length-1];return t.route.id||cr(!1),t.route.id}function OI(){var n;let e=I.useContext(Oz),t=zI(),i=kz();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function NI(){let{router:n}=DI(Pz.UseNavigateStable),e=kz(Iz.UseNavigateStable),t=I.useRef(!1);return Nz(()=>{t.current=!0}),I.useCallback(function(r,a){a===void 0&&(a={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,s0({fromRouteId:e},a)))},[n,e])}const Ww={};function UI(n,e,t){Ww[n]||(Ww[n]=!0)}function PI(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function II(n){let{to:e,replace:t,state:i,relative:r}=n;Vm()||cr(!1);let{future:a,static:o}=I.useContext(Tf),{matches:c}=I.useContext(wf),{pathname:u}=bh(),h=WE(),m=VE(e,GE(c,a.v7_relativeSplatPath),u,r==="path"),g=JSON.stringify(m);return I.useEffect(()=>h(JSON.parse(g),{replace:t,state:i,relative:r}),[h,g,r,t,i]),null}function Ir(n){cr(!1)}function kI(n){let{basename:e="/",children:t=null,location:i,navigationType:r=hf.Pop,navigator:a,static:o=!1,future:c}=n;Vm()&&cr(!1);let u=e.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:u,navigator:a,static:o,future:s0({v7_relativeSplatPath:!1},c)}),[u,c,a,o]);typeof i=="string"&&(i=Gm(i));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:S="default"}=i,E=I.useMemo(()=>{let M=jE(m,u);return M==null?null:{location:{pathname:M,search:g,hash:v,state:b,key:S},navigationType:r}},[u,m,g,v,b,S,r]);return E==null?null:I.createElement(Tf.Provider,{value:h},I.createElement(uA.Provider,{children:t,value:E}))}function FI(n){let{children:e,location:t}=n;return MI(U1(e),t)}new Promise(()=>{});function U1(n,e){e===void 0&&(e=[]);let t=[];return I.Children.forEach(n,(i,r)=>{if(!I.isValidElement(i))return;let a=[...e,r];if(i.type===I.Fragment){t.push.apply(t,U1(i.props.children,a));return}i.type!==Ir&&cr(!1),!i.props.index||!i.props.children||cr(!1);let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=U1(i.props.children,a)),t.push(o)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P1(){return P1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},P1.apply(this,arguments)}function HI(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function jI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GI(n,e){return n.button===0&&(!e||e==="_self")&&!jI(n)}const VI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XI="6";try{window.__reactRouterVersion=XI}catch{}const WI="startTransition",Yw=r0[WI];function YI(n){let{basename:e,children:t,future:i,window:r}=n,a=I.useRef();a.current==null&&(a.current=qP({window:r,v5Compat:!0}));let o=a.current,[c,u]=I.useState({action:o.action,location:o.location}),{v7_startTransition:h}=i||{},m=I.useCallback(g=>{h&&Yw?Yw(()=>u(g)):u(g)},[u,h]);return I.useLayoutEffect(()=>o.listen(m),[o,m]),I.useEffect(()=>PI(i),[i]),I.createElement(kI,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o,future:i})}const KI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nl=I.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:a,replace:o,state:c,target:u,to:h,preventScrollReset:m,viewTransition:g}=e,v=HI(e,VI),{basename:b}=I.useContext(Tf),S,E=!1;if(typeof h=="string"&&qI.test(h)&&(S=h,KI))try{let B=new URL(window.location.href),L=h.startsWith("//")?new URL(B.protocol+h):new URL(h),O=jE(L.pathname,b);L.origin===B.origin&&O!=null?h=O+L.search+L.hash:E=!0}catch{}let M=AI(h,{relative:r}),A=JI(h,{replace:o,state:c,target:u,preventScrollReset:m,relative:r,viewTransition:g});function z(B){i&&i(B),B.defaultPrevented||A(B)}return I.createElement("a",P1({},v,{href:S||M,onClick:E||a?i:z,ref:t,target:u}))});var Kw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Kw||(Kw={}));var qw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(qw||(qw={}));function JI(n,e){let{target:t,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:c}=e===void 0?{}:e,u=WE(),h=bh(),m=Uz(n,{relative:o});return I.useCallback(g=>{if(GI(g,t)){g.preventDefault();let v=i!==void 0?i:oS(h)===oS(m);u(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,u,m,i,r,t,n,a,o,c])}const o0={black:"#000",white:"#fff"},Ep={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Cp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Tp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},wp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Rp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},gy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ZI={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function uh(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const rl="$$material";function Pa(){return Pa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pa.apply(null,arguments)}function QI(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function $I(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ek=function(){function n(t){var i=this;this._insertTag=function(r){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,a),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($I(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=QI(r);try{a.insertRule(i,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ma="-ms-",lS="-moz-",Vn="-webkit-",Fz="comm",YE="rule",KE="decl",tk="@import",Hz="@keyframes",nk="@layer",ik=Math.abs,fA=String.fromCharCode,rk=Object.assign;function ak(n,e){return Qr(n,0)^45?(((e<<2^Qr(n,0))<<2^Qr(n,1))<<2^Qr(n,2))<<2^Qr(n,3):0}function jz(n){return n.trim()}function sk(n,e){return(n=e.exec(n))?n[0]:n}function Xn(n,e,t){return n.replace(e,t)}function I1(n,e){return n.indexOf(e)}function Qr(n,e){return n.charCodeAt(e)|0}function l0(n,e,t){return n.slice(e,t)}function Zl(n){return n.length}function qE(n){return n.length}function Ux(n,e){return e.push(n),n}function ok(n,e){return n.map(e).join("")}var dA=1,bm=1,Gz=0,us=0,gr=0,Xm="";function hA(n,e,t,i,r,a,o){return{value:n,root:e,parent:t,type:i,props:r,children:a,line:dA,column:bm,length:o,return:""}}function yy(n,e){return rk(hA("",null,null,"",null,null,0),n,{length:-n.length},e)}function lk(){return gr}function ck(){return gr=us>0?Qr(Xm,--us):0,bm--,gr===10&&(bm=1,dA--),gr}function Ns(){return gr=us<Gz?Qr(Xm,us++):0,bm++,gr===10&&(bm=1,dA++),gr}function ec(){return Qr(Xm,us)}function Yb(){return us}function N0(n,e){return l0(Xm,n,e)}function c0(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vz(n){return dA=bm=1,Gz=Zl(Xm=n),us=0,[]}function Xz(n){return Xm="",n}function Kb(n){return jz(N0(us-1,k1(n===91?n+2:n===40?n+1:n)))}function uk(n){for(;(gr=ec())&&gr<33;)Ns();return c0(n)>2||c0(gr)>3?"":" "}function fk(n,e){for(;--e&&Ns()&&!(gr<48||gr>102||gr>57&&gr<65||gr>70&&gr<97););return N0(n,Yb()+(e<6&&ec()==32&&Ns()==32))}function k1(n){for(;Ns();)switch(gr){case n:return us;case 34:case 39:n!==34&&n!==39&&k1(gr);break;case 40:n===41&&k1(n);break;case 92:Ns();break}return us}function dk(n,e){for(;Ns()&&n+gr!==57;)if(n+gr===84&&ec()===47)break;return"/*"+N0(e,us-1)+"*"+fA(n===47?n:Ns())}function hk(n){for(;!c0(ec());)Ns();return N0(n,us)}function pk(n){return Xz(qb("",null,null,null,[""],n=Vz(n),0,[0],n))}function qb(n,e,t,i,r,a,o,c,u){for(var h=0,m=0,g=o,v=0,b=0,S=0,E=1,M=1,A=1,z=0,B="",L=r,O=a,U=i,k=B;M;)switch(S=z,z=Ns()){case 40:if(S!=108&&Qr(k,g-1)==58){I1(k+=Xn(Kb(z),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:k+=Kb(z);break;case 9:case 10:case 13:case 32:k+=uk(S);break;case 92:k+=fk(Yb()-1,7);continue;case 47:switch(ec()){case 42:case 47:Ux(mk(dk(Ns(),Yb()),e,t),u);break;default:k+="/"}break;case 123*E:c[h++]=Zl(k)*A;case 125*E:case 59:case 0:switch(z){case 0:case 125:M=0;case 59+m:A==-1&&(k=Xn(k,/\f/g,"")),b>0&&Zl(k)-g&&Ux(b>32?Zw(k+";",i,t,g-1):Zw(Xn(k," ","")+";",i,t,g-2),u);break;case 59:k+=";";default:if(Ux(U=Jw(k,e,t,h,m,r,c,B,L=[],O=[],g),a),z===123)if(m===0)qb(k,e,U,U,L,a,g,c,O);else switch(v===99&&Qr(k,3)===110?100:v){case 100:case 108:case 109:case 115:qb(n,U,U,i&&Ux(Jw(n,U,U,0,0,r,c,B,r,L=[],g),O),r,O,g,c,i?L:O);break;default:qb(k,U,U,U,[""],O,0,c,O)}}h=m=b=0,E=A=1,B=k="",g=o;break;case 58:g=1+Zl(k),b=S;default:if(E<1){if(z==123)--E;else if(z==125&&E++==0&&ck()==125)continue}switch(k+=fA(z),z*E){case 38:A=m>0?1:(k+="\f",-1);break;case 44:c[h++]=(Zl(k)-1)*A,A=1;break;case 64:ec()===45&&(k+=Kb(Ns())),v=ec(),m=g=Zl(B=k+=hk(Yb())),z++;break;case 45:S===45&&Zl(k)==2&&(E=0)}}return a}function Jw(n,e,t,i,r,a,o,c,u,h,m){for(var g=r-1,v=r===0?a:[""],b=qE(v),S=0,E=0,M=0;S<i;++S)for(var A=0,z=l0(n,g+1,g=ik(E=o[S])),B=n;A<b;++A)(B=jz(E>0?v[A]+" "+z:Xn(z,/&\f/g,v[A])))&&(u[M++]=B);return hA(n,e,t,r===0?YE:c,u,h,m)}function mk(n,e,t){return hA(n,e,t,Fz,fA(lk()),l0(n,2,-2),0)}function Zw(n,e,t,i){return hA(n,e,t,KE,l0(n,0,i),l0(n,i+1,-1),i)}function hm(n,e){for(var t="",i=qE(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function gk(n,e,t,i){switch(n.type){case nk:if(n.children.length)break;case tk:case KE:return n.return=n.return||n.value;case Fz:return"";case Hz:return n.return=n.value+"{"+hm(n.children,i)+"}";case YE:n.value=n.props.join(",")}return Zl(t=hm(n.children,i))?n.return=n.value+"{"+t+"}":""}function yk(n){var e=qE(n);return function(t,i,r,a){for(var o="",c=0;c<e;c++)o+=n[c](t,i,r,a)||"";return o}}function vk(n){return function(e){e.root||(e=e.return)&&n(e)}}function Wz(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var xk=function(e,t,i){for(var r=0,a=0;r=a,a=ec(),r===38&&a===12&&(t[i]=1),!c0(a);)Ns();return N0(e,us)},bk=function(e,t){var i=-1,r=44;do switch(c0(r)){case 0:r===38&&ec()===12&&(t[i]=1),e[i]+=xk(us-1,t,i);break;case 2:e[i]+=Kb(r);break;case 4:if(r===44){e[++i]=ec()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=fA(r)}while(r=Ns());return e},Sk=function(e,t){return Xz(bk(Vz(e),t))},Qw=new WeakMap,Ak=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Qw.get(i))&&!r){Qw.set(e,!0);for(var a=[],o=Sk(t,a),c=i.props,u=0,h=0;u<o.length;u++)for(var m=0;m<c.length;m++,h++)e.props[h]=a[u]?o[u].replace(/&\f/g,c[m]):c[m]+" "+o[u]}}},_k=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Yz(n,e){switch(ak(n,e)){case 5103:return Vn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Vn+n+lS+n+ma+n+n;case 6828:case 4268:return Vn+n+ma+n+n;case 6165:return Vn+n+ma+"flex-"+n+n;case 5187:return Vn+n+Xn(n,/(\w+).+(:[^]+)/,Vn+"box-$1$2"+ma+"flex-$1$2")+n;case 5443:return Vn+n+ma+"flex-item-"+Xn(n,/flex-|-self/,"")+n;case 4675:return Vn+n+ma+"flex-line-pack"+Xn(n,/align-content|flex-|-self/,"")+n;case 5548:return Vn+n+ma+Xn(n,"shrink","negative")+n;case 5292:return Vn+n+ma+Xn(n,"basis","preferred-size")+n;case 6060:return Vn+"box-"+Xn(n,"-grow","")+Vn+n+ma+Xn(n,"grow","positive")+n;case 4554:return Vn+Xn(n,/([^-])(transform)/g,"$1"+Vn+"$2")+n;case 6187:return Xn(Xn(Xn(n,/(zoom-|grab)/,Vn+"$1"),/(image-set)/,Vn+"$1"),n,"")+n;case 5495:case 3959:return Xn(n,/(image-set\([^]*)/,Vn+"$1$`$1");case 4968:return Xn(Xn(n,/(.+:)(flex-)?(.*)/,Vn+"box-pack:$3"+ma+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vn+n+n;case 4095:case 3583:case 4068:case 2532:return Xn(n,/(.+)-inline(.+)/,Vn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zl(n)-1-e>6)switch(Qr(n,e+1)){case 109:if(Qr(n,e+4)!==45)break;case 102:return Xn(n,/(.+:)(.+)-([^]+)/,"$1"+Vn+"$2-$3$1"+lS+(Qr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~I1(n,"stretch")?Yz(Xn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Qr(n,e+1)!==115)break;case 6444:switch(Qr(n,Zl(n)-3-(~I1(n,"!important")&&10))){case 107:return Xn(n,":",":"+Vn)+n;case 101:return Xn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vn+(Qr(n,14)===45?"inline-":"")+"box$3$1"+Vn+"$2$3$1"+ma+"$2box$3")+n}break;case 5936:switch(Qr(n,e+11)){case 114:return Vn+n+ma+Xn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Vn+n+ma+Xn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Vn+n+ma+Xn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Vn+n+ma+n+n}return n}var Mk=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case KE:e.return=Yz(e.value,e.length);break;case Hz:return hm([yy(e,{value:Xn(e.value,"@","@"+Vn)})],r);case YE:if(e.length)return ok(e.props,function(a){switch(sk(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hm([yy(e,{props:[Xn(a,/:(read-\w+)/,":"+lS+"$1")]})],r);case"::placeholder":return hm([yy(e,{props:[Xn(a,/:(plac\w+)/,":"+Vn+"input-$1")]}),yy(e,{props:[Xn(a,/:(plac\w+)/,":"+lS+"$1")]}),yy(e,{props:[Xn(a,/:(plac\w+)/,ma+"input-$1")]})],r)}return""})}},Ek=[Mk],Ck=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(E){var M=E.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var r=e.stylisPlugins||Ek,a={},o,c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(E){for(var M=E.getAttribute("data-emotion").split(" "),A=1;A<M.length;A++)a[M[A]]=!0;c.push(E)});var u,h=[Ak,_k];{var m,g=[gk,vk(function(E){m.insert(E)})],v=yk(h.concat(r,g)),b=function(M){return hm(pk(M),v)};u=function(M,A,z,B){m=z,b(M?M+"{"+A.styles+"}":A.styles),B&&(S.inserted[A.name]=!0)}}var S={key:t,sheet:new ek({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:u};return S.sheet.hydrate(c),S},iM={exports:{}},Jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function Tk(){if($w)return Jn;$w=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,E=n?Symbol.for("react.block"):60121,M=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,z=n?Symbol.for("react.scope"):60119;function B(O){if(typeof O=="object"&&O!==null){var U=O.$$typeof;switch(U){case e:switch(O=O.type,O){case u:case h:case i:case a:case r:case g:return O;default:switch(O=O&&O.$$typeof,O){case c:case m:case S:case b:case o:return O;default:return U}}case t:return U}}}function L(O){return B(O)===h}return Jn.AsyncMode=u,Jn.ConcurrentMode=h,Jn.ContextConsumer=c,Jn.ContextProvider=o,Jn.Element=e,Jn.ForwardRef=m,Jn.Fragment=i,Jn.Lazy=S,Jn.Memo=b,Jn.Portal=t,Jn.Profiler=a,Jn.StrictMode=r,Jn.Suspense=g,Jn.isAsyncMode=function(O){return L(O)||B(O)===u},Jn.isConcurrentMode=L,Jn.isContextConsumer=function(O){return B(O)===c},Jn.isContextProvider=function(O){return B(O)===o},Jn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Jn.isForwardRef=function(O){return B(O)===m},Jn.isFragment=function(O){return B(O)===i},Jn.isLazy=function(O){return B(O)===S},Jn.isMemo=function(O){return B(O)===b},Jn.isPortal=function(O){return B(O)===t},Jn.isProfiler=function(O){return B(O)===a},Jn.isStrictMode=function(O){return B(O)===r},Jn.isSuspense=function(O){return B(O)===g},Jn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===i||O===h||O===a||O===r||O===g||O===v||typeof O=="object"&&O!==null&&(O.$$typeof===S||O.$$typeof===b||O.$$typeof===o||O.$$typeof===c||O.$$typeof===m||O.$$typeof===M||O.$$typeof===A||O.$$typeof===z||O.$$typeof===E)},Jn.typeOf=B,Jn}var eR;function wk(){return eR||(eR=1,iM.exports=Tk()),iM.exports}var rM,tR;function Rk(){if(tR)return rM;tR=1;var n=wk(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=r;function o(S){return n.isMemo(S)?r:a[S.$$typeof]||e}var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;function b(S,E,M){if(typeof E!="string"){if(v){var A=g(E);A&&A!==v&&b(S,A,M)}var z=u(E);h&&(z=z.concat(h(E)));for(var B=o(S),L=o(E),O=0;O<z.length;++O){var U=z[O];if(!t[U]&&!(M&&M[U])&&!(L&&L[U])&&!(B&&B[U])){var k=m(E,U);try{c(S,U,k)}catch{}}}}return S}return rM=b,rM}Rk();var Bk=!0;function Kz(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var JE=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||Bk===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},ZE=function(e,t,i){JE(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function Dk(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Lk=/[A-Z]|^ms/g,Ok=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qz=function(e){return e.charCodeAt(1)===45},nR=function(e){return e!=null&&typeof e!="boolean"},aM=Wz(function(n){return qz(n)?n:n.replace(Lk,"-$&").toLowerCase()}),iR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Ok,function(i,r,a){return Ql={name:r,styles:a,next:Ql},r})}return zk[e]!==1&&!qz(e)&&typeof t=="number"&&t!==0?t+"px":t};function u0(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return Ql={name:r.name,styles:r.styles,next:Ql},r.name;var a=t;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ql={name:o.name,styles:o.styles,next:Ql},o=o.next;var c=a.styles+";";return c}return Nk(n,e,t)}case"function":{if(n!==void 0){var u=Ql,h=t(n);return Ql=u,u0(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function Nk(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=u0(n,e,t[r])+";";else for(var a in t){var o=t[a];if(typeof o!="object"){var c=o;e!=null&&e[c]!==void 0?i+=a+"{"+e[c]+"}":nR(c)&&(i+=aM(a)+":"+iR(a,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)nR(o[u])&&(i+=aM(a)+":"+iR(a,o[u])+";");else{var h=u0(n,e,o);switch(a){case"animation":case"animationName":{i+=aM(a)+":"+h+";";break}default:i+=a+"{"+h+"}"}}}return i}var rR=/label:\s*([^\s;{]+)\s*(;|$)/g,Ql;function U0(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";Ql=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,r+=u0(t,e,a);else{var o=a;r+=o[0]}for(var c=1;c<n.length;c++)if(r+=u0(t,e,n[c]),i){var u=a;r+=u[c]}rR.lastIndex=0;for(var h="",m;(m=rR.exec(r))!==null;)h+="-"+m[1];var g=Dk(r)+h;return{name:g,styles:r,next:Ql}}var Uk=function(e){return e()},Jz=r0.useInsertionEffect?r0.useInsertionEffect:!1,Zz=Jz||Uk,aR=Jz||I.useLayoutEffect,Qz=I.createContext(typeof HTMLElement<"u"?Ck({key:"css"}):null);Qz.Provider;var QE=function(e){return I.forwardRef(function(t,i){var r=I.useContext(Qz);return e(t,r,i)})},P0=I.createContext({}),$E={}.hasOwnProperty,F1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Pk=function(e,t){var i={};for(var r in t)$E.call(t,r)&&(i[r]=t[r]);return i[F1]=e,i},Ik=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return JE(t,i,r),Zz(function(){return ZE(t,i,r)}),null},kk=QE(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[F1],a=[i],o="";typeof n.className=="string"?o=Kz(e.registered,a,n.className):n.className!=null&&(o=n.className+" ");var c=U0(a,void 0,I.useContext(P0));o+=e.key+"-"+c.name;var u={};for(var h in n)$E.call(n,h)&&h!=="css"&&h!==F1&&(u[h]=n[h]);return u.className=o,t&&(u.ref=t),I.createElement(I.Fragment,null,I.createElement(Ik,{cache:e,serialized:c,isStringTag:typeof r=="string"}),I.createElement(r,u))}),Fk=kk,sR=function(e,t){var i=arguments;if(t==null||!$E.call(t,"css"))return I.createElement.apply(void 0,i);var r=i.length,a=new Array(r);a[0]=Fk,a[1]=Pk(e,t);for(var o=2;o<r;o++)a[o]=i[o];return I.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(sR||(sR={}));var Hk=QE(function(n,e){var t=n.styles,i=U0([t],void 0,I.useContext(P0)),r=I.useRef();return aR(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,u=document.querySelector('style[data-emotion="'+a+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(c=!0,u.setAttribute("data-emotion",a),o.hydrate([u])),r.current=[o,c],function(){o.flush()}},[e]),aR(function(){var a=r.current,o=a[0],c=a[1];if(c){a[1]=!1;return}if(i.next!==void 0&&ZE(e,i.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function eC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return U0(e)}function I0(){var n=eC.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var jk=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gk=Wz(function(n){return jk.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Vk=Gk,Xk=function(e){return e!=="theme"},oR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Vk:Xk},lR=function(e,t,i){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},Wk=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return JE(t,i,r),Zz(function(){return ZE(t,i,r)}),null},Yk=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,a,o;t!==void 0&&(a=t.label,o=t.target);var c=lR(e,t,i),u=c||oR(r),h=!u("as");return function(){var m=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var v=m[0];g.push(v[0]);for(var b=m.length,S=1;S<b;S++)g.push(m[S],v[S])}var E=QE(function(M,A,z){var B=h&&M.as||r,L="",O=[],U=M;if(M.theme==null){U={};for(var k in M)U[k]=M[k];U.theme=I.useContext(P0)}typeof M.className=="string"?L=Kz(A.registered,O,M.className):M.className!=null&&(L=M.className+" ");var F=U0(g.concat(O),A.registered,U);L+=A.key+"-"+F.name,o!==void 0&&(L+=" "+o);var P=h&&c===void 0?oR(B):u,w={};for(var G in M)h&&G==="as"||P(G)&&(w[G]=M[G]);return w.className=L,z&&(w.ref=z),I.createElement(I.Fragment,null,I.createElement(Wk,{cache:A,serialized:F,isStringTag:typeof B=="string"}),I.createElement(B,w))});return E.displayName=a!==void 0?a:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=r,E.__emotion_styles=g,E.__emotion_forwardProp=c,Object.defineProperty(E,"toString",{value:function(){return"."+o}}),E.withComponent=function(M,A){var z=n(M,Pa({},t,A,{shouldForwardProp:lR(E,A,!0)}));return z.apply(void 0,g)},E}},Kk=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],H1=Yk.bind(null);Kk.forEach(function(n){H1[n]=H1(n)});function qk(n){return n==null||Object.keys(n).length===0}function $z(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(qk(r)?t:r):e;return T.jsx(Hk,{styles:i})}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function eL(n,e){return H1(n,e)}function Jk(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const cR=[];function uR(n){return cR[0]=n,U0(cR)}var sM={exports:{}},ri={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function Zk(){if(fR)return ri;fR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var M=E.$$typeof;switch(M){case n:switch(E=E.type,E){case t:case r:case i:case u:case h:return E;default:switch(E=E&&E.$$typeof,E){case o:case c:case g:case m:return E;case a:return E;default:return M}}case e:return M}}}return ri.ContextConsumer=a,ri.ContextProvider=o,ri.Element=n,ri.ForwardRef=c,ri.Fragment=t,ri.Lazy=g,ri.Memo=m,ri.Portal=e,ri.Profiler=r,ri.StrictMode=i,ri.Suspense=u,ri.SuspenseList=h,ri.isContextConsumer=function(E){return S(E)===a},ri.isContextProvider=function(E){return S(E)===o},ri.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===n},ri.isForwardRef=function(E){return S(E)===c},ri.isFragment=function(E){return S(E)===t},ri.isLazy=function(E){return S(E)===g},ri.isMemo=function(E){return S(E)===m},ri.isPortal=function(E){return S(E)===e},ri.isProfiler=function(E){return S(E)===r},ri.isStrictMode=function(E){return S(E)===i},ri.isSuspense=function(E){return S(E)===u},ri.isSuspenseList=function(E){return S(E)===h},ri.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===t||E===r||E===i||E===u||E===h||E===v||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===o||E.$$typeof===a||E.$$typeof===c||E.$$typeof===b||E.getModuleId!==void 0)},ri.typeOf=S,ri}var dR;function Qk(){return dR||(dR=1,sM.exports=Zk()),sM.exports}var tL=Qk();function $l(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function nL(n){if(I.isValidElement(n)||tL.isValidElementType(n)||!$l(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=nL(n[t])}),e}function ja(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return $l(n)&&$l(e)&&Object.keys(e).forEach(r=>{I.isValidElement(e[r])||tL.isValidElementType(e[r])?i[r]=e[r]:$l(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&$l(n[r])?i[r]=ja(n[r],e[r],t):t.clone?i[r]=$l(e[r])?nL(e[r]):e[r]:i[r]=e[r]}),i}const $k=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function eF(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,a=$k(e),o=Object.keys(a);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function u(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-i/100}${t})`}function h(v,b){const S=o.indexOf(b);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(S!==-1&&typeof e[o[S]]=="number"?e[o[S]]:b)-i/100}${t})`}function m(v){return o.indexOf(v)+1<o.length?h(v,o[o.indexOf(v)+1]):c(v)}function g(v){const b=o.indexOf(v);return b===0?c(o[1]):b===o.length-1?u(o[b]):h(v,o[o.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:c,down:u,between:h,only:m,not:g,unit:t,...r}}function tF(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var o,c;const a=/min-width:\s*([0-9.]+)/;return+(((o=i.match(a))==null?void 0:o[1])||0)-+(((c=r.match(a))==null?void 0:c[1])||0)});return t.length?t.reduce((i,r)=>{const a=e[r];return delete i[r],i[r]=a,i},{...e}):e}function nF(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function iF(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,a=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(a)}function rF(n){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function t(a,o){a.up=(...c)=>e(n.breakpoints.up(...c),o),a.down=(...c)=>e(n.breakpoints.down(...c),o),a.between=(...c)=>e(n.breakpoints.between(...c),o),a.only=(...c)=>e(n.breakpoints.only(...c),o),a.not=(...c)=>{const u=e(n.breakpoints.not(...c),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},r=a=>(t(i,a),i);return t(r),{...n,containerQueries:r}}const aF={borderRadius:4};function Hy(n,e){return e?ja(n,e,{clone:!1}):n}const pA={xs:0,sm:600,md:900,lg:1200,xl:1536},hR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${pA[n]}px)`},sF={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:pA[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function fs(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const a=i.breakpoints||hR;return e.reduce((o,c,u)=>(o[a.up(a.keys[u])]=t(e[u]),o),{})}if(typeof e=="object"){const a=i.breakpoints||hR;return Object.keys(e).reduce((o,c)=>{if(nF(a.keys,c)){const u=iF(i.containerQueries?i:sF,c);u&&(o[u]=t(e[c],c))}else if(Object.keys(a.values||pA).includes(c)){const u=a.up(c);o[u]=t(e[c],c)}else{const u=c;o[u]=e[u]}return o},{})}return t(e)}function iL(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const a=n.up(r);return i[a]={},i},{}))||{}}function rL(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function oF(n,...e){const t=iL(n),i=[t,...e].reduce((r,a)=>ja(r,a),{});return rL(Object.keys(t),i)}function lF(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,a)=>{a<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function nh({values:n,breakpoints:e,base:t}){const i=t||lF(n,e),r=Object.keys(i);if(r.length===0)return n;let a;return r.reduce((o,c,u)=>(Array.isArray(n)?(o[c]=n[u]!=null?n[u]:n[a],a=u):typeof n=="object"?(o[c]=n[c]!=null?n[c]:n[a],a=c):o[c]=n,o),{})}function mt(n){if(typeof n!="string")throw new Error(uh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function pf(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,a)=>r&&r[a]?r[a]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function cS(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=pf(n,t)||i,e&&(r=e(r,i,n)),r}function ur(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,a=o=>{if(o[e]==null)return null;const c=o[e],u=o.theme,h=pf(u,i)||{};return fs(o,c,g=>{let v=cS(h,r,g);return g===v&&typeof g=="string"&&(v=cS(h,r,`${e}${g==="default"?"":mt(g)}`,g)),t===!1?v:{[t]:v}})};return a.propTypes={},a.filterProps=[e],a}function cF(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const uF={m:"margin",p:"padding"},fF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},dF=cF(n=>{if(n.length>2)if(pR[n])n=pR[n];else return[n];const[e,t]=n.split(""),i=uF[e],r=fF[t]||"";return Array.isArray(r)?r.map(a=>i+a):[i+r]}),tC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...tC,...nC];function k0(n,e,t,i){const r=pf(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?a=>typeof a=="string"?a:typeof r=="string"?`calc(${a} * ${r})`:r*a:Array.isArray(r)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),c=r[o];return a>=0?c:typeof c=="number"?-c:`-${c}`}:typeof r=="function"?r:()=>{}}function mA(n){return k0(n,"spacing",8)}function fh(n,e){return typeof e=="string"||e==null?e:n(e)}function hF(n,e){return t=>n.reduce((i,r)=>(i[r]=fh(e,t),i),{})}function pF(n,e,t,i){if(!e.includes(t))return null;const r=dF(t),a=hF(r,i),o=n[t];return fs(n,o,a)}function aL(n,e){const t=mA(n.theme);return Object.keys(n).map(i=>pF(n,e,i,t)).reduce(Hy,{})}function Qi(n){return aL(n,tC)}Qi.propTypes={};Qi.filterProps=tC;function $i(n){return aL(n,nC)}$i.propTypes={};$i.filterProps=nC;function sL(n=8,e=mA({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function gA(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(a=>{i[a]=r}),i),{}),t=i=>Object.keys(i).reduce((r,a)=>e[a]?Hy(r,e[a](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function oo(n){return typeof n!="number"?n:`${n}px solid`}function po(n,e){return ur({prop:n,themeKey:"borders",transform:e})}const mF=po("border",oo),gF=po("borderTop",oo),yF=po("borderRight",oo),vF=po("borderBottom",oo),xF=po("borderLeft",oo),bF=po("borderColor"),SF=po("borderTopColor"),AF=po("borderRightColor"),_F=po("borderBottomColor"),MF=po("borderLeftColor"),EF=po("outline",oo),CF=po("outlineColor"),yA=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=k0(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:fh(e,i)});return fs(n,n.borderRadius,t)}return null};yA.propTypes={};yA.filterProps=["borderRadius"];gA(mF,gF,yF,vF,xF,bF,SF,AF,_F,MF,yA,EF,CF);const vA=n=>{if(n.gap!==void 0&&n.gap!==null){const e=k0(n.theme,"spacing",8),t=i=>({gap:fh(e,i)});return fs(n,n.gap,t)}return null};vA.propTypes={};vA.filterProps=["gap"];const xA=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=k0(n.theme,"spacing",8),t=i=>({columnGap:fh(e,i)});return fs(n,n.columnGap,t)}return null};xA.propTypes={};xA.filterProps=["columnGap"];const bA=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=k0(n.theme,"spacing",8),t=i=>({rowGap:fh(e,i)});return fs(n,n.rowGap,t)}return null};bA.propTypes={};bA.filterProps=["rowGap"];const TF=ur({prop:"gridColumn"}),wF=ur({prop:"gridRow"}),RF=ur({prop:"gridAutoFlow"}),BF=ur({prop:"gridAutoColumns"}),DF=ur({prop:"gridAutoRows"}),zF=ur({prop:"gridTemplateColumns"}),LF=ur({prop:"gridTemplateRows"}),OF=ur({prop:"gridTemplateAreas"}),NF=ur({prop:"gridArea"});gA(vA,xA,bA,TF,wF,RF,BF,DF,zF,LF,OF,NF);function pm(n,e){return e==="grey"?e:n}const UF=ur({prop:"color",themeKey:"palette",transform:pm}),PF=ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pm}),IF=ur({prop:"backgroundColor",themeKey:"palette",transform:pm});gA(UF,PF,IF);function zs(n){return n<=1&&n!==0?`${n*100}%`:n}const kF=ur({prop:"width",transform:zs}),iC=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,a,o,c,u;const i=((o=(a=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:a.values)==null?void 0:o[t])||pA[t];return i?((u=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:zs(t)}};return fs(n,n.maxWidth,e)}return null};iC.filterProps=["maxWidth"];const FF=ur({prop:"minWidth",transform:zs}),HF=ur({prop:"height",transform:zs}),jF=ur({prop:"maxHeight",transform:zs}),GF=ur({prop:"minHeight",transform:zs});ur({prop:"size",cssProperty:"width",transform:zs});ur({prop:"size",cssProperty:"height",transform:zs});const VF=ur({prop:"boxSizing"});gA(kF,iC,FF,HF,jF,GF,VF);const F0={border:{themeKey:"borders",transform:oo},borderTop:{themeKey:"borders",transform:oo},borderRight:{themeKey:"borders",transform:oo},borderBottom:{themeKey:"borders",transform:oo},borderLeft:{themeKey:"borders",transform:oo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:oo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:yA},color:{themeKey:"palette",transform:pm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pm},backgroundColor:{themeKey:"palette",transform:pm},p:{style:$i},pt:{style:$i},pr:{style:$i},pb:{style:$i},pl:{style:$i},px:{style:$i},py:{style:$i},padding:{style:$i},paddingTop:{style:$i},paddingRight:{style:$i},paddingBottom:{style:$i},paddingLeft:{style:$i},paddingX:{style:$i},paddingY:{style:$i},paddingInline:{style:$i},paddingInlineStart:{style:$i},paddingInlineEnd:{style:$i},paddingBlock:{style:$i},paddingBlockStart:{style:$i},paddingBlockEnd:{style:$i},m:{style:Qi},mt:{style:Qi},mr:{style:Qi},mb:{style:Qi},ml:{style:Qi},mx:{style:Qi},my:{style:Qi},margin:{style:Qi},marginTop:{style:Qi},marginRight:{style:Qi},marginBottom:{style:Qi},marginLeft:{style:Qi},marginX:{style:Qi},marginY:{style:Qi},marginInline:{style:Qi},marginInlineStart:{style:Qi},marginInlineEnd:{style:Qi},marginBlock:{style:Qi},marginBlockStart:{style:Qi},marginBlockEnd:{style:Qi},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vA},rowGap:{style:bA},columnGap:{style:xA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zs},maxWidth:{style:iC},minWidth:{transform:zs},height:{transform:zs},maxHeight:{transform:zs},minHeight:{transform:zs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function XF(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function WF(n,e){return typeof n=="function"?n(e):n}function YF(){function n(t,i,r,a){const o={[t]:i,theme:r},c=a[t];if(!c)return{[t]:i};const{cssProperty:u=t,themeKey:h,transform:m,style:g}=c;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[t]:i};const v=pf(r,h)||{};return g?g(o):fs(o,i,S=>{let E=cS(v,m,S);return S===E&&typeof S=="string"&&(E=cS(v,m,`${t}${S==="default"?"":mt(S)}`,S)),u===!1?E:{[u]:E}})}function e(t){const{sx:i,theme:r={}}=t||{};if(!i)return null;const a=r.unstable_sxConfig??F0;function o(c){let u=c;if(typeof c=="function")u=c(r);else if(typeof c!="object")return c;if(!u)return null;const h=iL(r.breakpoints),m=Object.keys(h);let g=h;return Object.keys(u).forEach(v=>{const b=WF(u[v],r);if(b!=null)if(typeof b=="object")if(a[v])g=Hy(g,n(v,b,r,a));else{const S=fs({theme:r},b,E=>({[v]:E}));XF(S,b)?g[v]=e({sx:b,theme:r}):g=Hy(g,S)}else g=Hy(g,n(v,b,r,a))}),tF(r,rL(m,g))}return Array.isArray(i)?i.map(o):o(i)}return e}const xf=YF();xf.filterProps=["sx"];function KF(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function SA(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:a={},...o}=n,c=eF(t),u=sL(r);let h=ja({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...aF,...a}},o);return h=rF(h),h.applyStyles=KF,h=e.reduce((m,g)=>ja(m,g),h),h.unstable_sxConfig={...F0,...o==null?void 0:o.unstable_sxConfig},h.unstable_sx=function(g){return xf({sx:g,theme:this})},h}function qF(n){return Object.keys(n).length===0}function rC(n=null){const e=I.useContext(P0);return!e||qF(e)?n:e}const JF=SA();function AA(n=JF){return rC(n)}function ZF({styles:n,themeId:e,defaultTheme:t={}}){const i=AA(t),r=typeof n=="function"?n(e&&i[e]||i):n;return T.jsx($z,{styles:r})}const QF=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??F0;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function _A(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=QF(t);let a;return Array.isArray(e)?a=[i,...e]:typeof e=="function"?a=(...o)=>{const c=e(...o);return $l(c)?{...i,...c}:i}:a={...i,...e},{...r,sx:a}}const mR=n=>n,$F=()=>{let n=mR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=mR}}},oL=$F();function lL(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=lL(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Tt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=lL(n))&&(i&&(i+=" "),i+=e);return i}function e4(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,a=eL("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(xf);return I.forwardRef(function(u,h){const m=AA(t),{className:g,component:v="div",...b}=_A(u);return T.jsx(a,{as:v,ref:h,className:Tt(g,r?r(i):i),theme:e&&m[e]||m,...b})})}const t4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Cn(n,e,t="Mui"){const i=t4[e];return i?`${t}-${i}`:`${oL.generate(n)}-${e}`}function Tn(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=Cn(n,r,t)}),i}function cL(n){const{variants:e,...t}=n,i={variants:e,style:uR(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=uR(r.style))}),i}const n4=SA();function oM(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function i4(n){return n?(e,t)=>t[n]:null}function r4(n,e,t){n.theme=s4(n.theme)?t:n.theme[e]||n.theme}function Jb(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>Jb(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:r,...a}=t;i=a}return uL(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function uL(n,e,t=[]){var r;let i;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const c in o.props)if(n[c]!==o.props[c]&&((r=n.ownerState)==null?void 0:r[c])!==o.props[c])continue e;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(i))):t.push(o.style)}return t}function fL(n={}){const{themeId:e,defaultTheme:t=n4,rootShouldForwardProp:i=oM,slotShouldForwardProp:r=oM}=n;function a(c){r4(c,e,t)}return(c,u={})=>{Jk(c,O=>O.filter(U=>U!==xf));const{name:h,slot:m,skipVariantsResolver:g,skipSx:v,overridesResolver:b=i4(l4(m)),...S}=u,E=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,M=v||!1;let A=oM;m==="Root"||m==="root"?A=i:m?A=r:o4(c)&&(A=void 0);const z=eL(c,{shouldForwardProp:A,label:a4(),...S}),B=O=>{if(typeof O=="function"&&O.__emotion_real!==O)return function(k){return Jb(k,O)};if($l(O)){const U=cL(O);return U.variants?function(F){return Jb(F,U)}:U.style}return O},L=(...O)=>{const U=[],k=O.map(B),F=[];if(U.push(a),h&&b&&F.push(function(ee){var J,re;const $=(re=(J=ee.theme.components)==null?void 0:J[h])==null?void 0:re.styleOverrides;if(!$)return null;const ae={};for(const Q in $)ae[Q]=Jb(ee,$[Q]);return b(ee,ae)}),h&&!E&&F.push(function(ee){var ae,J;const q=ee.theme,$=(J=(ae=q==null?void 0:q.components)==null?void 0:ae[h])==null?void 0:J.variants;return $?uL(ee,$):null}),M||F.push(xf),Array.isArray(k[0])){const G=k.shift(),ee=new Array(U.length).fill(""),q=new Array(F.length).fill("");let $;$=[...ee,...G,...q],$.raw=[...ee,...G.raw,...q],U.unshift($)}const P=[...U,...k,...F],w=z(...P);return c.muiName&&(w.muiName=c.muiName),w};return z.withConfig&&(L.withConfig=z.withConfig),L}}function a4(n,e){return void 0}function s4(n){for(const e in n)return!1;return!0}function o4(n){return typeof n=="string"&&n.charCodeAt(0)>96}function l4(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const c4=fL();function Sm(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=i;if(r==="components"||r==="slots")t[r]={...n[r],...t[r]};else if(r==="componentsProps"||r==="slotProps"){const a=n[r],o=e[r];if(!o)t[r]=a||{};else if(!a)t[r]=o;else{t[r]={...o};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const u=c;t[r][u]=Sm(a[u],o[u])}}}else t[r]===void 0&&(t[r]=n[r])}return t}function dL(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:Sm(e.components[t].defaultProps,i)}function u4({props:n,name:e,defaultTheme:t,themeId:i}){let r=AA(t);return i&&(r=r[i]||r),dL({theme:r,name:e,props:n})}const dh=typeof window<"u"?I.useLayoutEffect:I.useEffect;function f4(n,e,t,i,r){const[a,o]=I.useState(()=>r&&t?t(n).matches:i?i(n).matches:e);return dh(()=>{if(!t)return;const c=t(n),u=()=>{o(c.matches)};return u(),c.addEventListener("change",u),()=>{c.removeEventListener("change",u)}},[n,t]),a}const d4={...r0},hL=d4.useSyncExternalStore;function h4(n,e,t,i,r){const a=I.useCallback(()=>e,[e]),o=I.useMemo(()=>{if(r&&t)return()=>t(n).matches;if(i!==null){const{matches:m}=i(n);return()=>m}return a},[a,n,i,r,t]),[c,u]=I.useMemo(()=>{if(t===null)return[a,()=>()=>{}];const m=t(n);return[()=>m.matches,g=>(m.addEventListener("change",g),()=>{m.removeEventListener("change",g)})]},[a,t,n]);return hL(u,c,o)}function pL(n={}){const{themeId:e}=n;return function(i,r={}){let a=rC();a&&e&&(a=a[e]||a);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:u=o?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:m=!1}=dL({name:"MuiUseMediaQuery",props:r,theme:a});let g=typeof i=="function"?i(a):i;return g=g.replace(/^@media( ?)/m,""),(hL!==void 0?h4:f4)(g,c,u,h,m)}}pL();function tm(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function aC(n,e=0,t=1){return tm(n,e,t)}function p4(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function bf(n){if(n.type)return n;if(n.charAt(0)==="#")return bf(p4(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(uh(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(uh(10,r))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:t,values:i,colorSpace:r}}const m4=n=>{const e=bf(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Ly=(n,e)=>{try{return m4(n)}catch{return n}};function MA(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,a)=>a<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function mL(n){n=bf(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,a=i*Math.min(r,1-r),o=(h,m=(h+t/30)%12)=>r-a*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(c+="a",u.push(e[3])),MA({type:c,values:u})}function j1(n){n=bf(n);let e=n.type==="hsl"||n.type==="hsla"?bf(mL(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function g4(n,e){const t=j1(n),i=j1(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function bn(n,e){return n=bf(n),e=aC(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,MA(n)}function Px(n,e,t){try{return bn(n,e)}catch{return n}}function f0(n,e){if(n=bf(n),e=aC(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return MA(n)}function li(n,e,t){try{return f0(n,e)}catch{return n}}function d0(n,e){if(n=bf(n),e=aC(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return MA(n)}function ci(n,e,t){try{return d0(n,e)}catch{return n}}function G1(n,e=.15){return j1(n)>.5?f0(n,e):d0(n,e)}function Ix(n,e,t){try{return G1(n,e)}catch{return n}}function gR(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function y4(n,e=166){let t;function i(...r){const a=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(a,e)}return i.clear=()=>{clearTimeout(t)},i}function v4(n,e){var t,i,r;return I.isValidElement(n)&&e.indexOf(n.type.muiName??((r=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}function al(n){return n&&n.ownerDocument||document}function Am(n){return al(n).defaultView||window}function V1(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let yR=0;function x4(n){const[e,t]=I.useState(n),i=n||e;return I.useEffect(()=>{e==null&&(yR+=1,t(`mui-${yR}`))},[e]),i}const b4={...r0},vR=b4.useId;function gL(n){if(vR!==void 0){const e=vR();return n??e}return x4(n)}function yL({controlled:n,default:e,name:t,state:i="value"}){const{current:r}=I.useRef(n!==void 0),[a,o]=I.useState(e),c=r?n:a,u=I.useCallback(h=>{r||o(h)},[]);return[c,u]}function tu(n){const e=I.useRef(n);return dh(()=>{e.current=n}),I.useRef((...t)=>(0,e.current)(...t)).current}function ds(...n){return I.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{V1(t,e)})},n)}const xR={};function vL(n,e){const t=I.useRef(xR);return t.current===xR&&(t.current=n(e)),t}const S4=[];function A4(n){I.useEffect(n,S4)}class sC{constructor(){hy(this,"currentId",null);hy(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});hy(this,"disposeEffect",()=>this.clear)}static create(){return new sC}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function xL(){const n=vL(sC.create).current;return A4(n.disposeEffect),n}function _m(n){try{return n.matches(":focus-visible")}catch{}return!1}function _4(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function M4(n){return I.Children.toArray(n).filter(e=>I.isValidElement(e))}const E4={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function zn(n,e,t=void 0){const i={};for(const r in n){const a=n[r];let o="",c=!0;for(let u=0;u<a.length;u+=1){const h=a[u];h&&(o+=(c===!0?"":" ")+e(h),c=!1,t&&t[h]&&(o+=" "+t[h]))}i[r]=o}return i}function C4(n){return typeof n=="string"}function bL(n,e,t){return n===void 0||C4(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function jy(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function bR(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function SL(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:a}=n;if(!e){const b=Tt(t==null?void 0:t.className,a,r==null?void 0:r.className,i==null?void 0:i.className),S={...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},E={...t,...r,...i};return b.length>0&&(E.className=b),Object.keys(S).length>0&&(E.style=S),{props:E,internalRef:void 0}}const o=jy({...r,...i}),c=bR(i),u=bR(r),h=e(o),m=Tt(h==null?void 0:h.className,t==null?void 0:t.className,a,r==null?void 0:r.className,i==null?void 0:i.className),g={...h==null?void 0:h.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},v={...h,...t,...u,...c};return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:h.ref}}function AL(n,e,t){return typeof n=="function"?n(e,t):n}function Yc(n){var g;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...a}=n,o=r?{}:AL(t,i),{props:c,internalRef:u}=SL({...a,externalSlotProps:o}),h=ds(u,o==null?void 0:o.ref,(g=n.additionalProps)==null?void 0:g.ref);return bL(e,{...c,ref:h},i)}function EA(n){var e;return parseInt(I.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const _L=I.createContext(null);function oC(){return I.useContext(_L)}const T4=typeof Symbol=="function"&&Symbol.for,w4=T4?Symbol.for("mui.nested"):"__THEME_NESTED__";function R4(n,e){return typeof e=="function"?e(n):{...n,...e}}function B4(n){const{children:e,theme:t}=n,i=oC(),r=I.useMemo(()=>{const a=i===null?{...t}:R4(i,t);return a!=null&&(a[w4]=i!==null),a},[t,i]);return T.jsx(_L.Provider,{value:r,children:e})}const ML=I.createContext();function D4({value:n,...e}){return T.jsx(ML.Provider,{value:n??!0,...e})}const EL=()=>I.useContext(ML)??!1,CL=I.createContext(void 0);function z4({value:n,children:e}){return T.jsx(CL.Provider,{value:n,children:e})}function L4(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?Sm(r.defaultProps,i):!r.styleOverrides&&!r.variants?Sm(r,i):i}function O4({props:n,name:e}){const t=I.useContext(CL);return L4({props:n,name:e,theme:{components:t}})}const SR={};function AR(n,e,t,i=!1){return I.useMemo(()=>{const r=n&&e[n]||e;if(typeof t=="function"){const a=t(r),o=n?{...e,[n]:a}:a;return i?()=>o:o}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function TL(n){const{children:e,theme:t,themeId:i}=n,r=rC(SR),a=oC()||SR,o=AR(i,r,t),c=AR(i,a,t,!0),u=(i?o[i]:o).direction==="rtl";return T.jsx(B4,{theme:c,children:T.jsx(P0.Provider,{value:o,children:T.jsx(D4,{value:u,children:T.jsx(z4,{value:i?o[i].components:o.components,children:e})})})})}const _R={theme:void 0};function N4(n){let e,t;return function(r){let a=e;return(a===void 0||r.theme!==t)&&(_R.theme=r.theme,a=cL(n(_R)),e=a,t=r.theme),a}}const lC="mode",cC="color-scheme",U4="data-color-scheme";function P4(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:r=lC,colorSchemeStorageKey:a=cC,attribute:o=U4,colorSchemeNode:c="document.documentElement",nonce:u}=n||{};let h="",m=o;if(o==="class"&&(m=".%s"),o==="data"&&(m="[data-%s]"),m.startsWith(".")){const v=m.substring(1);h+=`${c}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${c}.classList.add('${v}'.replace('%s', colorScheme));`}const g=m.match(/\[([^\]]+)\]/);if(g){const[v,b]=g[1].split("=");b||(h+=`${c}.removeAttribute('${v}'.replace('%s', light));
      ${c}.removeAttribute('${v}'.replace('%s', dark));`),h+=`
      ${c}.setAttribute('${v}'.replace('%s', colorScheme), ${b?`${b}.replace('%s', colorScheme)`:'""'});`}else h+=`${c}.setAttribute('${m}', colorScheme);`;return T.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${e}';
  const dark = localStorage.getItem('${a}-dark') || '${i}';
  const light = localStorage.getItem('${a}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function I4(){}const k4=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let i;try{i=e.localStorage.getItem(n)}catch{}return i||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return I4;const i=r=>{const a=r.newValue;r.key===n&&t(a)};return e.addEventListener("storage",i),()=>{e.removeEventListener("storage",i)}}});function lM(){}function MR(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function wL(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function F4(n){return wL(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function H4(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:r=[],modeStorageKey:a=lC,colorSchemeStorageKey:o=cC,storageWindow:c=typeof window>"u"?void 0:window,storageManager:u=k4,noSsr:h=!1}=n,m=r.join(","),g=r.length>1,v=I.useMemo(()=>u==null?void 0:u({key:a,storageWindow:c}),[u,a,c]),b=I.useMemo(()=>u==null?void 0:u({key:`${o}-light`,storageWindow:c}),[u,o,c]),S=I.useMemo(()=>u==null?void 0:u({key:`${o}-dark`,storageWindow:c}),[u,o,c]),[E,M]=I.useState(()=>{const F=(v==null?void 0:v.get(e))||e,P=(b==null?void 0:b.get(t))||t,w=(S==null?void 0:S.get(i))||i;return{mode:F,systemMode:MR(F),lightColorScheme:P,darkColorScheme:w}}),[A,z]=I.useState(h||!g);I.useEffect(()=>{z(!0)},[]);const B=F4(E),L=I.useCallback(F=>{M(P=>{if(F===P.mode)return P;const w=F??e;return v==null||v.set(w),{...P,mode:w,systemMode:MR(w)}})},[v,e]),O=I.useCallback(F=>{F?typeof F=="string"?F&&!m.includes(F)?console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`):M(P=>{const w={...P};return wL(P,G=>{G==="light"&&(b==null||b.set(F),w.lightColorScheme=F),G==="dark"&&(S==null||S.set(F),w.darkColorScheme=F)}),w}):M(P=>{const w={...P},G=F.light===null?t:F.light,ee=F.dark===null?i:F.dark;return G&&(m.includes(G)?(w.lightColorScheme=G,b==null||b.set(G)):console.error(`\`${G}\` does not exist in \`theme.colorSchemes\`.`)),ee&&(m.includes(ee)?(w.darkColorScheme=ee,S==null||S.set(ee)):console.error(`\`${ee}\` does not exist in \`theme.colorSchemes\`.`)),w}):M(P=>(b==null||b.set(t),S==null||S.set(i),{...P,lightColorScheme:t,darkColorScheme:i}))},[m,b,S,t,i]),U=I.useCallback(F=>{E.mode==="system"&&M(P=>{const w=F!=null&&F.matches?"dark":"light";return P.systemMode===w?P:{...P,systemMode:w}})},[E.mode]),k=I.useRef(U);return k.current=U,I.useEffect(()=>{if(typeof window.matchMedia!="function"||!g)return;const F=(...w)=>k.current(...w),P=window.matchMedia("(prefers-color-scheme: dark)");return P.addListener(F),F(P),()=>{P.removeListener(F)}},[g]),I.useEffect(()=>{if(g){const F=(v==null?void 0:v.subscribe(G=>{(!G||["light","dark","system"].includes(G))&&L(G||e)}))||lM,P=(b==null?void 0:b.subscribe(G=>{(!G||m.match(G))&&O({light:G})}))||lM,w=(S==null?void 0:S.subscribe(G=>{(!G||m.match(G))&&O({dark:G})}))||lM;return()=>{F(),P(),w()}}},[O,L,m,e,c,g,v,b,S]),{...E,mode:A?E.mode:void 0,systemMode:A?E.systemMode:void 0,colorScheme:A?B:void 0,setMode:L,setColorScheme:O}}const j4="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function G4(n){const{themeId:e,theme:t={},modeStorageKey:i=lC,colorSchemeStorageKey:r=cC,disableTransitionOnChange:a=!1,defaultColorScheme:o,resolveTheme:c}=n,u={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=I.createContext(void 0),m=()=>I.useContext(h)||u,g={},v={};function b(A){var Ee,ce,fe,Fe;const{children:z,theme:B,modeStorageKey:L=i,colorSchemeStorageKey:O=r,disableTransitionOnChange:U=a,storageManager:k,storageWindow:F=typeof window>"u"?void 0:window,documentNode:P=typeof document>"u"?void 0:document,colorSchemeNode:w=typeof document>"u"?void 0:document.documentElement,disableNestedContext:G=!1,disableStyleSheetGeneration:ee=!1,defaultMode:q="system",noSsr:$}=A,ae=I.useRef(!1),J=oC(),re=I.useContext(h),Q=!!re&&!G,de=I.useMemo(()=>B||(typeof t=="function"?t():t),[B]),Y=de[e],te=Y||de,{colorSchemes:Ce=g,components:He=v,cssVarPrefix:se}=te,we=Object.keys(Ce).filter(Pe=>!!Ce[Pe]).join(","),Ae=I.useMemo(()=>we.split(","),[we]),Xe=typeof o=="string"?o:o.light,Ge=typeof o=="string"?o:o.dark,vt=Ce[Xe]&&Ce[Ge]?q:((ce=(Ee=Ce[te.defaultColorScheme])==null?void 0:Ee.palette)==null?void 0:ce.mode)||((fe=te.palette)==null?void 0:fe.mode),{mode:Ze,setMode:at,systemMode:Et,lightColorScheme:ht,darkColorScheme:ne,colorScheme:Yt,setColorScheme:ke}=H4({supportedColorSchemes:Ae,defaultLightColorScheme:Xe,defaultDarkColorScheme:Ge,modeStorageKey:L,colorSchemeStorageKey:O,defaultMode:vt,storageManager:k,storageWindow:F,noSsr:$});let De=Ze,Te=Yt;Q&&(De=re.mode,Te=re.colorScheme);const $e=I.useMemo(()=>{var We;const Pe=Te||te.defaultColorScheme,Je=((We=te.generateThemeVars)==null?void 0:We.call(te))||te.vars,et={...te,components:He,colorSchemes:Ce,cssVarPrefix:se,vars:Je};if(typeof et.generateSpacing=="function"&&(et.spacing=et.generateSpacing()),Pe){const it=Ce[Pe];it&&typeof it=="object"&&Object.keys(it).forEach(ct=>{it[ct]&&typeof it[ct]=="object"?et[ct]={...et[ct],...it[ct]}:et[ct]=it[ct]})}return c?c(et):et},[te,Te,He,Ce,se]),ze=te.colorSchemeSelector;dh(()=>{if(Te&&w&&ze&&ze!=="media"){const Pe=ze;let Je=ze;if(Pe==="class"&&(Je=".%s"),Pe==="data"&&(Je="[data-%s]"),Pe!=null&&Pe.startsWith("data-")&&!Pe.includes("%s")&&(Je=`[${Pe}="%s"]`),Je.startsWith("."))w.classList.remove(...Ae.map(et=>Je.substring(1).replace("%s",et))),w.classList.add(Je.substring(1).replace("%s",Te));else{const et=Je.replace("%s",Te).match(/\[([^\]]+)\]/);if(et){const[We,it]=et[1].split("=");it||Ae.forEach(ct=>{w.removeAttribute(We.replace(Te,ct))}),w.setAttribute(We,it?it.replace(/"|'/g,""):"")}else w.setAttribute(Je,Te)}}},[Te,ze,w,Ae]),I.useEffect(()=>{let Pe;if(U&&ae.current&&P){const Je=P.createElement("style");Je.appendChild(P.createTextNode(j4)),P.head.appendChild(Je),window.getComputedStyle(P.body),Pe=setTimeout(()=>{P.head.removeChild(Je)},1)}return()=>{clearTimeout(Pe)}},[Te,U,P]),I.useEffect(()=>(ae.current=!0,()=>{ae.current=!1}),[]);const K=I.useMemo(()=>({allColorSchemes:Ae,colorScheme:Te,darkColorScheme:ne,lightColorScheme:ht,mode:De,setColorScheme:ke,setMode:at,systemMode:Et}),[Ae,Te,ne,ht,De,ke,at,Et,$e.colorSchemeSelector]);let j=!0;(ee||te.cssVariables===!1||Q&&(J==null?void 0:J.cssVarPrefix)===se)&&(j=!1);const pe=T.jsxs(I.Fragment,{children:[T.jsx(TL,{themeId:Y?e:void 0,theme:$e,children:z}),j&&T.jsx($z,{styles:((Fe=$e.generateStyleSheets)==null?void 0:Fe.call($e))||[]})]});return Q?pe:T.jsx(h.Provider,{value:K,children:pe})}const S=typeof o=="string"?o:o.light,E=typeof o=="string"?o:o.dark;return{CssVarsProvider:b,useColorScheme:m,getInitColorSchemeScript:A=>P4({colorSchemeStorageKey:r,defaultLightColorScheme:S,defaultDarkColorScheme:E,modeStorageKey:i,...A})}}function V4(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const ER=(n,e,t,i=[])=>{let r=n;e.forEach((a,o)=>{o===e.length-1?Array.isArray(r)?r[Number(a)]=t:r&&typeof r=="object"&&(r[a]=t):r&&typeof r=="object"&&(r[a]||(r[a]=i.includes(a)?[]:{}),r=r[a])})},X4=(n,e,t)=>{function i(r,a=[],o=[]){Object.entries(r).forEach(([c,u])=>{(!t||t&&!t([...a,c]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...a,c],Array.isArray(u)?[...o,c]:o):e([...a,c],u,o))})}i(n)},W4=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function cM(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},a={},o={};return X4(n,(c,u,h)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(c,u))){const m=`--${t?`${t}-`:""}${c.join("-")}`,g=W4(c,u);Object.assign(r,{[m]:g}),ER(a,c,`var(${m})`,h),ER(o,c,`var(${m}, ${g})`,h)}},c=>c[0]==="vars"),{css:r,vars:a,varsWithDefaults:o}}function Y4(n,e={}){const{getSelector:t=M,disableCssColorScheme:i,colorSchemeSelector:r}=e,{colorSchemes:a={},components:o,defaultColorScheme:c="light",...u}=n,{vars:h,css:m,varsWithDefaults:g}=cM(u,e);let v=g;const b={},{[c]:S,...E}=a;if(Object.entries(E||{}).forEach(([B,L])=>{const{vars:O,css:U,varsWithDefaults:k}=cM(L,e);v=ja(v,k),b[B]={css:U,vars:O}}),S){const{css:B,vars:L,varsWithDefaults:O}=cM(S,e);v=ja(v,O),b[c]={css:B,vars:L}}function M(B,L){var U,k;let O=r;if(r==="class"&&(O=".%s"),r==="data"&&(O="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(O=`[${r}="%s"]`),B){if(O==="media")return n.defaultColorScheme===B?":root":{[`@media (prefers-color-scheme: ${((k=(U=a[B])==null?void 0:U.palette)==null?void 0:k.mode)||B})`]:{":root":L}};if(O)return n.defaultColorScheme===B?`:root, ${O.replace("%s",String(B))}`:O.replace("%s",String(B))}return":root"}return{vars:v,generateThemeVars:()=>{let B={...h};return Object.entries(b).forEach(([,{vars:L}])=>{B=ja(B,L)}),B},generateStyleSheets:()=>{var F,P;const B=[],L=n.defaultColorScheme||"light";function O(w,G){Object.keys(G).length&&B.push(typeof w=="string"?{[w]:{...G}}:w)}O(t(void 0,{...m}),m);const{[L]:U,...k}=b;if(U){const{css:w}=U,G=(P=(F=a[L])==null?void 0:F.palette)==null?void 0:P.mode,ee=!i&&G?{colorScheme:G,...w}:{...w};O(t(L,{...ee}),ee)}return Object.entries(k).forEach(([w,{css:G}])=>{var $,ae;const ee=(ae=($=a[w])==null?void 0:$.palette)==null?void 0:ae.mode,q=!i&&ee?{colorScheme:ee,...G}:{...G};O(t(w,{...q}),q)}),B}}}function K4(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const q4=SA(),J4=c4("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root});function Z4(n){return u4({props:n,name:"MuiStack",defaultTheme:q4})}function Q4(n,e){const t=I.Children.toArray(n).filter(Boolean);return t.reduce((i,r,a)=>(i.push(r),a<t.length-1&&i.push(I.cloneElement(e,{key:`separator-${a}`})),i),[])}const $4=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],eH=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...fs({theme:e},nh({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=mA(e),r=Object.keys(e.breakpoints.values).reduce((u,h)=>((typeof n.spacing=="object"&&n.spacing[h]!=null||typeof n.direction=="object"&&n.direction[h]!=null)&&(u[h]=!0),u),{}),a=nh({values:n.direction,base:r}),o=nh({values:n.spacing,base:r});typeof a=="object"&&Object.keys(a).forEach((u,h,m)=>{if(!a[u]){const v=h>0?a[m[h-1]]:"column";a[u]=v}}),t=ja(t,fs({theme:e},o,(u,h)=>n.useFlexGap?{gap:fh(i,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${$4(h?a[h]:n.direction)}`]:fh(i,u)}}))}return t=oF(e.breakpoints,t),t};function tH(n={}){const{createStyledComponent:e=J4,useThemeProps:t=Z4,componentName:i="MuiStack"}=n,r=()=>zn({root:["root"]},u=>Cn(i,u),{}),a=e(eH);return I.forwardRef(function(u,h){const m=t(u),g=_A(m),{component:v="div",direction:b="column",spacing:S=0,divider:E,children:M,className:A,useFlexGap:z=!1,...B}=g,L={direction:b,spacing:S,useFlexGap:z},O=r();return T.jsx(a,{as:v,ownerState:L,ref:h,className:Tt(O.root,A),...B,children:E?Q4(M,E):M})})}function RL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:o0.white,default:o0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const nH=RL();function BL(){return{text:{primary:o0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:o0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const CR=BL();function TR(n,e,t,i){const r=i.light||i,a=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=d0(n.main,r):e==="dark"&&(n.dark=f0(n.main,a)))}function iH(n="light"){return n==="dark"?{main:Tp[200],light:Tp[50],dark:Tp[400]}:{main:Tp[700],light:Tp[400],dark:Tp[800]}}function rH(n="light"){return n==="dark"?{main:Cp[200],light:Cp[50],dark:Cp[400]}:{main:Cp[500],light:Cp[300],dark:Cp[700]}}function aH(n="light"){return n==="dark"?{main:Ep[500],light:Ep[300],dark:Ep[700]}:{main:Ep[700],light:Ep[400],dark:Ep[800]}}function sH(n="light"){return n==="dark"?{main:wp[400],light:wp[300],dark:wp[700]}:{main:wp[700],light:wp[500],dark:wp[900]}}function oH(n="light"){return n==="dark"?{main:Rp[400],light:Rp[300],dark:Rp[700]}:{main:Rp[800],light:Rp[500],dark:Rp[900]}}function lH(n="light"){return n==="dark"?{main:gy[400],light:gy[300],dark:gy[700]}:{main:"#ed6c02",light:gy[500],dark:gy[900]}}function uC(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...r}=n,a=n.primary||iH(e),o=n.secondary||rH(e),c=n.error||aH(e),u=n.info||sH(e),h=n.success||oH(e),m=n.warning||lH(e);function g(E){return g4(E,CR.text.primary)>=t?CR.text.primary:nH.text.primary}const v=({color:E,name:M,mainShade:A=500,lightShade:z=300,darkShade:B=700})=>{if(E={...E},!E.main&&E[A]&&(E.main=E[A]),!E.hasOwnProperty("main"))throw new Error(uh(11,M?` (${M})`:"",A));if(typeof E.main!="string")throw new Error(uh(12,M?` (${M})`:"",JSON.stringify(E.main)));return TR(E,"light",z,i),TR(E,"dark",B,i),E.contrastText||(E.contrastText=g(E.main)),E};let b;return e==="light"?b=RL():e==="dark"&&(b=BL()),ja({common:{...o0},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:m,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:h,name:"success"}),grey:ZI,contrastThreshold:t,getContrastText:g,augmentColor:v,tonalOffset:i,...b},r)}function cH(n){const e={};return Object.entries(n).forEach(i=>{const[r,a]=i;typeof a=="object"&&(e[r]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function uH(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function fH(n){return Math.round(n*1e5)/1e5}const wR={textTransform:"uppercase"},RR='"Roboto", "Helvetica", "Arial", sans-serif';function DL(n,e){const{fontFamily:t=RR,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,v=i/14,b=m||(M=>`${M/u*v}rem`),S=(M,A,z,B,L)=>({fontFamily:t,fontWeight:M,fontSize:b(A),lineHeight:z,...t===RR?{letterSpacing:`${fH(B/A)}em`}:{},...L,...h}),E={h1:S(r,96,1.167,-1.5),h2:S(r,60,1.2,-.5),h3:S(a,48,1.167,0),h4:S(a,34,1.235,.25),h5:S(a,24,1.334,0),h6:S(o,20,1.6,.15),subtitle1:S(a,16,1.75,.15),subtitle2:S(o,14,1.57,.1),body1:S(a,16,1.5,.15),body2:S(a,14,1.43,.15),button:S(o,14,1.75,.4,wR),caption:S(a,12,1.66,.4),overline:S(a,12,2.66,1,wR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ja({htmlFontSize:u,pxToRem:b,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:c,...E},g,{clone:!1})}const dH=.2,hH=.14,pH=.12;function Ei(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${dH})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${hH})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${pH})`].join(",")}const mH=["none",Ei(0,2,1,-1,0,1,1,0,0,1,3,0),Ei(0,3,1,-2,0,2,2,0,0,1,5,0),Ei(0,3,3,-2,0,3,4,0,0,1,8,0),Ei(0,2,4,-1,0,4,5,0,0,1,10,0),Ei(0,3,5,-1,0,5,8,0,0,1,14,0),Ei(0,3,5,-1,0,6,10,0,0,1,18,0),Ei(0,4,5,-2,0,7,10,1,0,2,16,1),Ei(0,5,5,-3,0,8,10,1,0,3,14,2),Ei(0,5,6,-3,0,9,12,1,0,3,16,2),Ei(0,6,6,-3,0,10,14,1,0,4,18,3),Ei(0,6,7,-4,0,11,15,1,0,4,20,3),Ei(0,7,8,-4,0,12,17,2,0,5,22,4),Ei(0,7,8,-4,0,13,19,2,0,5,24,4),Ei(0,7,9,-4,0,14,21,2,0,5,26,4),Ei(0,8,9,-5,0,15,22,2,0,6,28,5),Ei(0,8,10,-5,0,16,24,2,0,6,30,5),Ei(0,8,11,-5,0,17,26,2,0,6,32,5),Ei(0,9,11,-5,0,18,28,2,0,7,34,6),Ei(0,9,12,-6,0,19,29,2,0,7,36,6),Ei(0,10,13,-6,0,20,31,3,0,8,38,7),Ei(0,10,13,-6,0,21,33,3,0,8,40,7),Ei(0,10,14,-6,0,22,35,3,0,8,42,7),Ei(0,11,14,-7,0,23,36,3,0,9,44,8),Ei(0,11,15,-7,0,24,38,3,0,9,46,8)],gH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},zL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function BR(n){return`${Math.round(n)}ms`}function yH(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function vH(n){const e={...gH,...n.easing},t={...zL,...n.duration};return{getAutoHeightDuration:yH,create:(r=["all"],a={})=>{const{duration:o=t.standard,easing:c=e.easeInOut,delay:u=0,...h}=a;return(Array.isArray(r)?r:[r]).map(m=>`${m} ${typeof o=="string"?o:BR(o)} ${c} ${typeof u=="string"?u:BR(u)}`).join(",")},...n,easing:e,duration:t}}const xH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function bH(n){return $l(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function LL(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let a=0;a<r.length;a++){const[o,c]=r[a];!bH(c)||o.startsWith("unstable_")?delete i[o]:$l(c)&&(i[o]={...c},t(i[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function X1(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:a={},transitions:o={},typography:c={},shape:u,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(uh(20));const m=uC(a),g=SA(n);let v=ja(g,{mixins:uH(g.breakpoints,i),palette:m,shadows:mH.slice(),typography:DL(m,c),transitions:vH(o),zIndex:{...xH}});return v=ja(v,h),v=e.reduce((b,S)=>ja(b,S),v),v.unstable_sxConfig={...F0,...h==null?void 0:h.unstable_sxConfig},v.unstable_sx=function(S){return xf({sx:S,theme:this})},v.toRuntimeSource=LL,v}function W1(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const SH=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=W1(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function OL(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function NL(n){return n==="dark"?SH:[]}function AH(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...r}=n,a=uC(e);return{palette:a,opacity:{...OL(a.mode),...t},overlays:i||NL(a.mode),...r}}function _H(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const MH=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],EH=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let a=r;if(r==="class"&&(a=".%s"),r==="data"&&(a="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(a=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return MH(n.cssVarPrefix).forEach(c=>{o[c]=t[c],delete t[c]}),a==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:o}}:a?{[a.replace("%s",e)]:o,[`${i}, ${a.replace("%s",e)}`]:t}:{[i]:{...t,...o}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(a)return a.replace("%s",String(e))}return i};function CH(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function je(n,e,t){!n[e]&&t&&(n[e]=t)}function Oy(n){return typeof n!="string"||!n.startsWith("hsl")?n:mL(n)}function Ic(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Ly(Oy(n[e])))}function TH(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Jl=n=>{try{return n()}catch{}},wH=(n="mui")=>V4(n);function uM(n,e,t,i){if(!e)return;e=e===!0?{}:e;const r=i==="dark"?"dark":"light";if(!t){n[i]=AH({...e,palette:{mode:r,...e==null?void 0:e.palette}});return}const{palette:a,...o}=X1({...t,palette:{mode:r,...e==null?void 0:e.palette}});return n[i]={...e,palette:a,opacity:{...OL(r),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||NL(r)},o}function RH(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=_H,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...h}=n,m=Object.keys(t)[0],g=i||(t.light&&m!=="light"?"light":m),v=wH(a),{[g]:b,light:S,dark:E,...M}=t,A={...M};let z=b;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(z=!0),!z)throw new Error(uh(21,g));const B=uM(A,z,h,g);S&&!A.light&&uM(A,S,void 0,"light"),E&&!A.dark&&uM(A,E,void 0,"dark");let L={defaultColorScheme:g,...B,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:u,getCssVar:v,colorSchemes:A,font:{...cH(B.typography),...B.font},spacing:TH(h.spacing)};Object.keys(L.colorSchemes).forEach(P=>{const w=L.colorSchemes[P].palette,G=ee=>{const q=ee.split("-"),$=q[1],ae=q[2];return v(ee,w[$][ae])};if(w.mode==="light"&&(je(w.common,"background","#fff"),je(w.common,"onBackground","#000")),w.mode==="dark"&&(je(w.common,"background","#000"),je(w.common,"onBackground","#fff")),CH(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){je(w.Alert,"errorColor",li(w.error.light,.6)),je(w.Alert,"infoColor",li(w.info.light,.6)),je(w.Alert,"successColor",li(w.success.light,.6)),je(w.Alert,"warningColor",li(w.warning.light,.6)),je(w.Alert,"errorFilledBg",G("palette-error-main")),je(w.Alert,"infoFilledBg",G("palette-info-main")),je(w.Alert,"successFilledBg",G("palette-success-main")),je(w.Alert,"warningFilledBg",G("palette-warning-main")),je(w.Alert,"errorFilledColor",Jl(()=>w.getContrastText(w.error.main))),je(w.Alert,"infoFilledColor",Jl(()=>w.getContrastText(w.info.main))),je(w.Alert,"successFilledColor",Jl(()=>w.getContrastText(w.success.main))),je(w.Alert,"warningFilledColor",Jl(()=>w.getContrastText(w.warning.main))),je(w.Alert,"errorStandardBg",ci(w.error.light,.9)),je(w.Alert,"infoStandardBg",ci(w.info.light,.9)),je(w.Alert,"successStandardBg",ci(w.success.light,.9)),je(w.Alert,"warningStandardBg",ci(w.warning.light,.9)),je(w.Alert,"errorIconColor",G("palette-error-main")),je(w.Alert,"infoIconColor",G("palette-info-main")),je(w.Alert,"successIconColor",G("palette-success-main")),je(w.Alert,"warningIconColor",G("palette-warning-main")),je(w.AppBar,"defaultBg",G("palette-grey-100")),je(w.Avatar,"defaultBg",G("palette-grey-400")),je(w.Button,"inheritContainedBg",G("palette-grey-300")),je(w.Button,"inheritContainedHoverBg",G("palette-grey-A100")),je(w.Chip,"defaultBorder",G("palette-grey-400")),je(w.Chip,"defaultAvatarColor",G("palette-grey-700")),je(w.Chip,"defaultIconColor",G("palette-grey-700")),je(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),je(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),je(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),je(w.LinearProgress,"primaryBg",ci(w.primary.main,.62)),je(w.LinearProgress,"secondaryBg",ci(w.secondary.main,.62)),je(w.LinearProgress,"errorBg",ci(w.error.main,.62)),je(w.LinearProgress,"infoBg",ci(w.info.main,.62)),je(w.LinearProgress,"successBg",ci(w.success.main,.62)),je(w.LinearProgress,"warningBg",ci(w.warning.main,.62)),je(w.Skeleton,"bg",`rgba(${G("palette-text-primaryChannel")} / 0.11)`),je(w.Slider,"primaryTrack",ci(w.primary.main,.62)),je(w.Slider,"secondaryTrack",ci(w.secondary.main,.62)),je(w.Slider,"errorTrack",ci(w.error.main,.62)),je(w.Slider,"infoTrack",ci(w.info.main,.62)),je(w.Slider,"successTrack",ci(w.success.main,.62)),je(w.Slider,"warningTrack",ci(w.warning.main,.62));const ee=Ix(w.background.default,.8);je(w.SnackbarContent,"bg",ee),je(w.SnackbarContent,"color",Jl(()=>w.getContrastText(ee))),je(w.SpeedDialAction,"fabHoverBg",Ix(w.background.paper,.15)),je(w.StepConnector,"border",G("palette-grey-400")),je(w.StepContent,"border",G("palette-grey-400")),je(w.Switch,"defaultColor",G("palette-common-white")),je(w.Switch,"defaultDisabledColor",G("palette-grey-100")),je(w.Switch,"primaryDisabledColor",ci(w.primary.main,.62)),je(w.Switch,"secondaryDisabledColor",ci(w.secondary.main,.62)),je(w.Switch,"errorDisabledColor",ci(w.error.main,.62)),je(w.Switch,"infoDisabledColor",ci(w.info.main,.62)),je(w.Switch,"successDisabledColor",ci(w.success.main,.62)),je(w.Switch,"warningDisabledColor",ci(w.warning.main,.62)),je(w.TableCell,"border",ci(Px(w.divider,1),.88)),je(w.Tooltip,"bg",Px(w.grey[700],.92))}if(w.mode==="dark"){je(w.Alert,"errorColor",ci(w.error.light,.6)),je(w.Alert,"infoColor",ci(w.info.light,.6)),je(w.Alert,"successColor",ci(w.success.light,.6)),je(w.Alert,"warningColor",ci(w.warning.light,.6)),je(w.Alert,"errorFilledBg",G("palette-error-dark")),je(w.Alert,"infoFilledBg",G("palette-info-dark")),je(w.Alert,"successFilledBg",G("palette-success-dark")),je(w.Alert,"warningFilledBg",G("palette-warning-dark")),je(w.Alert,"errorFilledColor",Jl(()=>w.getContrastText(w.error.dark))),je(w.Alert,"infoFilledColor",Jl(()=>w.getContrastText(w.info.dark))),je(w.Alert,"successFilledColor",Jl(()=>w.getContrastText(w.success.dark))),je(w.Alert,"warningFilledColor",Jl(()=>w.getContrastText(w.warning.dark))),je(w.Alert,"errorStandardBg",li(w.error.light,.9)),je(w.Alert,"infoStandardBg",li(w.info.light,.9)),je(w.Alert,"successStandardBg",li(w.success.light,.9)),je(w.Alert,"warningStandardBg",li(w.warning.light,.9)),je(w.Alert,"errorIconColor",G("palette-error-main")),je(w.Alert,"infoIconColor",G("palette-info-main")),je(w.Alert,"successIconColor",G("palette-success-main")),je(w.Alert,"warningIconColor",G("palette-warning-main")),je(w.AppBar,"defaultBg",G("palette-grey-900")),je(w.AppBar,"darkBg",G("palette-background-paper")),je(w.AppBar,"darkColor",G("palette-text-primary")),je(w.Avatar,"defaultBg",G("palette-grey-600")),je(w.Button,"inheritContainedBg",G("palette-grey-800")),je(w.Button,"inheritContainedHoverBg",G("palette-grey-700")),je(w.Chip,"defaultBorder",G("palette-grey-700")),je(w.Chip,"defaultAvatarColor",G("palette-grey-300")),je(w.Chip,"defaultIconColor",G("palette-grey-300")),je(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),je(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),je(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),je(w.LinearProgress,"primaryBg",li(w.primary.main,.5)),je(w.LinearProgress,"secondaryBg",li(w.secondary.main,.5)),je(w.LinearProgress,"errorBg",li(w.error.main,.5)),je(w.LinearProgress,"infoBg",li(w.info.main,.5)),je(w.LinearProgress,"successBg",li(w.success.main,.5)),je(w.LinearProgress,"warningBg",li(w.warning.main,.5)),je(w.Skeleton,"bg",`rgba(${G("palette-text-primaryChannel")} / 0.13)`),je(w.Slider,"primaryTrack",li(w.primary.main,.5)),je(w.Slider,"secondaryTrack",li(w.secondary.main,.5)),je(w.Slider,"errorTrack",li(w.error.main,.5)),je(w.Slider,"infoTrack",li(w.info.main,.5)),je(w.Slider,"successTrack",li(w.success.main,.5)),je(w.Slider,"warningTrack",li(w.warning.main,.5));const ee=Ix(w.background.default,.98);je(w.SnackbarContent,"bg",ee),je(w.SnackbarContent,"color",Jl(()=>w.getContrastText(ee))),je(w.SpeedDialAction,"fabHoverBg",Ix(w.background.paper,.15)),je(w.StepConnector,"border",G("palette-grey-600")),je(w.StepContent,"border",G("palette-grey-600")),je(w.Switch,"defaultColor",G("palette-grey-300")),je(w.Switch,"defaultDisabledColor",G("palette-grey-600")),je(w.Switch,"primaryDisabledColor",li(w.primary.main,.55)),je(w.Switch,"secondaryDisabledColor",li(w.secondary.main,.55)),je(w.Switch,"errorDisabledColor",li(w.error.main,.55)),je(w.Switch,"infoDisabledColor",li(w.info.main,.55)),je(w.Switch,"successDisabledColor",li(w.success.main,.55)),je(w.Switch,"warningDisabledColor",li(w.warning.main,.55)),je(w.TableCell,"border",li(Px(w.divider,1),.68)),je(w.Tooltip,"bg",Px(w.grey[700],.92))}Ic(w.background,"default"),Ic(w.background,"paper"),Ic(w.common,"background"),Ic(w.common,"onBackground"),Ic(w,"divider"),Object.keys(w).forEach(ee=>{const q=w[ee];ee!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&je(w[ee],"mainChannel",Ly(Oy(q.main))),q.light&&je(w[ee],"lightChannel",Ly(Oy(q.light))),q.dark&&je(w[ee],"darkChannel",Ly(Oy(q.dark))),q.contrastText&&je(w[ee],"contrastTextChannel",Ly(Oy(q.contrastText))),ee==="text"&&(Ic(w[ee],"primary"),Ic(w[ee],"secondary")),ee==="action"&&(q.active&&Ic(w[ee],"active"),q.selected&&Ic(w[ee],"selected")))})}),L=e.reduce((P,w)=>ja(P,w),L);const O={prefix:a,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:EH(L)},{vars:U,generateThemeVars:k,generateStyleSheets:F}=Y4(L,O);return L.vars=U,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([P,w])=>{L[P]=w}),L.generateThemeVars=k,L.generateStyleSheets=F,L.generateSpacing=function(){return sL(h.spacing,mA(this))},L.getColorSchemeSelector=K4(c),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=o,L.unstable_sxConfig={...F0,...h==null?void 0:h.unstable_sxConfig},L.unstable_sx=function(w){return xf({sx:w,theme:this})},L.toRuntimeSource=LL,L}function DR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:uC({...t===!0?{}:t.palette,mode:e})})}function CA(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:a=t==null?void 0:t.mode,...o}=n,c=a||"light",u=r==null?void 0:r[c],h={...r,...t?{[c]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return X1(n,...e);let m=t;"palette"in n||h[c]&&(h[c]!==!0?m=h[c].palette:c==="dark"&&(m={mode:"dark"}));const g=X1({...n,palette:m},...e);return g.defaultColorScheme=c,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},DR(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},DR(g,"light",h.light)),g}return!t&&!("light"in h)&&c==="light"&&(h.light=!0),RH({...o,colorSchemes:h,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const fC=CA();function Rf(){const n=AA(fC);return n[rl]||n}function dC(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const H0=n=>dC(n)&&n!=="classes",Ct=fL({themeId:rl,defaultTheme:fC,rootShouldForwardProp:H0});function zR({theme:n,...e}){const t=rl in n?n[rl]:void 0;return T.jsx(TL,{...e,themeId:t?rl:void 0,theme:t||n})}const kx={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:BH}=G4({themeId:rl,theme:()=>CA({cssVariables:!0}),colorSchemeStorageKey:kx.colorSchemeStorageKey,modeStorageKey:kx.modeStorageKey,defaultColorScheme:{light:kx.defaultLightColorScheme,dark:kx.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:DL(n.palette,n.typography)};return e.unstable_sx=function(i){return xf({sx:i,theme:this})},e}}),DH=BH;function zH({theme:n,...e}){return typeof n=="function"?T.jsx(zR,{theme:n,...e}):"colorSchemes"in(rl in n?n[rl]:n)?T.jsx(DH,{theme:n,...e}):T.jsx(zR,{theme:n,...e})}function LH(n){return T.jsx(ZF,{...n,defaultTheme:fC,themeId:rl})}function UL(n){return function(t){return T.jsx(LH,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function OH(){return _A}const pn=N4;function _n(n){return O4(n)}function NH(n){return Cn("MuiSvgIcon",n)}Tn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const UH=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${mt(e)}`,`fontSize${mt(t)}`]};return zn(r,NH,i)},PH=Ct("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${mt(t.color)}`],e[`fontSize${mt(t.fontSize)}`]]}})(pn(({theme:n})=>{var e,t,i,r,a,o,c,u,h,m,g,v,b,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,E])=>E&&E.main).map(([E])=>{var M,A;return{props:{color:E},style:{color:(A=(M=(n.vars??n).palette)==null?void 0:M[E])==null?void 0:A.main}}}),{props:{color:"action"},style:{color:(v=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(S=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Y1=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiSvgIcon"}),{children:r,className:a,color:o="inherit",component:c="svg",fontSize:u="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:v="0 0 24 24",...b}=i,S=I.isValidElement(r)&&r.type==="svg",E={...i,color:o,component:c,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:v,hasSvgAsChild:S},M={};m||(M.viewBox=v);const A=UH(E);return T.jsxs(PH,{as:c,className:Tt(A.root,a),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...M,...b,...S&&r.props,ownerState:E,children:[S?r.props.children:r,g?T.jsx("title",{children:g}):null]})});Y1.muiName="SvgIcon";function Va(n,e){function t(i,r){return T.jsx(Y1,{"data-testid":`${e}Icon`,ref:r,...i,children:n})}return t.muiName=Y1.muiName,I.memo(I.forwardRef(t))}function IH(n,e){if(!n)return e;if(typeof n=="function"||typeof e=="function")return r=>{const a=typeof e=="function"?e(r):e,o=typeof n=="function"?n({...r,...a}):n,c=Tt(r==null?void 0:r.className,a==null?void 0:a.className,o==null?void 0:o.className);return{...a,...o,...!!c&&{className:c},...(a==null?void 0:a.style)&&(o==null?void 0:o.style)&&{style:{...a.style,...o.style}},...(a==null?void 0:a.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const t=e,i=Tt(t==null?void 0:t.className,n==null?void 0:n.className);return{...e,...n,...!!i&&{className:i},...(t==null?void 0:t.style)&&(n==null?void 0:n.style)&&{style:{...t.style,...n.style}},...(t==null?void 0:t.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function PL(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function K1(n,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},K1(n,e)}function IL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,K1(n,e)}const LR={disabled:!1},uS=co.createContext(null);var kH=function(e){return e.scrollTop},Ny="unmounted",kd="exited",Fd="entering",nm="entered",q1="exiting",ul=function(n){IL(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var o=r,c=o&&!o.isMounting?i.enter:i.appear,u;return a.appearStatus=null,i.in?c?(u=kd,a.appearStatus=Fd):u=nm:i.unmountOnExit||i.mountOnEnter?u=Ny:u=kd,a.state={status:u},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var o=r.in;return o&&a.status===Ny?{status:kd}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var a=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Fd&&o!==nm&&(a=Fd):(o===Fd||o===nm)&&(a=q1)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,a,o,c;return a=o=c=r,r!=null&&typeof r!="number"&&(a=r.exit,o=r.enter,c=r.appear!==void 0?r.appear:o),{exit:a,enter:o,appear:c}},t.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Fd){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Nx.findDOMNode(this);o&&kH(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kd&&this.setState({status:Ny})},t.performEnter=function(r){var a=this,o=this.props.enter,c=this.context?this.context.isMounting:r,u=this.props.nodeRef?[c]:[Nx.findDOMNode(this),c],h=u[0],m=u[1],g=this.getTimeouts(),v=c?g.appear:g.enter;if(!r&&!o||LR.disabled){this.safeSetState({status:nm},function(){a.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:Fd},function(){a.props.onEntering(h,m),a.onTransitionEnd(v,function(){a.safeSetState({status:nm},function(){a.props.onEntered(h,m)})})})},t.performExit=function(){var r=this,a=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:Nx.findDOMNode(this);if(!a||LR.disabled){this.safeSetState({status:kd},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:q1},function(){r.props.onExiting(c),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:kd},function(){r.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},t.setNextCallback=function(r){var a=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(r,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:Nx.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=u[0],m=u[1];this.props.addEndListener(h,m)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===Ny)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=PL(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return co.createElement(uS.Provider,{value:null},typeof o=="function"?o(r,c):co.cloneElement(co.Children.only(o),c))},e}(co.Component);ul.contextType=uS;ul.propTypes={};function Bp(){}ul.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bp,onEntering:Bp,onEntered:Bp,onExit:Bp,onExiting:Bp,onExited:Bp};ul.UNMOUNTED=Ny;ul.EXITED=kd;ul.ENTERING=Fd;ul.ENTERED=nm;ul.EXITING=q1;function FH(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hC(n,e){var t=function(a){return e&&I.isValidElement(a)?e(a):a},i=Object.create(null);return n&&I.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function HH(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var i=Object.create(null),r=[];for(var a in n)a in e?r.length&&(i[a]=r,r=[]):r.push(a);var o,c={};for(var u in e){if(i[u])for(o=0;o<i[u].length;o++){var h=i[u][o];c[i[u][o]]=t(h)}c[u]=t(u)}for(o=0;o<r.length;o++)c[r[o]]=t(r[o]);return c}function Yd(n,e,t){return t[e]!=null?t[e]:n.props[e]}function jH(n,e){return hC(n.children,function(t){return I.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Yd(t,"appear",n),enter:Yd(t,"enter",n),exit:Yd(t,"exit",n)})})}function GH(n,e,t){var i=hC(n.children),r=HH(e,i);return Object.keys(r).forEach(function(a){var o=r[a];if(I.isValidElement(o)){var c=a in e,u=a in i,h=e[a],m=I.isValidElement(h)&&!h.props.in;u&&(!c||m)?r[a]=I.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Yd(o,"exit",n),enter:Yd(o,"enter",n)}):!u&&c&&!m?r[a]=I.cloneElement(o,{in:!1}):u&&c&&I.isValidElement(h)&&(r[a]=I.cloneElement(o,{onExited:t.bind(null,o),in:h.props.in,exit:Yd(o,"exit",n),enter:Yd(o,"enter",n)}))}}),r}var VH=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},XH={component:"div",childFactory:function(e){return e}},pC=function(n){IL(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var o=a.handleExited.bind(FH(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,a){var o=a.children,c=a.handleExited,u=a.firstRender;return{children:u?jH(r,c):GH(r,o,c),firstRender:!1}},t.handleExited=function(r,a){var o=hC(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(a),this.mounted&&this.setState(function(c){var u=Pa({},c.children);return delete u[r.key],{children:u}}))},t.render=function(){var r=this.props,a=r.component,o=r.childFactory,c=PL(r,["component","childFactory"]),u=this.state.contextValue,h=VH(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,a===null?co.createElement(uS.Provider,{value:u},h):co.createElement(uS.Provider,{value:u},co.createElement(a,c,h))},e}(co.Component);pC.propTypes={};pC.defaultProps=XH;const kL=n=>n.scrollTop;function Mm(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function WH(n){return Cn("MuiCollapse",n)}Tn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const YH=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return zn(i,WH,t)},KH=Ct("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(pn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),qH=Ct("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),JH=Ct("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),mm=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiCollapse"}),{addEndListener:r,children:a,className:o,collapsedSize:c="0px",component:u,easing:h,in:m,onEnter:g,onEntered:v,onEntering:b,onExit:S,onExited:E,onExiting:M,orientation:A="vertical",style:z,timeout:B=zL.standard,TransitionComponent:L=ul,...O}=i,U={...i,orientation:A,collapsedSize:c},k=YH(U),F=Rf(),P=xL(),w=I.useRef(null),G=I.useRef(),ee=typeof c=="number"?`${c}px`:c,q=A==="horizontal",$=q?"width":"height",ae=I.useRef(null),J=ds(t,ae),re=Ae=>Xe=>{if(Ae){const Ge=ae.current;Xe===void 0?Ae(Ge):Ae(Ge,Xe)}},Q=()=>w.current?w.current[q?"clientWidth":"clientHeight"]:0,de=re((Ae,Xe)=>{w.current&&q&&(w.current.style.position="absolute"),Ae.style[$]=ee,g&&g(Ae,Xe)}),Y=re((Ae,Xe)=>{const Ge=Q();w.current&&q&&(w.current.style.position="");const{duration:vt,easing:Ze}=Mm({style:z,timeout:B,easing:h},{mode:"enter"});if(B==="auto"){const at=F.transitions.getAutoHeightDuration(Ge);Ae.style.transitionDuration=`${at}ms`,G.current=at}else Ae.style.transitionDuration=typeof vt=="string"?vt:`${vt}ms`;Ae.style[$]=`${Ge}px`,Ae.style.transitionTimingFunction=Ze,b&&b(Ae,Xe)}),te=re((Ae,Xe)=>{Ae.style[$]="auto",v&&v(Ae,Xe)}),Ce=re(Ae=>{Ae.style[$]=`${Q()}px`,S&&S(Ae)}),He=re(E),se=re(Ae=>{const Xe=Q(),{duration:Ge,easing:vt}=Mm({style:z,timeout:B,easing:h},{mode:"exit"});if(B==="auto"){const Ze=F.transitions.getAutoHeightDuration(Xe);Ae.style.transitionDuration=`${Ze}ms`,G.current=Ze}else Ae.style.transitionDuration=typeof Ge=="string"?Ge:`${Ge}ms`;Ae.style[$]=ee,Ae.style.transitionTimingFunction=vt,M&&M(Ae)}),we=Ae=>{B==="auto"&&P.start(G.current||0,Ae),r&&r(ae.current,Ae)};return T.jsx(L,{in:m,onEnter:de,onEntered:te,onEntering:Y,onExit:Ce,onExited:He,onExiting:se,addEndListener:we,nodeRef:ae,timeout:B==="auto"?null:B,...O,children:(Ae,{ownerState:Xe,...Ge})=>T.jsx(KH,{as:u,className:Tt(k.root,o,{entered:k.entered,exited:!m&&ee==="0px"&&k.hidden}[Ae]),style:{[q?"minWidth":"minHeight"]:ee,...z},ref:J,ownerState:{...U,state:Ae},...Ge,children:T.jsx(qH,{ownerState:{...U,state:Ae},className:k.wrapper,ref:w,children:T.jsx(JH,{ownerState:{...U,state:Ae},className:k.wrapperInner,children:a})})})})});mm&&(mm.muiSupportAuto=!0);function ZH(n){return Cn("MuiPaper",n)}Tn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const QH=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,a={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return zn(a,ZH,r)},$H=Ct("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(pn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),TA=I.forwardRef(function(e,t){var b;const i=_n({props:e,name:"MuiPaper"}),r=Rf(),{className:a,component:o="div",elevation:c=1,square:u=!1,variant:h="elevation",...m}=i,g={...i,component:o,elevation:c,square:u,variant:h},v=QH(g);return T.jsx($H,{as:o,ownerState:g,className:Tt(v.root,a),ref:t,...m,style:{...h==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[c],...r.vars&&{"--Paper-overlay":(b=r.vars.overlays)==null?void 0:b[c]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${bn("#fff",W1(c))}, ${bn("#fff",W1(c))})`}},...m.style}})}),FL=I.createContext({});function uo(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:c=!1,...u}=e,{component:h,slots:m={[n]:void 0},slotProps:g={[n]:void 0},...v}=a,b=m[n]||i,S=AL(g[n],r),{props:{component:E,...M},internalRef:A}=SL({className:t,...u,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:S}),z=ds(A,S==null?void 0:S.ref,e.ref),B=n==="root"?E||h:E,L=bL(b,{...n==="root"&&!h&&!m[n]&&o,...n!=="root"&&!m[n]&&o,...M,...B&&!c&&{as:B},...B&&c&&{component:B},ref:z},r);return[b,L]}function ej(n){return Cn("MuiAccordion",n)}const Fx=Tn("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),tj=n=>{const{classes:e,square:t,expanded:i,disabled:r,disableGutters:a}=n;return zn({root:["root",!t&&"rounded",i&&"expanded",r&&"disabled",!a&&"gutters"],heading:["heading"],region:["region"]},ej,e)},nj=Ct(TA,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Fx.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(pn(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Fx.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Fx.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}}),pn(({theme:n})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Fx.expanded}`]:{margin:"16px 0"}}}]}))),ij=Ct("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(n,e)=>e.heading})({all:"unset"}),ih=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiAccordion"}),{children:r,className:a,defaultExpanded:o=!1,disabled:c=!1,disableGutters:u=!1,expanded:h,onChange:m,square:g=!1,slots:v={},slotProps:b={},TransitionComponent:S,TransitionProps:E,...M}=i,[A,z]=yL({controlled:h,default:o,name:"Accordion",state:"expanded"}),B=I.useCallback(J=>{z(!A),m&&m(J,!A)},[A,m,z]),[L,...O]=I.Children.toArray(r),U=I.useMemo(()=>({expanded:A,disabled:c,disableGutters:u,toggle:B}),[A,c,u,B]),k={...i,square:g,disabled:c,disableGutters:u,expanded:A},F=tj(k),P={transition:S,...v},w={transition:E,...b},G={slots:P,slotProps:w},[ee,q]=uo("heading",{elementType:ij,externalForwardedProps:G,className:F.heading,ownerState:k}),[$,ae]=uo("transition",{elementType:mm,externalForwardedProps:G,ownerState:k});return T.jsxs(nj,{className:Tt(F.root,a),ref:t,ownerState:k,square:g,...M,children:[T.jsx(ee,{...q,children:T.jsx(FL.Provider,{value:U,children:L})}),T.jsx($,{in:A,timeout:"auto",...ae,children:T.jsx("div",{"aria-labelledby":L.props.id,id:L.props["aria-controls"],role:"region",className:F.region,children:O})})]})});function rj(n){return Cn("MuiAccordionDetails",n)}Tn("MuiAccordionDetails",["root"]);const aj=n=>{const{classes:e}=n;return zn({root:["root"]},rj,e)},sj=Ct("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(n,e)=>e.root})(pn(({theme:n})=>({padding:n.spacing(1,2,2)}))),rh=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiAccordionDetails"}),{className:r,...a}=i,o=i,c=aj(o);return T.jsx(sj,{className:Tt(c.root,r),ref:t,ownerState:o,...a})});class fS{constructor(){hy(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new fS}static use(){const e=vL(fS.create).current,[t,i]=I.useState(!1);return e.shouldMount=t,e.setShouldMount=i,I.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=lj(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function oj(){return fS.use()}function lj(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function cj(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:a,rippleSize:o,in:c,onExited:u,timeout:h}=n,[m,g]=I.useState(!1),v=Tt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),b={width:o,height:o,top:-(o/2)+a,left:-(o/2)+r},S=Tt(t.child,m&&t.childLeaving,i&&t.childPulsate);return!c&&!m&&g(!0),I.useEffect(()=>{if(!c&&u!=null){const E=setTimeout(u,h);return()=>{clearTimeout(E)}}},[u,c,h]),T.jsx("span",{className:v,style:b,children:T.jsx("span",{className:S})})}const so=Tn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),J1=550,uj=80,fj=I0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,dj=I0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,hj=I0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,pj=Ct("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),mj=Ct(cj,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${so.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${fj};
    animation-duration: ${J1}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${so.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${so.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${so.childLeaving} {
    opacity: 0;
    animation-name: ${dj};
    animation-duration: ${J1}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${so.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${hj};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,gj=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:a={},className:o,...c}=i,[u,h]=I.useState([]),m=I.useRef(0),g=I.useRef(null);I.useEffect(()=>{g.current&&(g.current(),g.current=null)},[u]);const v=I.useRef(!1),b=xL(),S=I.useRef(null),E=I.useRef(null),M=I.useCallback(L=>{const{pulsate:O,rippleX:U,rippleY:k,rippleSize:F,cb:P}=L;h(w=>[...w,T.jsx(mj,{classes:{ripple:Tt(a.ripple,so.ripple),rippleVisible:Tt(a.rippleVisible,so.rippleVisible),ripplePulsate:Tt(a.ripplePulsate,so.ripplePulsate),child:Tt(a.child,so.child),childLeaving:Tt(a.childLeaving,so.childLeaving),childPulsate:Tt(a.childPulsate,so.childPulsate)},timeout:J1,pulsate:O,rippleX:U,rippleY:k,rippleSize:F},m.current)]),m.current+=1,g.current=P},[a]),A=I.useCallback((L={},O={},U=()=>{})=>{const{pulsate:k=!1,center:F=r||O.pulsate,fakeElement:P=!1}=O;if((L==null?void 0:L.type)==="mousedown"&&v.current){v.current=!1;return}(L==null?void 0:L.type)==="touchstart"&&(v.current=!0);const w=P?null:E.current,G=w?w.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ee,q,$;if(F||L===void 0||L.clientX===0&&L.clientY===0||!L.clientX&&!L.touches)ee=Math.round(G.width/2),q=Math.round(G.height/2);else{const{clientX:ae,clientY:J}=L.touches&&L.touches.length>0?L.touches[0]:L;ee=Math.round(ae-G.left),q=Math.round(J-G.top)}if(F)$=Math.sqrt((2*G.width**2+G.height**2)/3),$%2===0&&($+=1);else{const ae=Math.max(Math.abs((w?w.clientWidth:0)-ee),ee)*2+2,J=Math.max(Math.abs((w?w.clientHeight:0)-q),q)*2+2;$=Math.sqrt(ae**2+J**2)}L!=null&&L.touches?S.current===null&&(S.current=()=>{M({pulsate:k,rippleX:ee,rippleY:q,rippleSize:$,cb:U})},b.start(uj,()=>{S.current&&(S.current(),S.current=null)})):M({pulsate:k,rippleX:ee,rippleY:q,rippleSize:$,cb:U})},[r,M,b]),z=I.useCallback(()=>{A({},{pulsate:!0})},[A]),B=I.useCallback((L,O)=>{if(b.clear(),(L==null?void 0:L.type)==="touchend"&&S.current){S.current(),S.current=null,b.start(0,()=>{B(L,O)});return}S.current=null,h(U=>U.length>0?U.slice(1):U),g.current=O},[b]);return I.useImperativeHandle(t,()=>({pulsate:z,start:A,stop:B}),[z,A,B]),T.jsx(pj,{className:Tt(so.root,a.root,o),ref:E,...c,children:T.jsx(pC,{component:null,exit:!0,children:u})})});function yj(n){return Cn("MuiButtonBase",n)}const vj=Tn("MuiButtonBase",["root","disabled","focusVisible"]),xj=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,o=zn({root:["root",e&&"disabled",t&&"focusVisible"]},yj,r);return t&&i&&(o.root+=` ${i}`),o},bj=Ct("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${vj.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),lu=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:a=!1,children:o,className:c,component:u="button",disabled:h=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:v=!1,focusVisibleClassName:b,LinkComponent:S="a",onBlur:E,onClick:M,onContextMenu:A,onDragLeave:z,onFocus:B,onFocusVisible:L,onKeyDown:O,onKeyUp:U,onMouseDown:k,onMouseLeave:F,onMouseUp:P,onTouchEnd:w,onTouchMove:G,onTouchStart:ee,tabIndex:q=0,TouchRippleProps:$,touchRippleRef:ae,type:J,...re}=i,Q=I.useRef(null),de=oj(),Y=ds(de.ref,ae),[te,Ce]=I.useState(!1);h&&te&&Ce(!1),I.useImperativeHandle(r,()=>({focusVisible:()=>{Ce(!0),Q.current.focus()}}),[]);const He=de.shouldMount&&!m&&!h;I.useEffect(()=>{te&&v&&!m&&de.pulsate()},[m,v,te,de]);const se=kc(de,"start",k,g),we=kc(de,"stop",A,g),Ae=kc(de,"stop",z,g),Xe=kc(de,"stop",P,g),Ge=kc(de,"stop",j=>{te&&j.preventDefault(),F&&F(j)},g),vt=kc(de,"start",ee,g),Ze=kc(de,"stop",w,g),at=kc(de,"stop",G,g),Et=kc(de,"stop",j=>{_m(j.target)||Ce(!1),E&&E(j)},!1),ht=tu(j=>{Q.current||(Q.current=j.currentTarget),_m(j.target)&&(Ce(!0),L&&L(j)),B&&B(j)}),ne=()=>{const j=Q.current;return u&&u!=="button"&&!(j.tagName==="A"&&j.href)},Yt=tu(j=>{v&&!j.repeat&&te&&j.key===" "&&de.stop(j,()=>{de.start(j)}),j.target===j.currentTarget&&ne()&&j.key===" "&&j.preventDefault(),O&&O(j),j.target===j.currentTarget&&ne()&&j.key==="Enter"&&!h&&(j.preventDefault(),M&&M(j))}),ke=tu(j=>{v&&j.key===" "&&te&&!j.defaultPrevented&&de.stop(j,()=>{de.pulsate(j)}),U&&U(j),M&&j.target===j.currentTarget&&ne()&&j.key===" "&&!j.defaultPrevented&&M(j)});let De=u;De==="button"&&(re.href||re.to)&&(De=S);const Te={};De==="button"?(Te.type=J===void 0?"button":J,Te.disabled=h):(!re.href&&!re.to&&(Te.role="button"),h&&(Te["aria-disabled"]=h));const $e=ds(t,Q),ze={...i,centerRipple:a,component:u,disabled:h,disableRipple:m,disableTouchRipple:g,focusRipple:v,tabIndex:q,focusVisible:te},K=xj(ze);return T.jsxs(bj,{as:De,className:Tt(K.root,c),ownerState:ze,onBlur:Et,onClick:M,onContextMenu:we,onFocus:ht,onKeyDown:Yt,onKeyUp:ke,onMouseDown:se,onMouseLeave:Ge,onMouseUp:Xe,onDragLeave:Ae,onTouchEnd:Ze,onTouchMove:at,onTouchStart:vt,ref:$e,tabIndex:h?-1:q,type:J,...Te,...re,children:[o,He?T.jsx(gj,{ref:Y,center:a,...$}):null]})});function kc(n,e,t,i=!1){return tu(r=>(t&&t(r),i||n[e](r),!0))}function Sj(n){return Cn("MuiAccordionSummary",n)}const rm=Tn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Aj=n=>{const{classes:e,expanded:t,disabled:i,disableGutters:r}=n;return zn({root:["root",t&&"expanded",i&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},Sj,e)},_j=Ct(lu,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(n,e)=>e.root})(pn(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],e),[`&.${rm.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${rm.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${rm.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${rm.expanded}`]:{minHeight:64}}}]}})),Mj=Ct("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(n,e)=>e.content})(pn(({theme:n})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${rm.expanded}`]:{margin:"20px 0"}}}]}))),Ej=Ct("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(n,e)=>e.expandIconWrapper})(pn(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${rm.expanded}`]:{transform:"rotate(180deg)"}}))),ah=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiAccordionSummary"}),{children:r,className:a,expandIcon:o,focusVisibleClassName:c,onClick:u,...h}=i,{disabled:m=!1,disableGutters:g,expanded:v,toggle:b}=I.useContext(FL),S=A=>{b&&b(A),u&&u(A)},E={...i,expanded:v,disabled:m,disableGutters:g},M=Aj(E);return T.jsxs(_j,{focusRipple:!1,disableRipple:!0,disabled:m,"aria-expanded":v,className:Tt(M.root,a),focusVisibleClassName:Tt(M.focusVisible,c),onClick:S,ref:t,ownerState:E,...h,children:[T.jsx(Mj,{className:M.content,ownerState:E,children:r}),o&&T.jsx(Ej,{className:M.expandIconWrapper,ownerState:E,children:o})]})});function Cj(n){return typeof n.main=="string"}function Tj(n,e=[]){if(!Cj(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function va(n=[]){return([,e])=>e&&Tj(e,n)}function wj(n){return Cn("MuiCircularProgress",n)}Tn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ef=44,Z1=I0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Q1=I0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Rj=typeof Z1!="string"?eC`
        animation: ${Z1} 1.4s linear infinite;
      `:null,Bj=typeof Q1!="string"?eC`
        animation: ${Q1} 1.4s ease-in-out infinite;
      `:null,Dj=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,a={root:["root",t,`color${mt(i)}`],svg:["svg"],circle:["circle",`circle${mt(t)}`,r&&"circleDisableShrink"]};return zn(a,wj,e)},zj=Ct("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${mt(t.color)}`]]}})(pn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Rj||{animation:`${Z1} 1.4s linear infinite`}},...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),Lj=Ct("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),Oj=Ct("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${mt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(pn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Bj||{animation:`${Q1} 1.4s ease-in-out infinite`}}]}))),HL=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiCircularProgress"}),{className:r,color:a="primary",disableShrink:o=!1,size:c=40,style:u,thickness:h=3.6,value:m=0,variant:g="indeterminate",...v}=i,b={...i,color:a,disableShrink:o,size:c,thickness:h,value:m,variant:g},S=Dj(b),E={},M={},A={};if(g==="determinate"){const z=2*Math.PI*((ef-h)/2);E.strokeDasharray=z.toFixed(3),A["aria-valuenow"]=Math.round(m),E.strokeDashoffset=`${((100-m)/100*z).toFixed(3)}px`,M.transform="rotate(-90deg)"}return T.jsx(zj,{className:Tt(S.root,r),style:{width:c,height:c,...M,...u},ownerState:b,ref:t,role:"progressbar",...A,...v,children:T.jsx(Lj,{className:S.svg,ownerState:b,viewBox:`${ef/2} ${ef/2} ${ef} ${ef}`,children:T.jsx(Oj,{className:S.circle,style:E,ownerState:b,cx:ef,cy:ef,r:(ef-h)/2,fill:"none",strokeWidth:h})})})});function Nj(n){return Cn("MuiIconButton",n)}const OR=Tn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Uj=n=>{const{classes:e,disabled:t,color:i,edge:r,size:a,loading:o}=n,c={root:["root",o&&"loading",t&&"disabled",i!=="default"&&`color${mt(i)}`,r&&`edge${mt(r)}`,`size${mt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return zn(c,Nj,e)},Pj=Ct(lu,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${mt(t.color)}`],t.edge&&e[`edge${mt(t.edge)}`],e[`size${mt(t.size)}`]]}})(pn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),pn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:bn((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${OR.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${OR.loading}`]:{color:"transparent"}}))),Ij=Ct("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),kj=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiIconButton"}),{edge:r=!1,children:a,className:o,color:c="default",disabled:u=!1,disableFocusRipple:h=!1,size:m="medium",id:g,loading:v=null,loadingIndicator:b,...S}=i,E=gL(g),M=b??T.jsx(HL,{"aria-labelledby":E,color:"inherit",size:16}),A={...i,edge:r,color:c,disabled:u,disableFocusRipple:h,loading:v,loadingIndicator:M,size:m},z=Uj(A);return T.jsxs(Pj,{id:v?E:g,className:Tt(z.root,o),centerRipple:!0,focusRipple:!h,disabled:u||v,ref:t,...S,ownerState:A,children:[typeof v=="boolean"&&T.jsx("span",{className:z.loadingWrapper,style:{display:"contents"},children:T.jsx(Ij,{className:z.loadingIndicator,ownerState:A,children:v&&M})}),a]})});function Fj(n){return Cn("MuiTypography",n)}const NR=Tn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Hj={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},jj=OH(),Gj=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:a,classes:o}=n,c={root:["root",a,n.align!=="inherit"&&`align${mt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return zn(c,Fj,o)},Vj=Ct("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${mt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(pn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(va()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${mt(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),UR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ye=I.forwardRef(function(e,t){const{color:i,...r}=_n({props:e,name:"MuiTypography"}),a=!Hj[i],o=jj({...r,...a&&{color:i}}),{align:c="inherit",className:u,component:h,gutterBottom:m=!1,noWrap:g=!1,paragraph:v=!1,variant:b="body1",variantMapping:S=UR,...E}=o,M={...o,align:c,color:i,className:u,component:h,gutterBottom:m,noWrap:g,paragraph:v,variant:b,variantMapping:S},A=h||(v?"p":S[b]||UR[b])||"span",z=Gj(M);return T.jsx(Vj,{as:A,ref:t,className:Tt(z.root,u),...E,ownerState:M,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...E.style}})});function Xj(n){return Cn("MuiAppBar",n)}Tn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Wj=n=>{const{color:e,position:t,classes:i}=n,r={root:["root",`color${mt(e)}`,`position${mt(t)}`]};return zn(r,Xj,i)},PR=(n,e)=>n?`${n==null?void 0:n.replace(")","")}, ${e})`:e,Yj=Ct(TA,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${mt(t.position)}`],e[`color${mt(t.color)}`]]}})(pn(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(va(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?PR(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?PR(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),Kj=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiAppBar"}),{className:r,color:a="primary",enableColorOnDark:o=!1,position:c="fixed",...u}=i,h={...i,color:a,position:c,enableColorOnDark:o},m=Wj(h);return T.jsx(Yj,{square:!0,component:"header",ownerState:h,elevation:4,className:Tt(m.root,r,c==="fixed"&&"mui-fixed"),ref:t,...u})});function qj(n){return typeof n=="function"?n():n}const Jj=I.forwardRef(function(e,t){const{children:i,container:r,disablePortal:a=!1}=e,[o,c]=I.useState(null),u=ds(I.isValidElement(i)?EA(i):null,t);if(dh(()=>{a||c(qj(r)||document.body)},[r,a]),dh(()=>{if(o&&!a)return V1(t,o),()=>{V1(t,null)}},[t,o,a]),a){if(I.isValidElement(i)){const h={ref:u};return I.cloneElement(i,h)}return i}return o&&Rz.createPortal(i,o)}),Zj=Va(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Qj(n){return Cn("MuiChip",n)}const Sn=Tn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),$j=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:a,onDelete:o,clickable:c,variant:u}=n,h={root:["root",u,t&&"disabled",`size${mt(i)}`,`color${mt(r)}`,c&&"clickable",c&&`clickableColor${mt(r)}`,o&&"deletable",o&&`deletableColor${mt(r)}`,`${u}${mt(r)}`],label:["label",`label${mt(i)}`],avatar:["avatar",`avatar${mt(i)}`,`avatarColor${mt(r)}`],icon:["icon",`icon${mt(i)}`,`iconColor${mt(a)}`],deleteIcon:["deleteIcon",`deleteIcon${mt(i)}`,`deleteIconColor${mt(r)}`,`deleteIcon${mt(u)}Color${mt(r)}`]};return zn(h,Qj,e)},e5=Ct("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:a,onDelete:o,size:c,variant:u}=t;return[{[`& .${Sn.avatar}`]:e.avatar},{[`& .${Sn.avatar}`]:e[`avatar${mt(c)}`]},{[`& .${Sn.avatar}`]:e[`avatarColor${mt(i)}`]},{[`& .${Sn.icon}`]:e.icon},{[`& .${Sn.icon}`]:e[`icon${mt(c)}`]},{[`& .${Sn.icon}`]:e[`iconColor${mt(r)}`]},{[`& .${Sn.deleteIcon}`]:e.deleteIcon},{[`& .${Sn.deleteIcon}`]:e[`deleteIcon${mt(c)}`]},{[`& .${Sn.deleteIcon}`]:e[`deleteIconColor${mt(i)}`]},{[`& .${Sn.deleteIcon}`]:e[`deleteIcon${mt(u)}Color${mt(i)}`]},e.root,e[`size${mt(c)}`],e[`color${mt(i)}`],a&&e.clickable,a&&i!=="default"&&e[`clickableColor${mt(i)})`],o&&e.deletable,o&&i!=="default"&&e[`deletableColor${mt(i)}`],e[u],e[`${u}${mt(i)}`]]}})(pn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Sn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Sn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Sn.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Sn.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Sn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Sn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Sn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:bn(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:bn(n.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Sn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Sn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(va(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Sn.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].contrastTextChannel} / 0.7)`:bn(n.palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Sn.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Sn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Sn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:bn(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}},...Object.entries(n.palette).filter(va(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Sn.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:bn(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${Sn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:bn(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(va(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Sn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Sn.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Sn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Sn.avatar}`]:{marginLeft:4},[`& .${Sn.avatarSmall}`]:{marginLeft:2},[`& .${Sn.icon}`]:{marginLeft:4},[`& .${Sn.iconSmall}`]:{marginLeft:2},[`& .${Sn.deleteIcon}`]:{marginRight:5},[`& .${Sn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(va()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:bn(n.palette[t].main,.7)}`,[`&.${Sn.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette[t].main,n.palette.action.hoverOpacity)},[`&.${Sn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.focusOpacity})`:bn(n.palette[t].main,n.palette.action.focusOpacity)},[`& .${Sn.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:bn(n.palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),t5=Ct("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${mt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function IR(n){return n.key==="Backspace"||n.key==="Delete"}const n5=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiChip"}),{avatar:r,className:a,clickable:o,color:c="default",component:u,deleteIcon:h,disabled:m=!1,icon:g,label:v,onClick:b,onDelete:S,onKeyDown:E,onKeyUp:M,size:A="medium",variant:z="filled",tabIndex:B,skipFocusWhenDisabled:L=!1,...O}=i,U=I.useRef(null),k=ds(U,t),F=de=>{de.stopPropagation(),S&&S(de)},P=de=>{de.currentTarget===de.target&&IR(de)&&de.preventDefault(),E&&E(de)},w=de=>{de.currentTarget===de.target&&S&&IR(de)&&S(de),M&&M(de)},G=o!==!1&&b?!0:o,ee=G||S?lu:u||"div",q={...i,component:ee,disabled:m,size:A,color:c,iconColor:I.isValidElement(g)&&g.props.color||c,onDelete:!!S,clickable:G,variant:z},$=$j(q),ae=ee===lu?{component:u||"div",focusVisibleClassName:$.focusVisible,...S&&{disableRipple:!0}}:{};let J=null;S&&(J=h&&I.isValidElement(h)?I.cloneElement(h,{className:Tt(h.props.className,$.deleteIcon),onClick:F}):T.jsx(Zj,{className:Tt($.deleteIcon),onClick:F}));let re=null;r&&I.isValidElement(r)&&(re=I.cloneElement(r,{className:Tt($.avatar,r.props.className)}));let Q=null;return g&&I.isValidElement(g)&&(Q=I.cloneElement(g,{className:Tt($.icon,g.props.className)})),T.jsxs(e5,{as:ee,className:Tt($.root,a),disabled:G&&m?!0:void 0,onClick:b,onKeyDown:P,onKeyUp:w,ref:k,tabIndex:L&&m?-1:B,ownerState:q,...ae,...O,children:[re||Q,T.jsx(t5,{className:Tt($.label),ownerState:q,children:v}),J]})});function gm(n){return typeof n=="string"}const i5={entering:{opacity:1},entered:{opacity:1}},r5=I.forwardRef(function(e,t){const i=Rf(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:c,easing:u,in:h,onEnter:m,onEntered:g,onEntering:v,onExit:b,onExited:S,onExiting:E,style:M,timeout:A=r,TransitionComponent:z=ul,...B}=e,L=I.useRef(null),O=ds(L,EA(c),t),U=$=>ae=>{if($){const J=L.current;ae===void 0?$(J):$(J,ae)}},k=U(v),F=U(($,ae)=>{kL($);const J=Mm({style:M,timeout:A,easing:u},{mode:"enter"});$.style.webkitTransition=i.transitions.create("opacity",J),$.style.transition=i.transitions.create("opacity",J),m&&m($,ae)}),P=U(g),w=U(E),G=U($=>{const ae=Mm({style:M,timeout:A,easing:u},{mode:"exit"});$.style.webkitTransition=i.transitions.create("opacity",ae),$.style.transition=i.transitions.create("opacity",ae),b&&b($)}),ee=U(S),q=$=>{a&&a(L.current,$)};return T.jsx(z,{appear:o,in:h,nodeRef:L,onEnter:F,onEntered:P,onEntering:k,onExit:G,onExited:ee,onExiting:w,addEndListener:q,timeout:A,...B,children:($,{ownerState:ae,...J})=>I.cloneElement(c,{style:{opacity:0,visibility:$==="exited"&&!h?"hidden":void 0,...i5[$],...M,...c.props.style},ref:O,...J})})});function a5(n){return Cn("MuiBackdrop",n)}Tn("MuiBackdrop",["root","invisible"]);const s5=n=>{const{classes:e,invisible:t}=n;return zn({root:["root",t&&"invisible"]},a5,e)},o5=Ct("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),l5=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiBackdrop"}),{children:r,className:a,component:o="div",invisible:c=!1,open:u,components:h={},componentsProps:m={},slotProps:g={},slots:v={},TransitionComponent:b,transitionDuration:S,...E}=i,M={...i,component:o,invisible:c},A=s5(M),z={transition:b,root:h.Root,...v},B={...m,...g},L={slots:z,slotProps:B},[O,U]=uo("root",{elementType:o5,externalForwardedProps:L,className:Tt(A.root,a),ownerState:M}),[k,F]=uo("transition",{elementType:r5,externalForwardedProps:L,ownerState:M});return T.jsx(k,{in:u,timeout:S,...E,...F,children:T.jsx(O,{"aria-hidden":!0,...U,classes:A,ref:t,children:r})})}),c5=Tn("MuiBox",["root"]),u5=CA(),Mt=e4({themeId:rl,defaultTheme:u5,defaultClassName:c5.root,generateClassName:oL.generate}),f5=Va(T.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),d5=Ct(lu)(pn(({theme:n})=>({display:"flex",marginLeft:`calc(${n.spacing(1)} * 0.5)`,marginRight:`calc(${n.spacing(1)} * 0.5)`,...n.palette.mode==="light"?{backgroundColor:n.palette.grey[100],color:n.palette.grey[700]}:{backgroundColor:n.palette.grey[700],color:n.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...n.palette.mode==="light"?{backgroundColor:n.palette.grey[200]}:{backgroundColor:n.palette.grey[600]}},"&:active":{boxShadow:n.shadows[0],...n.palette.mode==="light"?{backgroundColor:G1(n.palette.grey[200],.12)}:{backgroundColor:G1(n.palette.grey[600],.12)}}}))),h5=Ct(f5)({width:24,height:16});function p5(n){const{slots:e={},slotProps:t={},...i}=n,r=n;return T.jsx("li",{children:T.jsx(d5,{focusRipple:!0,...i,ownerState:r,children:T.jsx(h5,{as:e.CollapsedIcon,ownerState:r,...t.collapsedIcon})})})}function m5(n){return Cn("MuiBreadcrumbs",n)}const g5=Tn("MuiBreadcrumbs",["root","ol","li","separator"]),y5=n=>{const{classes:e}=n;return zn({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},m5,e)},v5=Ct(ye,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(n,e)=>[{[`& .${g5.li}`]:e.li},e.root]})({}),x5=Ct("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(n,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),b5=Ct("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(n,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S5(n,e,t,i){return n.reduce((r,a,o)=>(o<n.length-1?r=r.concat(a,T.jsx(b5,{"aria-hidden":!0,className:e,ownerState:i,children:t},`separator-${o}`)):r.push(a),r),[])}const A5=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiBreadcrumbs"}),{children:r,className:a,component:o="nav",slots:c={},slotProps:u={},expandText:h="Show path",itemsAfterCollapse:m=1,itemsBeforeCollapse:g=1,maxItems:v=8,separator:b="/",...S}=i,[E,M]=I.useState(!1),A={...i,component:o,expanded:E,expandText:h,itemsAfterCollapse:m,itemsBeforeCollapse:g,maxItems:v,separator:b},z=y5(A),B=Yc({elementType:c.CollapsedIcon,externalSlotProps:u.collapsedIcon,ownerState:A}),L=I.useRef(null),O=k=>{const F=()=>{M(!0);const P=L.current.querySelector("a[href],button,[tabindex]");P&&P.focus()};return g+m>=k.length?k:[...k.slice(0,g),T.jsx(p5,{"aria-label":h,slots:{CollapsedIcon:c.CollapsedIcon},slotProps:{collapsedIcon:B},onClick:F},"ellipsis"),...k.slice(k.length-m,k.length)]},U=I.Children.toArray(r).filter(k=>I.isValidElement(k)).map((k,F)=>T.jsx("li",{className:z.li,children:k},`child-${F}`));return T.jsx(v5,{ref:t,component:o,color:"textSecondary",className:Tt(z.root,a),ownerState:A,...S,children:T.jsx(x5,{className:z.ol,ref:L,ownerState:A,children:S5(E||v&&U.length<=v?U:O(U),z.separator,b,A)})})});function _5(n){return Cn("MuiButton",n)}const _d=Tn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),M5=I.createContext({}),E5=I.createContext(void 0),C5=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:a,loading:o,loadingPosition:c,classes:u}=n,h={root:["root",o&&"loading",a,`${a}${mt(e)}`,`size${mt(r)}`,`${a}Size${mt(r)}`,`color${mt(e)}`,t&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${mt(c)}`],startIcon:["icon","startIcon",`iconSize${mt(r)}`],endIcon:["icon","endIcon",`iconSize${mt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},m=zn(h,_5,u);return{...u,...m}},jL=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],T5=Ct(lu,{shouldForwardProp:n=>H0(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${mt(t.color)}`],e[`size${mt(t.size)}`],e[`${t.variant}Size${mt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(pn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${_d.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${_d.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${_d.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${_d.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(va()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:bn(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${_d.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${_d.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${_d.loading}`]:{color:"transparent"}}}]}})),w5=Ct("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${mt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...jL]})),R5=Ct("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${mt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...jL]})),B5=Ct("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),kR=Ct("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(n,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),tr=I.forwardRef(function(e,t){const i=I.useContext(M5),r=I.useContext(E5),a=Sm(i,e),o=_n({props:a,name:"MuiButton"}),{children:c,color:u="primary",component:h="button",className:m,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:b=!1,endIcon:S,focusVisibleClassName:E,fullWidth:M=!1,id:A,loading:z=null,loadingIndicator:B,loadingPosition:L="center",size:O="medium",startIcon:U,type:k,variant:F="text",...P}=o,w=gL(A),G=B??T.jsx(HL,{"aria-labelledby":w,color:"inherit",size:16}),ee={...o,color:u,component:h,disabled:g,disableElevation:v,disableFocusRipple:b,fullWidth:M,loading:z,loadingIndicator:G,loadingPosition:L,size:O,type:k,variant:F},q=C5(ee),$=(U||z&&L==="start")&&T.jsx(w5,{className:q.startIcon,ownerState:ee,children:U||T.jsx(kR,{className:q.loadingIconPlaceholder,ownerState:ee})}),ae=(S||z&&L==="end")&&T.jsx(R5,{className:q.endIcon,ownerState:ee,children:S||T.jsx(kR,{className:q.loadingIconPlaceholder,ownerState:ee})}),J=r||"",re=typeof z=="boolean"?T.jsx("span",{className:q.loadingWrapper,style:{display:"contents"},children:z&&T.jsx(B5,{className:q.loadingIndicator,ownerState:ee,children:G})}):null;return T.jsxs(T5,{ownerState:ee,className:Tt(i.className,q.root,m,J),component:h,disabled:g||z,focusRipple:!b,focusVisibleClassName:Tt(q.focusVisible,E),ref:t,type:k,id:z?w:A,...P,classes:q,children:[$,L!=="end"&&re,c,L==="end"&&re,ae]})});function D5(n){return Cn("MuiCard",n)}Tn("MuiCard",["root"]);const z5=n=>{const{classes:e}=n;return zn({root:["root"]},D5,e)},L5=Ct(TA,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})({overflow:"hidden"}),ka=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiCard"}),{className:r,raised:a=!1,...o}=i,c={...i,raised:a},u=z5(c);return T.jsx(L5,{className:Tt(u.root,r),elevation:a?8:void 0,ref:t,ownerState:c,...o})});function O5(n){return Cn("MuiCardContent",n)}Tn("MuiCardContent",["root"]);const N5=n=>{const{classes:e}=n;return zn({root:["root"]},O5,e)},U5=Ct("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),cs=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiCardContent"}),{className:r,component:a="div",...o}=i,c={...i,component:a},u=N5(c);return T.jsx(U5,{as:a,className:Tt(u.root,r),ownerState:c,ref:t,...o})});function P5(n){return Cn("MuiCardMedia",n)}Tn("MuiCardMedia",["root","media","img"]);const I5=n=>{const{classes:e,isMediaComponent:t,isImageComponent:i}=n;return zn({root:["root",t&&"media",i&&"img"]},P5,e)},k5=Ct("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{isMediaComponent:i,isImageComponent:r}=t;return[e.root,i&&e.media,r&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),F5=["video","audio","picture","iframe","img"],H5=["picture","img"],GL=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiCardMedia"}),{children:r,className:a,component:o="div",image:c,src:u,style:h,...m}=i,g=F5.includes(o),v=!g&&c?{backgroundImage:`url("${c}")`,...h}:h,b={...i,component:o,isMediaComponent:g,isImageComponent:H5.includes(o)},S=I5(b);return T.jsx(k5,{className:Tt(S.root,a),as:o,role:!g&&c?"img":void 0,ref:t,style:v,ownerState:b,src:g?c||u:void 0,...m,children:r})}),$1=typeof UL({})=="function",j5=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),G5=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),VL=(n,e=!1)=>{var a,o;const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([c,u])=>{var m,g;const h=n.getColorSchemeSelector(c);h.startsWith("@")?t[h]={":root":{colorScheme:(m=u.palette)==null?void 0:m.mode}}:t[h.replace(/\s*&/,"")]={colorScheme:(g=u.palette)==null?void 0:g.mode}});let i={html:j5(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...G5(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const r=(o=(a=n.components)==null?void 0:a.MuiCssBaseline)==null?void 0:o.styleOverrides;return r&&(i=[i,r]),i},Zb="mui-ecs",V5=n=>{const e=VL(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${Zb})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,r])=>{var o,c;const a=n.getColorSchemeSelector(i);a.startsWith("@")?t[a]={[`:root:not(:has(.${Zb}))`]:{colorScheme:(o=r.palette)==null?void 0:o.mode}}:t[a.replace(/\s*&/,"")]={[`&:not(:has(.${Zb}))`]:{colorScheme:(c=r.palette)==null?void 0:c.mode}}}),e},X5=UL($1?({theme:n,enableColorScheme:e})=>VL(n,e):({theme:n})=>V5(n));function W5(n){const e=_n({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return T.jsxs(I.Fragment,{children:[$1&&T.jsx(X5,{enableColorScheme:i}),!$1&&!i&&T.jsx("span",{className:Zb,style:{display:"none"}}),t]})}function Y5(n){const e=al(n);return e.body===n?Am(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Gy(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function FR(n){return parseInt(Am(n).getComputedStyle(n).paddingRight,10)||0}function K5(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function HR(n,e,t,i,r){const a=[e,t,...i];[].forEach.call(n.children,o=>{const c=!a.includes(o),u=!K5(o);c&&u&&Gy(o,r)})}function fM(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function q5(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(Y5(i)){const o=_4(Am(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${FR(i)+o}px`;const c=al(i).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${FR(u)+o}px`})}let a;if(i.parentNode instanceof DocumentFragment)a=al(i).body;else{const o=i.parentElement,c=Am(i);a=(o==null?void 0:o.nodeName)==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:i}t.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{t.forEach(({value:a,el:o,property:c})=>{a?o.style.setProperty(c,a):o.style.removeProperty(c)})}}function J5(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class Z5{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Gy(e.modalRef,!1);const r=J5(t);HR(t,e.mount,e.modalRef,r,!0);const a=fM(this.containers,o=>o.container===t);return a!==-1?(this.containers[a].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=fM(this.containers,a=>a.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=q5(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=fM(this.containers,o=>o.modals.includes(e)),a=this.containers[r];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(i,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&Gy(e.modalRef,t),HR(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&Gy(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Q5=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function $5(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function eG(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function tG(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||eG(n))}function nG(n){const e=[],t=[];return Array.from(n.querySelectorAll(Q5)).forEach((i,r)=>{const a=$5(i);a===-1||!tG(i)||(a===0?e.push(i):t.push({documentOrder:r,tabIndex:a,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function iG(){return!0}function rG(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:a=nG,isEnabled:o=iG,open:c}=n,u=I.useRef(!1),h=I.useRef(null),m=I.useRef(null),g=I.useRef(null),v=I.useRef(null),b=I.useRef(!1),S=I.useRef(null),E=ds(EA(e),S),M=I.useRef(null);I.useEffect(()=>{!c||!S.current||(b.current=!t)},[t,c]),I.useEffect(()=>{if(!c||!S.current)return;const B=al(S.current);return S.current.contains(B.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),b.current&&S.current.focus()),()=>{r||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[c]),I.useEffect(()=>{if(!c||!S.current)return;const B=al(S.current),L=k=>{M.current=k,!(i||!o()||k.key!=="Tab")&&B.activeElement===S.current&&k.shiftKey&&(u.current=!0,m.current&&m.current.focus())},O=()=>{var P,w;const k=S.current;if(k===null)return;if(!B.hasFocus()||!o()||u.current){u.current=!1;return}if(k.contains(B.activeElement)||i&&B.activeElement!==h.current&&B.activeElement!==m.current)return;if(B.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!b.current)return;let F=[];if((B.activeElement===h.current||B.activeElement===m.current)&&(F=a(S.current)),F.length>0){const G=!!((P=M.current)!=null&&P.shiftKey&&((w=M.current)==null?void 0:w.key)==="Tab"),ee=F[0],q=F[F.length-1];typeof ee!="string"&&typeof q!="string"&&(G?q.focus():ee.focus())}else k.focus()};B.addEventListener("focusin",O),B.addEventListener("keydown",L,!0);const U=setInterval(()=>{B.activeElement&&B.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(U),B.removeEventListener("focusin",O),B.removeEventListener("keydown",L,!0)}},[t,i,r,o,c,a]);const A=B=>{g.current===null&&(g.current=B.relatedTarget),b.current=!0,v.current=B.target;const L=e.props.onFocus;L&&L(B)},z=B=>{g.current===null&&(g.current=B.relatedTarget),b.current=!0};return T.jsxs(I.Fragment,{children:[T.jsx("div",{tabIndex:c?0:-1,onFocus:z,ref:h,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:E,onFocus:A}),T.jsx("div",{tabIndex:c?0:-1,onFocus:z,ref:m,"data-testid":"sentinelEnd"})]})}function aG(n){return typeof n=="function"?n():n}function sG(n){return n?n.props.hasOwnProperty("in"):!1}const jR=()=>{},Hx=new Z5;function oG(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:a,onTransitionExited:o,children:c,onClose:u,open:h,rootRef:m}=n,g=I.useRef({}),v=I.useRef(null),b=I.useRef(null),S=ds(b,m),[E,M]=I.useState(!h),A=sG(c);let z=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(z=!1);const B=()=>al(v.current),L=()=>(g.current.modalRef=b.current,g.current.mount=v.current,g.current),O=()=>{Hx.mount(L(),{disableScrollLock:i}),b.current&&(b.current.scrollTop=0)},U=tu(()=>{const ae=aG(e)||B().body;Hx.add(L(),ae),b.current&&O()}),k=()=>Hx.isTopModal(L()),F=tu(ae=>{v.current=ae,ae&&(h&&k()?O():b.current&&Gy(b.current,z))}),P=I.useCallback(()=>{Hx.remove(L(),z)},[z]);I.useEffect(()=>()=>{P()},[P]),I.useEffect(()=>{h?U():(!A||!r)&&P()},[h,P,A,r,U]);const w=ae=>J=>{var re;(re=ae.onKeyDown)==null||re.call(ae,J),!(J.key!=="Escape"||J.which===229||!k())&&(t||(J.stopPropagation(),u&&u(J,"escapeKeyDown")))},G=ae=>J=>{var re;(re=ae.onClick)==null||re.call(ae,J),J.target===J.currentTarget&&u&&u(J,"backdropClick")};return{getRootProps:(ae={})=>{const J=jy(n);delete J.onTransitionEnter,delete J.onTransitionExited;const re={...J,...ae};return{role:"presentation",...re,onKeyDown:w(re),ref:S}},getBackdropProps:(ae={})=>{const J=ae;return{"aria-hidden":!0,...J,onClick:G(J),open:h}},getTransitionProps:()=>{const ae=()=>{M(!1),a&&a()},J=()=>{M(!0),o&&o(),r&&P()};return{onEnter:gR(ae,(c==null?void 0:c.props.onEnter)??jR),onExited:gR(J,(c==null?void 0:c.props.onExited)??jR)}},rootRef:S,portalRef:F,isTopModal:k,exited:E,hasTransition:A}}function lG(n){return Cn("MuiModal",n)}Tn("MuiModal",["root","hidden","backdrop"]);const cG=n=>{const{open:e,exited:t,classes:i}=n;return zn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},lG,i)},uG=Ct("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(pn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),fG=Ct(l5,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),dG=I.forwardRef(function(e,t){const i=_n({name:"MuiModal",props:e}),{BackdropComponent:r=fG,BackdropProps:a,classes:o,className:c,closeAfterTransition:u=!1,children:h,container:m,component:g,components:v={},componentsProps:b={},disableAutoFocus:S=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:M=!1,disablePortal:A=!1,disableRestoreFocus:z=!1,disableScrollLock:B=!1,hideBackdrop:L=!1,keepMounted:O=!1,onBackdropClick:U,onClose:k,onTransitionEnter:F,onTransitionExited:P,open:w,slotProps:G={},slots:ee={},theme:q,...$}=i,ae={...i,closeAfterTransition:u,disableAutoFocus:S,disableEnforceFocus:E,disableEscapeKeyDown:M,disablePortal:A,disableRestoreFocus:z,disableScrollLock:B,hideBackdrop:L,keepMounted:O},{getRootProps:J,getBackdropProps:re,getTransitionProps:Q,portalRef:de,isTopModal:Y,exited:te,hasTransition:Ce}=oG({...ae,rootRef:t}),He={...ae,exited:te},se=cG(He),we={};if(h.props.tabIndex===void 0&&(we.tabIndex="-1"),Ce){const{onEnter:at,onExited:Et}=Q();we.onEnter=at,we.onExited=Et}const Ae={slots:{root:v.Root,backdrop:v.Backdrop,...ee},slotProps:{...b,...G}},[Xe,Ge]=uo("root",{ref:t,elementType:uG,externalForwardedProps:{...Ae,...$,component:g},getSlotProps:J,ownerState:He,className:Tt(c,se==null?void 0:se.root,!He.open&&He.exited&&(se==null?void 0:se.hidden))}),[vt,Ze]=uo("backdrop",{ref:a==null?void 0:a.ref,elementType:r,externalForwardedProps:Ae,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:at=>re({...at,onClick:Et=>{U&&U(Et),at!=null&&at.onClick&&at.onClick(Et)}}),className:Tt(a==null?void 0:a.className,se==null?void 0:se.backdrop),ownerState:He});return!O&&!w&&(!Ce||te)?null:T.jsx(Jj,{ref:de,container:m,disablePortal:A,children:T.jsxs(Xe,{...Ge,children:[!L&&r?T.jsx(vt,{...Ze}):null,T.jsx(rG,{disableEnforceFocus:E,disableAutoFocus:S,disableRestoreFocus:z,isEnabled:Y,open:w,children:I.cloneElement(h,we)})]})})});function hG(n){return Cn("MuiDivider",n)}Tn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const pG=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:a,orientation:o,textAlign:c,variant:u}=n;return zn({root:["root",e&&"absolute",u,a&&"light",o==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&o==="vertical"&&"withChildrenVertical",c==="right"&&o!=="vertical"&&"textAlignRight",c==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},hG,i)},mG=Ct("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(pn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:bn(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),gG=Ct("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(pn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),eE=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiDivider"}),{absolute:r=!1,children:a,className:o,orientation:c="horizontal",component:u=a||c==="vertical"?"div":"hr",flexItem:h=!1,light:m=!1,role:g=u!=="hr"?"separator":void 0,textAlign:v="center",variant:b="fullWidth",...S}=i,E={...i,absolute:r,component:u,flexItem:h,light:m,orientation:c,role:g,textAlign:v,variant:b},M=pG(E);return T.jsx(mG,{as:u,className:Tt(M.root,o),role:g,ref:t,ownerState:E,"aria-orientation":g==="separator"&&(u!=="hr"||c==="vertical")?c:void 0,...S,children:a?T.jsx(gG,{className:M.wrapper,ownerState:E,children:a}):null})});eE&&(eE.muiSkipListHighlight=!0);function yG(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),a=Am(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const h=a.getComputedStyle(e);o=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let c=0,u=0;if(o&&o!=="none"&&typeof o=="string"){const h=o.split("(")[1].split(")")[0].split(",");c=parseInt(h[4],10),u=parseInt(h[5],10)}return n==="left"?r?`translateX(${r.right+c-i.left}px)`:`translateX(${a.innerWidth+c-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-c}px)`:`translateX(-${i.left+i.width-c}px)`:n==="up"?r?`translateY(${r.bottom+u-i.top}px)`:`translateY(${a.innerHeight+u-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-u}px)`:`translateY(-${i.top+i.height-u}px)`}function vG(n){return typeof n=="function"?n():n}function jx(n,e,t){const i=vG(t),r=yG(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const xG=I.forwardRef(function(e,t){const i=Rf(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:u,container:h,direction:m="down",easing:g=r,in:v,onEnter:b,onEntered:S,onEntering:E,onExit:M,onExited:A,onExiting:z,style:B,timeout:L=a,TransitionComponent:O=ul,...U}=e,k=I.useRef(null),F=ds(EA(u),k,t),P=Q=>de=>{Q&&(de===void 0?Q(k.current):Q(k.current,de))},w=P((Q,de)=>{jx(m,Q,h),kL(Q),b&&b(Q,de)}),G=P((Q,de)=>{const Y=Mm({timeout:L,style:B,easing:g},{mode:"enter"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",{...Y}),Q.style.transition=i.transitions.create("transform",{...Y}),Q.style.webkitTransform="none",Q.style.transform="none",E&&E(Q,de)}),ee=P(S),q=P(z),$=P(Q=>{const de=Mm({timeout:L,style:B,easing:g},{mode:"exit"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",de),Q.style.transition=i.transitions.create("transform",de),jx(m,Q,h),M&&M(Q)}),ae=P(Q=>{Q.style.webkitTransition="",Q.style.transition="",A&&A(Q)}),J=Q=>{o&&o(k.current,Q)},re=I.useCallback(()=>{k.current&&jx(m,k.current,h)},[m,h]);return I.useEffect(()=>{if(v||m==="down"||m==="right")return;const Q=y4(()=>{k.current&&jx(m,k.current,h)}),de=Am(k.current);return de.addEventListener("resize",Q),()=>{Q.clear(),de.removeEventListener("resize",Q)}},[m,v,h]),I.useEffect(()=>{v||re()},[v,re]),T.jsx(O,{nodeRef:k,onEnter:w,onEntered:ee,onEntering:G,onExit:$,onExited:ae,onExiting:q,addEndListener:J,appear:c,in:v,timeout:L,...U,children:(Q,{ownerState:de,...Y})=>I.cloneElement(u,{ref:F,style:{visibility:Q==="exited"&&!v?"hidden":void 0,...B,...u.props.style},...Y})})});function bG(n){return Cn("MuiDrawer",n)}Tn("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const XL=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},SG=n=>{const{classes:e,anchor:t,variant:i}=n,r={root:["root",`anchor${mt(t)}`],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${mt(t)}`,i!=="temporary"&&`paperAnchorDocked${mt(t)}`]};return zn(r,bG,e)},AG=Ct(dG,{name:"MuiDrawer",slot:"Root",overridesResolver:XL})(pn(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),_G=Ct("div",{shouldForwardProp:H0,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:XL})({flex:"0 0 auto"}),MG=Ct(TA,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${mt(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${mt(t.anchor)}`]]}})(pn(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),WL={left:"right",right:"left",top:"down",bottom:"up"};function EG(n){return["left","right"].includes(n)}function CG({direction:n},e){return n==="rtl"&&EG(e)?WL[e]:e}const TG=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiDrawer"}),r=Rf(),a=EL(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:u,children:h,className:m,elevation:g=16,hideBackdrop:v=!1,ModalProps:{BackdropProps:b,...S}={},onClose:E,open:M=!1,PaperProps:A={},SlideProps:z,TransitionComponent:B,transitionDuration:L=o,variant:O="temporary",slots:U={},slotProps:k={},...F}=i,P=I.useRef(!1);I.useEffect(()=>{P.current=!0},[]);const w=CG({direction:a?"rtl":"ltr"},c),ee={...i,anchor:c,elevation:g,open:M,variant:O,...F},q=SG(ee),$={slots:{transition:B,...U},slotProps:{paper:A,transition:z,...k,backdrop:IH(k.backdrop||{...u,...b},{transitionDuration:L})}},[ae,J]=uo("root",{ref:t,elementType:AG,className:Tt(q.root,q.modal,m),shouldForwardComponentProp:!0,ownerState:ee,externalForwardedProps:{...$,...F,...S},additionalProps:{open:M,onClose:E,hideBackdrop:v,slots:{backdrop:$.slots.backdrop},slotProps:{backdrop:$.slotProps.backdrop}}}),[re,Q]=uo("paper",{elementType:MG,shouldForwardComponentProp:!0,className:Tt(q.paper,A.className),ownerState:ee,externalForwardedProps:$,additionalProps:{elevation:O==="temporary"?g:0,square:!0}}),[de,Y]=uo("docked",{elementType:_G,ref:t,className:Tt(q.root,q.docked,m),ownerState:ee,externalForwardedProps:$,additionalProps:F}),[te,Ce]=uo("transition",{elementType:xG,ownerState:ee,externalForwardedProps:$,additionalProps:{in:M,direction:WL[w],timeout:L,appear:P.current}}),He=T.jsx(re,{...Q,children:h});if(O==="permanent")return T.jsx(de,{...Y,children:He});const se=T.jsx(te,{...Ce,children:He});return O==="persistent"?T.jsx(de,{...Y,children:se}):T.jsx(ae,{...J,children:se})});function wG(n){return Cn("MuiFab",n)}const GR=Tn("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),RG=n=>{const{color:e,variant:t,classes:i,size:r}=n,a={root:["root",t,`size${mt(r)}`,e==="inherit"?"colorInherit":e]},o=zn(a,wG,i);return{...i,...o}},BG=Ct(lu,{name:"MuiFab",slot:"Root",shouldForwardProp:n=>H0(n)||n==="classes",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${mt(t.size)}`],t.color==="inherit"&&e.colorInherit,e[mt(t.size)],e[t.color]]}})(pn(({theme:n})=>{var e,t;return{...n.typography.button,minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(n.vars||n).zIndex.fab,boxShadow:(n.vars||n).shadows[6],"&:active":{boxShadow:(n.vars||n).shadows[12]},color:n.vars?n.vars.palette.text.primary:(t=(e=n.palette).getContrastText)==null?void 0:t.call(e,n.palette.grey[300]),backgroundColor:(n.vars||n).palette.grey[300],"&:hover":{backgroundColor:(n.vars||n).palette.grey.A100,"@media (hover: none)":{backgroundColor:(n.vars||n).palette.grey[300]},textDecoration:"none"},[`&.${GR.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),pn(({theme:n})=>({variants:[...Object.entries(n.palette).filter(va(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].contrastText,backgroundColor:(n.vars||n).palette[e].main,"&:hover":{backgroundColor:(n.vars||n).palette[e].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e].main}}}}))]})),pn(({theme:n})=>({[`&.${GR.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}))),DG=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiFab"}),{children:r,className:a,color:o="default",component:c="button",disabled:u=!1,disableFocusRipple:h=!1,focusVisibleClassName:m,size:g="large",variant:v="circular",...b}=i,S={...i,color:o,component:c,disabled:u,disableFocusRipple:h,size:g,variant:v},E=RG(S);return T.jsx(BG,{className:Tt(E.root,a),component:c,disabled:u,focusRipple:!h,focusVisibleClassName:Tt(E.focusVisible,m),ownerState:S,ref:t,...b,classes:E,children:r})}),VR=I.createContext();function zG(n){return Cn("MuiGrid",n)}const LG=[0,1,2,3,4,5,6,7,8,9,10],OG=["column-reverse","column","row-reverse","row"],NG=["nowrap","wrap-reverse","wrap"],vy=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],h0=Tn("MuiGrid",["root","container","item","zeroMinWidth",...LG.map(n=>`spacing-xs-${n}`),...OG.map(n=>`direction-xs-${n}`),...NG.map(n=>`wrap-xs-${n}`),...vy.map(n=>`grid-xs-${n}`),...vy.map(n=>`grid-sm-${n}`),...vy.map(n=>`grid-md-${n}`),...vy.map(n=>`grid-lg-${n}`),...vy.map(n=>`grid-xl-${n}`)]);function UG({theme:n,ownerState:e}){let t;return n.breakpoints.keys.reduce((i,r)=>{let a={};if(e[r]&&(t=e[r]),!t)return i;if(t===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(t==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=nh({values:e.columns,breakpoints:n.breakpoints.values}),c=typeof o=="object"?o[r]:o;if(c==null)return i;const u=`${Math.round(t/c*1e8)/1e6}%`;let h={};if(e.container&&e.item&&e.columnSpacing!==0){const m=n.spacing(e.columnSpacing);if(m!=="0px"){const g=`calc(${u} + ${m})`;h={flexBasis:g,maxWidth:g}}}a={flexBasis:u,flexGrow:0,maxWidth:u,...h}}return n.breakpoints.values[r]===0?Object.assign(i,a):i[n.breakpoints.up(r)]=a,i},{})}function PG({theme:n,ownerState:e}){const t=nh({values:e.direction,breakpoints:n.breakpoints.values});return fs({theme:n},t,i=>{const r={flexDirection:i};return i.startsWith("column")&&(r[`& > .${h0.item}`]={maxWidth:"none"}),r})}function YL({breakpoints:n,values:e}){let t="";Object.keys(e).forEach(r=>{t===""&&e[r]!==0&&(t=r)});const i=Object.keys(n).sort((r,a)=>n[r]-n[a]);return i.slice(0,i.indexOf(t))}function IG({theme:n,ownerState:e}){const{container:t,rowSpacing:i}=e;let r={};if(t&&i!==0){const a=nh({values:i,breakpoints:n.breakpoints.values});let o;typeof a=="object"&&(o=YL({breakpoints:n.breakpoints.values,values:a})),r=fs({theme:n},a,(c,u)=>{const h=n.spacing(c);return h!=="0px"?{marginTop:`calc(-1 * ${h})`,[`& > .${h0.item}`]:{paddingTop:h}}:o!=null&&o.includes(u)?{}:{marginTop:0,[`& > .${h0.item}`]:{paddingTop:0}}})}return r}function kG({theme:n,ownerState:e}){const{container:t,columnSpacing:i}=e;let r={};if(t&&i!==0){const a=nh({values:i,breakpoints:n.breakpoints.values});let o;typeof a=="object"&&(o=YL({breakpoints:n.breakpoints.values,values:a})),r=fs({theme:n},a,(c,u)=>{const h=n.spacing(c);if(h!=="0px"){const m=`calc(-1 * ${h})`;return{width:`calc(100% + ${h})`,marginLeft:m,[`& > .${h0.item}`]:{paddingLeft:h}}}return o!=null&&o.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${h0.item}`]:{paddingLeft:0}}})}return r}function FG(n,e,t={}){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[t[`spacing-xs-${String(n)}`]];const i=[];return e.forEach(r=>{const a=n[r];Number(a)>0&&i.push(t[`spacing-${r}-${String(a)}`])}),i}const HG=Ct("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{container:i,direction:r,item:a,spacing:o,wrap:c,zeroMinWidth:u,breakpoints:h}=t;let m=[];i&&(m=FG(o,h,e));const g=[];return h.forEach(v=>{const b=t[v];b&&g.push(e[`grid-${v}-${String(b)}`])}),[e.root,i&&e.container,a&&e.item,u&&e.zeroMinWidth,...m,r!=="row"&&e[`direction-xs-${String(r)}`],c!=="wrap"&&e[`wrap-xs-${String(c)}`],...g]}})(({ownerState:n})=>({boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...n.item&&{margin:0},...n.zeroMinWidth&&{minWidth:0},...n.wrap!=="wrap"&&{flexWrap:n.wrap}}),PG,IG,kG,UG);function jG(n,e){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[`spacing-xs-${String(n)}`];const t=[];return e.forEach(i=>{const r=n[i];if(Number(r)>0){const a=`spacing-${i}-${String(r)}`;t.push(a)}}),t}const GG=n=>{const{classes:e,container:t,direction:i,item:r,spacing:a,wrap:o,zeroMinWidth:c,breakpoints:u}=n;let h=[];t&&(h=jG(a,u));const m=[];u.forEach(v=>{const b=n[v];b&&m.push(`grid-${v}-${String(b)}`)});const g={root:["root",t&&"container",r&&"item",c&&"zeroMinWidth",...h,i!=="row"&&`direction-xs-${String(i)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...m]};return zn(g,zG,e)},ui=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiGrid"}),{breakpoints:r}=Rf(),a=_A(i),{className:o,columns:c,columnSpacing:u,component:h="div",container:m=!1,direction:g="row",item:v=!1,rowSpacing:b,spacing:S=0,wrap:E="wrap",zeroMinWidth:M=!1,...A}=a,z=b||S,B=u||S,L=I.useContext(VR),O=m?c||12:L,U={},k={...A};r.keys.forEach(w=>{A[w]!=null&&(U[w]=A[w],delete k[w])});const F={...a,columns:O,container:m,direction:g,item:v,rowSpacing:z,columnSpacing:B,wrap:E,zeroMinWidth:M,spacing:S,...U,breakpoints:r.keys},P=GG(F);return T.jsx(VR.Provider,{value:O,children:T.jsx(HG,{ownerState:F,className:Tt(P.root,o),as:h,ref:t,...k})})}),Em=pL({themeId:rl});function VG(n){return Cn("MuiLink",n)}const XG=Tn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),WG=({theme:n,ownerState:e})=>{const t=e.color,i=pf(n,`palette.${t}.main`,!1)||pf(n,`palette.${t}`,!1)||e.color,r=pf(n,`palette.${t}.mainChannel`)||pf(n,`palette.${t}Channel`);return"vars"in n&&r?`rgba(${r} / 0.4)`:bn(i,.4)},XR={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},YG=n=>{const{classes:e,component:t,focusVisible:i,underline:r}=n,a={root:["root",`underline${mt(r)}`,t==="button"&&"button",i&&"focusVisible"]};return zn(a,VG,e)},KG=Ct(ye,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${mt(t.underline)}`],t.component==="button"&&e.button]}})(pn(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(va()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:bn(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:bn(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:bn(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${XG.focusVisible}`]:{outline:"auto"}}}]}))),WR=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiLink"}),r=Rf(),{className:a,color:o="primary",component:c="a",onBlur:u,onFocus:h,TypographyClasses:m,underline:g="always",variant:v="inherit",sx:b,...S}=i,[E,M]=I.useState(!1),A=O=>{_m(O.target)||M(!1),u&&u(O)},z=O=>{_m(O.target)&&M(!0),h&&h(O)},B={...i,color:o,component:c,focusVisible:E,underline:g,variant:v},L=YG(B);return T.jsx(KG,{color:o,className:Tt(L.root,a),classes:m,component:c,onBlur:A,onFocus:z,ref:t,ownerState:B,variant:v,...S,sx:[...XR[o]===void 0?[{color:o}]:[],...Array.isArray(b)?b:[b]],style:{...S.style,...g==="always"&&o!=="inherit"&&!XR[o]&&{"--Link-underlineColor":WG({theme:r,ownerState:B})}}})}),nu=I.createContext({});function qG(n){return Cn("MuiList",n)}Tn("MuiList",["root","padding","dense","subheader"]);const JG=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return zn({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},qG,e)},ZG=Ct("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),mf=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiList"}),{children:r,className:a,component:o="ul",dense:c=!1,disablePadding:u=!1,subheader:h,...m}=i,g=I.useMemo(()=>({dense:c}),[c]),v={...i,component:o,dense:c,disablePadding:u},b=JG(v);return T.jsx(nu.Provider,{value:g,children:T.jsxs(ZG,{as:o,className:Tt(b.root,a),ref:t,ownerState:v,...m,children:[h,r]})})});function QG(n){return Cn("MuiListItem",n)}Tn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function $G(n){return Cn("MuiListItemButton",n)}const im=Tn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),eV=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters]},tV=n=>{const{alignItems:e,classes:t,dense:i,disabled:r,disableGutters:a,divider:o,selected:c}=n,h=zn({root:["root",i&&"dense",!a&&"gutters",o&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},$G,t);return{...t,...h}},nV=Ct(lu,{shouldForwardProp:n=>H0(n)||n==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:eV})(pn(({theme:n})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${im.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:bn(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${im.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:bn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${im.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:bn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:bn(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${im.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${im.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),iV=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:a=!1,component:o="div",children:c,dense:u=!1,disableGutters:h=!1,divider:m=!1,focusVisibleClassName:g,selected:v=!1,className:b,...S}=i,E=I.useContext(nu),M=I.useMemo(()=>({dense:u||E.dense||!1,alignItems:r,disableGutters:h}),[r,E.dense,u,h]),A=I.useRef(null);dh(()=>{a&&A.current&&A.current.focus()},[a]);const z={...i,alignItems:r,dense:M.dense,disableGutters:h,divider:m,selected:v},B=tV(z),L=ds(A,t);return T.jsx(nu.Provider,{value:M,children:T.jsx(nV,{ref:L,href:S.href||S.to,component:(S.href||S.to)&&o==="div"?"button":o,focusVisibleClassName:Tt(B.focusVisible,g),ownerState:z,className:Tt(B.root,b),...S,classes:B,children:c})})});function rV(n){return Cn("MuiListItemSecondaryAction",n)}Tn("MuiListItemSecondaryAction",["root","disableGutters"]);const aV=n=>{const{disableGutters:e,classes:t}=n;return zn({root:["root",e&&"disableGutters"]},rV,t)},sV=Ct("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),KL=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...a}=i,o=I.useContext(nu),c={...i,disableGutters:o.disableGutters},u=aV(c);return T.jsx(sV,{className:Tt(u.root,r),ownerState:c,ref:t,...a})});KL.muiName="ListItemSecondaryAction";const oV=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},lV=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:a,divider:o,hasSecondaryAction:c}=n;return zn({root:["root",i&&"dense",!r&&"gutters",!a&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},QG,t)},cV=Ct("div",{name:"MuiListItem",slot:"Root",overridesResolver:oV})(pn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${im.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),uV=Ct("li",{name:"MuiListItem",slot:"Container",overridesResolver:(n,e)=>e.container})({position:"relative"}),mi=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiListItem"}),{alignItems:r="center",children:a,className:o,component:c,components:u={},componentsProps:h={},ContainerComponent:m="li",ContainerProps:{className:g,...v}={},dense:b=!1,disableGutters:S=!1,disablePadding:E=!1,divider:M=!1,secondaryAction:A,slotProps:z={},slots:B={},...L}=i,O=I.useContext(nu),U=I.useMemo(()=>({dense:b||O.dense||!1,alignItems:r,disableGutters:S}),[r,O.dense,b,S]),k=I.useRef(null),F=I.Children.toArray(a),P=F.length&&v4(F[F.length-1],["ListItemSecondaryAction"]),w={...i,alignItems:r,dense:U.dense,disableGutters:S,disablePadding:E,divider:M,hasSecondaryAction:P},G=lV(w),ee=ds(k,t),q=B.root||u.Root||cV,$=z.root||h.root||{},ae={className:Tt(G.root,$.className,o),...L};let J=c||"li";return P?(J=!ae.component&&!c?"div":J,m==="li"&&(J==="li"?J="div":ae.component==="li"&&(ae.component="div")),T.jsx(nu.Provider,{value:U,children:T.jsxs(uV,{as:m,className:Tt(G.container,g),ref:ee,ownerState:w,...v,children:[T.jsx(q,{...$,...!gm(q)&&{as:J,ownerState:{...w,...$.ownerState}},...ae,children:F}),F.pop()]})})):T.jsx(nu.Provider,{value:U,children:T.jsxs(q,{...$,as:J,ref:ee,...!gm(q)&&{ownerState:{...w,...$.ownerState}},...ae,children:[F,A&&T.jsx(KL,{children:A})]})})});function fV(n){return Cn("MuiListItemIcon",n)}Tn("MuiListItemIcon",["root","alignItemsFlexStart"]);const dV=n=>{const{alignItems:e,classes:t}=n;return zn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},fV,t)},hV=Ct("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(pn(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Ds=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiListItemIcon"}),{className:r,...a}=i,o=I.useContext(nu),c={...i,alignItems:o.alignItems},u=dV(c);return T.jsx(hV,{className:Tt(u.root,r),ownerState:c,ref:t,...a})});function pV(n){return Cn("MuiListItemText",n)}const Gx=Tn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),mV=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:a}=n;return zn({root:["root",t&&"inset",a&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},pV,e)},gV=Ct("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Gx.primary}`]:e.primary},{[`& .${Gx.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${NR.root}:where(& .${Gx.primary})`]:{display:"block"},[`.${NR.root}:where(& .${Gx.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),gi=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiListItemText"}),{children:r,className:a,disableTypography:o=!1,inset:c=!1,primary:u,primaryTypographyProps:h,secondary:m,secondaryTypographyProps:g,slots:v={},slotProps:b={},...S}=i,{dense:E}=I.useContext(nu);let M=u??r,A=m;const z={...i,disableTypography:o,inset:c,primary:!!M,secondary:!!A,dense:E},B=mV(z),L={slots:v,slotProps:{primary:h,secondary:g,...b}},[O,U]=uo("primary",{className:B.primary,elementType:ye,externalForwardedProps:L,ownerState:z}),[k,F]=uo("secondary",{className:B.secondary,elementType:ye,externalForwardedProps:L,ownerState:z});return M!=null&&M.type!==ye&&!o&&(M=T.jsx(O,{variant:E?"body2":"body1",component:U!=null&&U.variant?void 0:"span",...U,children:M})),A!=null&&A.type!==ye&&!o&&(A=T.jsx(k,{variant:"body2",color:"textSecondary",...F,children:A})),T.jsxs(gV,{className:Tt(B.root,a),ownerState:z,ref:t,...S,children:[M,A]})});function yV(n,e,t=(i,r)=>i===r){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}const vV=2;function Dp(n,e,t,i,r){return t===1?Math.min(n+e,r):Math.max(n-e,i)}function qL(n,e){return n-e}function YR(n,e){const{index:t}=n.reduce((i,r,a)=>{const o=Math.abs(e-r);return i===null||o<i.distance||o===i.distance?{distance:o,index:a}:i},null)??{};return t}function Vx(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const r=t.changedTouches[i];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function dS(n,e,t){return(n-e)*100/(t-e)}function xV(n,e,t){return(t-e)*n+e}function bV(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function SV(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(bV(e)))}function KR({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort(qL)}function Xx({sliderRef:n,activeIndex:e,setActive:t}){var r,a,o;const i=al(n.current);(!((r=n.current)!=null&&r.contains(i.activeElement))||Number((a=i==null?void 0:i.activeElement)==null?void 0:a.getAttribute("data-index"))!==e)&&((o=n.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function Wx(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?yV(n,e):!1}const AV={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},_V=n=>n;let Yx;function qR(){return Yx===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Yx=CSS.supports("touch-action","none"):Yx=!0),Yx}function MV(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:r=!1,isRtl:a=!1,marks:o=!1,max:c=100,min:u=0,name:h,onChange:m,onChangeCommitted:g,orientation:v="horizontal",rootRef:b,scale:S=_V,step:E=1,shiftStep:M=10,tabIndex:A,value:z}=n,B=I.useRef(void 0),[L,O]=I.useState(-1),[U,k]=I.useState(-1),[F,P]=I.useState(!1),w=I.useRef(0),G=I.useRef(null),[ee,q]=yL({controlled:z,default:t??u,name:"Slider"}),$=m&&((ce,fe,Fe)=>{const Pe=ce.nativeEvent||ce,Je=new Pe.constructor(Pe.type,Pe);Object.defineProperty(Je,"target",{writable:!0,value:{value:fe,name:h}}),G.current=fe,m(Je,fe,Fe)}),ae=Array.isArray(ee);let J=ae?ee.slice().sort(qL):[ee];J=J.map(ce=>ce==null?u:tm(ce,u,c));const re=o===!0&&E!==null?[...Array(Math.floor((c-u)/E)+1)].map((ce,fe)=>({value:u+E*fe})):o||[],Q=re.map(ce=>ce.value),[de,Y]=I.useState(-1),te=I.useRef(null),Ce=ds(b,te),He=ce=>fe=>{var Pe;const Fe=Number(fe.currentTarget.getAttribute("data-index"));_m(fe.target)&&Y(Fe),k(Fe),(Pe=ce==null?void 0:ce.onFocus)==null||Pe.call(ce,fe)},se=ce=>fe=>{var Fe;_m(fe.target)||Y(-1),k(-1),(Fe=ce==null?void 0:ce.onBlur)==null||Fe.call(ce,fe)},we=(ce,fe)=>{const Fe=Number(ce.currentTarget.getAttribute("data-index")),Pe=J[Fe],Je=Q.indexOf(Pe);let et=fe;if(re&&E==null){const We=Q[Q.length-1];et>=We?et=We:et<=Q[0]?et=Q[0]:et=et<Pe?Q[Je-1]:Q[Je+1]}if(et=tm(et,u,c),ae){r&&(et=tm(et,J[Fe-1]||-1/0,J[Fe+1]||1/0));const We=et;et=KR({values:J,newValue:et,index:Fe});let it=Fe;r||(it=et.indexOf(We)),Xx({sliderRef:te,activeIndex:it})}q(et),Y(Fe),$&&!Wx(et,ee)&&$(ce,et,Fe),g&&g(ce,G.current??et)},Ae=ce=>fe=>{var Fe;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(fe.key)){fe.preventDefault();const Pe=Number(fe.currentTarget.getAttribute("data-index")),Je=J[Pe];let et=null;if(E!=null){const We=fe.shiftKey?M:E;switch(fe.key){case"ArrowUp":et=Dp(Je,We,1,u,c);break;case"ArrowRight":et=Dp(Je,We,a?-1:1,u,c);break;case"ArrowDown":et=Dp(Je,We,-1,u,c);break;case"ArrowLeft":et=Dp(Je,We,a?1:-1,u,c);break;case"PageUp":et=Dp(Je,M,1,u,c);break;case"PageDown":et=Dp(Je,M,-1,u,c);break;case"Home":et=u;break;case"End":et=c;break}}else if(re){const We=Q[Q.length-1],it=Q.indexOf(Je),ct=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],ft=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];ct.includes(fe.key)?it===0?et=Q[0]:et=Q[it-1]:ft.includes(fe.key)&&(it===Q.length-1?et=We:et=Q[it+1])}et!=null&&we(fe,et)}(Fe=ce==null?void 0:ce.onKeyDown)==null||Fe.call(ce,fe)};dh(()=>{var ce;i&&te.current.contains(document.activeElement)&&((ce=document.activeElement)==null||ce.blur())},[i]),i&&L!==-1&&O(-1),i&&de!==-1&&Y(-1);const Xe=ce=>fe=>{var Fe;(Fe=ce.onChange)==null||Fe.call(ce,fe),we(fe,fe.target.valueAsNumber)},Ge=I.useRef(void 0);let vt=v;a&&v==="horizontal"&&(vt+="-reverse");const Ze=({finger:ce,move:fe=!1})=>{const{current:Fe}=te,{width:Pe,height:Je,bottom:et,left:We}=Fe.getBoundingClientRect();let it;vt.startsWith("vertical")?it=(et-ce.y)/Je:it=(ce.x-We)/Pe,vt.includes("-reverse")&&(it=1-it);let ct;if(ct=xV(it,u,c),E)ct=SV(ct,E,u);else{const gt=YR(Q,ct);ct=Q[gt]}ct=tm(ct,u,c);let ft=0;if(ae){fe?ft=Ge.current:ft=YR(J,ct),r&&(ct=tm(ct,J[ft-1]||-1/0,J[ft+1]||1/0));const gt=ct;ct=KR({values:J,newValue:ct,index:ft}),r&&fe||(ft=ct.indexOf(gt),Ge.current=ft)}return{newValue:ct,activeIndex:ft}},at=tu(ce=>{const fe=Vx(ce,B);if(!fe)return;if(w.current+=1,ce.type==="mousemove"&&ce.buttons===0){Et(ce);return}const{newValue:Fe,activeIndex:Pe}=Ze({finger:fe,move:!0});Xx({sliderRef:te,activeIndex:Pe,setActive:O}),q(Fe),!F&&w.current>vV&&P(!0),$&&!Wx(Fe,ee)&&$(ce,Fe,Pe)}),Et=tu(ce=>{const fe=Vx(ce,B);if(P(!1),!fe)return;const{newValue:Fe}=Ze({finger:fe,move:!0});O(-1),ce.type==="touchend"&&k(-1),g&&g(ce,G.current??Fe),B.current=void 0,ne()}),ht=tu(ce=>{if(i)return;qR()||ce.preventDefault();const fe=ce.changedTouches[0];fe!=null&&(B.current=fe.identifier);const Fe=Vx(ce,B);if(Fe!==!1){const{newValue:Je,activeIndex:et}=Ze({finger:Fe});Xx({sliderRef:te,activeIndex:et,setActive:O}),q(Je),$&&!Wx(Je,ee)&&$(ce,Je,et)}w.current=0;const Pe=al(te.current);Pe.addEventListener("touchmove",at,{passive:!0}),Pe.addEventListener("touchend",Et,{passive:!0})}),ne=I.useCallback(()=>{const ce=al(te.current);ce.removeEventListener("mousemove",at),ce.removeEventListener("mouseup",Et),ce.removeEventListener("touchmove",at),ce.removeEventListener("touchend",Et)},[Et,at]);I.useEffect(()=>{const{current:ce}=te;return ce.addEventListener("touchstart",ht,{passive:qR()}),()=>{ce.removeEventListener("touchstart",ht),ne()}},[ne,ht]),I.useEffect(()=>{i&&ne()},[i,ne]);const Yt=ce=>fe=>{var Je;if((Je=ce.onMouseDown)==null||Je.call(ce,fe),i||fe.defaultPrevented||fe.button!==0)return;fe.preventDefault();const Fe=Vx(fe,B);if(Fe!==!1){const{newValue:et,activeIndex:We}=Ze({finger:Fe});Xx({sliderRef:te,activeIndex:We,setActive:O}),q(et),$&&!Wx(et,ee)&&$(fe,et,We)}w.current=0;const Pe=al(te.current);Pe.addEventListener("mousemove",at,{passive:!0}),Pe.addEventListener("mouseup",Et)},ke=dS(ae?J[0]:u,u,c),De=dS(J[J.length-1],u,c)-ke,Te=(ce={})=>{const fe=jy(ce),Fe={onMouseDown:Yt(fe||{})},Pe={...fe,...Fe};return{...ce,ref:Ce,...Pe}},$e=ce=>fe=>{var Pe;(Pe=ce.onMouseOver)==null||Pe.call(ce,fe);const Fe=Number(fe.currentTarget.getAttribute("data-index"));k(Fe)},ze=ce=>fe=>{var Fe;(Fe=ce.onMouseLeave)==null||Fe.call(ce,fe),k(-1)},K=(ce={})=>{const fe=jy(ce),Fe={onMouseOver:$e(fe||{}),onMouseLeave:ze(fe||{})};return{...ce,...fe,...Fe}},j=ce=>({pointerEvents:L!==-1&&L!==ce?"none":void 0});let pe;return v==="vertical"&&(pe=a?"vertical-rl":"vertical-lr"),{active:L,axis:vt,axisProps:AV,dragging:F,focusedThumbIndex:de,getHiddenInputProps:(ce={})=>{const fe=jy(ce),Fe={onChange:Xe(fe||{}),onFocus:He(fe||{}),onBlur:se(fe||{}),onKeyDown:Ae(fe||{})},Pe={...fe,...Fe};return{tabIndex:A,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":S(c),"aria-valuemin":S(u),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:i,...ce,...Pe,style:{...E4,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:pe}}},getRootProps:Te,getThumbProps:K,marks:re,open:U,range:ae,rootRef:Ce,trackLeap:De,trackOffset:ke,values:J,getThumbStyle:j}}const EV=n=>!n||!gm(n);function CV(n){return Cn("MuiSlider",n)}const fo=Tn("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),TV=n=>{const{open:e}=n;return{offset:Tt(e&&fo.valueLabelOpen),circle:fo.valueLabelCircle,label:fo.valueLabelLabel}};function wV(n){const{children:e,className:t,value:i}=n,r=TV(n);return e?I.cloneElement(e,{className:Tt(e.props.className)},T.jsxs(I.Fragment,{children:[e.props.children,T.jsx("span",{className:Tt(r.offset,t),"aria-hidden":!0,children:T.jsx("span",{className:r.circle,children:T.jsx("span",{className:r.label,children:i})})})]})):null}function JR(n){return n}const RV=Ct("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${mt(t.color)}`],t.size!=="medium"&&e[`size${mt(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(pn(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${fo.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${fo.dragging}`]:{[`& .${fo.thumb}, & .${fo.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),BV=Ct("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(n,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),DV=Ct("span",{name:"MuiSlider",slot:"Track",overridesResolver:(n,e)=>e.track})(pn(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:d0(n.palette[e].main,.62),borderColor:d0(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:f0(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:f0(n.palette[e].main,.5)})}}}))]}))),zV=Ct("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${mt(t.color)}`],t.size!=="medium"&&e[`thumbSize${mt(t.size)}`]]}})(pn(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${fo.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${fo.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${bn(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${fo.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${bn(n.palette[e].main,.16)}`}}}}))]}))),LV=Ct(wV,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(n,e)=>e.valueLabel})(pn(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${fo.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${fo.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),OV=Ct("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>dC(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(pn(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),NV=Ct("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>dC(n)&&n!=="markLabelActive",overridesResolver:(n,e)=>e.markLabel})(pn(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),UV=n=>{const{disabled:e,dragging:t,marked:i,orientation:r,track:a,classes:o,color:c,size:u}=n,h={root:["root",e&&"disabled",t&&"dragging",i&&"marked",r==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",c&&`color${mt(c)}`,u&&`size${mt(u)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",u&&`thumbSize${mt(u)}`,c&&`thumbColor${mt(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return zn(h,CV,o)},PV=({children:n})=>n,JL=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiSlider"}),r=EL(),{"aria-label":a,"aria-valuetext":o,"aria-labelledby":c,component:u="span",components:h={},componentsProps:m={},color:g="primary",classes:v,className:b,disableSwap:S=!1,disabled:E=!1,getAriaLabel:M,getAriaValueText:A,marks:z=!1,max:B=100,min:L=0,name:O,onChange:U,onChangeCommitted:k,orientation:F="horizontal",shiftStep:P=10,size:w="medium",step:G=1,scale:ee=JR,slotProps:q,slots:$,tabIndex:ae,track:J="normal",value:re,valueLabelDisplay:Q="off",valueLabelFormat:de=JR,...Y}=i,te={...i,isRtl:r,max:B,min:L,classes:v,disabled:E,disableSwap:S,orientation:F,marks:z,color:g,size:w,step:G,shiftStep:P,scale:ee,track:J,valueLabelDisplay:Q,valueLabelFormat:de},{axisProps:Ce,getRootProps:He,getHiddenInputProps:se,getThumbProps:we,open:Ae,active:Xe,axis:Ge,focusedThumbIndex:vt,range:Ze,dragging:at,marks:Et,values:ht,trackOffset:ne,trackLeap:Yt,getThumbStyle:ke}=MV({...te,rootRef:t});te.marked=Et.length>0&&Et.some(Ue=>Ue.label),te.dragging=at,te.focusedThumbIndex=vt;const De=UV(te),Te=($==null?void 0:$.root)??h.Root??RV,$e=($==null?void 0:$.rail)??h.Rail??BV,ze=($==null?void 0:$.track)??h.Track??DV,K=($==null?void 0:$.thumb)??h.Thumb??zV,j=($==null?void 0:$.valueLabel)??h.ValueLabel??LV,pe=($==null?void 0:$.mark)??h.Mark??OV,Ee=($==null?void 0:$.markLabel)??h.MarkLabel??NV,ce=($==null?void 0:$.input)??h.Input??"input",fe=(q==null?void 0:q.root)??m.root,Fe=(q==null?void 0:q.rail)??m.rail,Pe=(q==null?void 0:q.track)??m.track,Je=(q==null?void 0:q.thumb)??m.thumb,et=(q==null?void 0:q.valueLabel)??m.valueLabel,We=(q==null?void 0:q.mark)??m.mark,it=(q==null?void 0:q.markLabel)??m.markLabel,ct=(q==null?void 0:q.input)??m.input,ft=Yc({elementType:Te,getSlotProps:He,externalSlotProps:fe,externalForwardedProps:Y,additionalProps:{...EV(Te)&&{as:u}},ownerState:{...te,...fe==null?void 0:fe.ownerState},className:[De.root,b]}),gt=Yc({elementType:$e,externalSlotProps:Fe,ownerState:te,className:De.rail}),ue=Yc({elementType:ze,externalSlotProps:Pe,additionalProps:{style:{...Ce[Ge].offset(ne),...Ce[Ge].leap(Yt)}},ownerState:{...te,...Pe==null?void 0:Pe.ownerState},className:De.track}),Ie=Yc({elementType:K,getSlotProps:we,externalSlotProps:Je,ownerState:{...te,...Je==null?void 0:Je.ownerState},className:De.thumb}),yt=Yc({elementType:j,externalSlotProps:et,ownerState:{...te,...et==null?void 0:et.ownerState},className:De.valueLabel}),le=Yc({elementType:pe,externalSlotProps:We,ownerState:te,className:De.mark}),st=Yc({elementType:Ee,externalSlotProps:it,ownerState:te,className:De.markLabel}),Oe=Yc({elementType:ce,getSlotProps:se,externalSlotProps:ct,ownerState:te});return T.jsxs(Te,{...ft,children:[T.jsx($e,{...gt}),T.jsx(ze,{...ue}),Et.filter(Ue=>Ue.value>=L&&Ue.value<=B).map((Ue,rt)=>{const dt=dS(Ue.value,L,B),wt=Ce[Ge].offset(dt);let Xt;return J===!1?Xt=ht.includes(Ue.value):Xt=J==="normal"&&(Ze?Ue.value>=ht[0]&&Ue.value<=ht[ht.length-1]:Ue.value<=ht[0])||J==="inverted"&&(Ze?Ue.value<=ht[0]||Ue.value>=ht[ht.length-1]:Ue.value>=ht[0]),T.jsxs(I.Fragment,{children:[T.jsx(pe,{"data-index":rt,...le,...!gm(pe)&&{markActive:Xt},style:{...wt,...le.style},className:Tt(le.className,Xt&&De.markActive)}),Ue.label!=null?T.jsx(Ee,{"aria-hidden":!0,"data-index":rt,...st,...!gm(Ee)&&{markLabelActive:Xt},style:{...wt,...st.style},className:Tt(De.markLabel,st.className,Xt&&De.markLabelActive),children:Ue.label}):null]},rt)}),ht.map((Ue,rt)=>{const dt=dS(Ue,L,B),wt=Ce[Ge].offset(dt),Xt=Q==="off"?PV:j;return T.jsx(Xt,{...!gm(Xt)&&{valueLabelFormat:de,valueLabelDisplay:Q,value:typeof de=="function"?de(ee(Ue),rt):de,index:rt,open:Ae===rt||Xe===rt||Q==="on",disabled:E},...yt,children:T.jsx(K,{"data-index":rt,...Ie,className:Tt(De.thumb,Ie.className,Xe===rt&&De.active,vt===rt&&De.focusVisible),style:{...wt,...ke(rt),...Ie.style},children:T.jsx(ce,{"data-index":rt,"aria-label":M?M(rt):a,"aria-valuenow":ee(Ue),"aria-labelledby":c,"aria-valuetext":A?A(ee(Ue),rt):o,value:ht[rt],...Oe})})},rt)})]})}),wA=tH({createStyledComponent:Ct("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root}),useThemeProps:n=>_n({props:n,name:"MuiStack"})});function IV(n){return Cn("MuiToolbar",n)}Tn("MuiToolbar",["root","gutters","regular","dense"]);const kV=n=>{const{classes:e,disableGutters:t,variant:i}=n;return zn({root:["root",!t&&"gutters",i]},IV,e)},FV=Ct("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(pn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),HV=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiToolbar"}),{className:r,component:a="div",disableGutters:o=!1,variant:c="regular",...u}=i,h={...i,component:a,disableGutters:o,variant:c},m=kV(h);return T.jsx(FV,{as:a,className:Tt(m.root,r),ref:t,ownerState:h,...u})});function jV(n){return Cn("MuiToggleButton",n)}const Kd=Tn("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ZL=I.createContext({}),QL=I.createContext(void 0);function GV(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const VV=n=>{const{classes:e,fullWidth:t,selected:i,disabled:r,size:a,color:o}=n,c={root:["root",i&&"selected",r&&"disabled",t&&"fullWidth",`size${mt(a)}`,o]};return zn(c,jV,e)},XV=Ct(lu,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${mt(t.size)}`]]}})(pn(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${Kd.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:bn(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Kd.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:bn(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:bn(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:bn(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(va()).map(([e])=>({props:{color:e},style:{[`&.${Kd.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:bn(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:bn(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:bn(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),$L=I.forwardRef(function(e,t){const{value:i,...r}=I.useContext(ZL),a=I.useContext(QL),o=Sm({...r,selected:GV(e.value,i)},e),c=_n({props:o,name:"MuiToggleButton"}),{children:u,className:h,color:m="standard",disabled:g=!1,disableFocusRipple:v=!1,fullWidth:b=!1,onChange:S,onClick:E,selected:M,size:A="medium",value:z,...B}=c,L={...c,color:m,disabled:g,disableFocusRipple:v,fullWidth:b,size:A},O=VV(L),U=F=>{E&&(E(F,z),F.defaultPrevented)||S&&S(F,z)},k=a||"";return T.jsx(XV,{className:Tt(r.className,O.root,h,k),disabled:g,focusRipple:!v,ref:t,onClick:U,onChange:S,value:z,ownerState:L,"aria-pressed":M,...B,children:u})});function WV(n){return Cn("MuiToggleButtonGroup",n)}const xi=Tn("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),YV=n=>{const{classes:e,orientation:t,fullWidth:i,disabled:r}=n,a={root:["root",t,i&&"fullWidth"],grouped:["grouped",`grouped${mt(t)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return zn(a,WV,e)},KV=Ct("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${xi.grouped}`]:e.grouped},{[`& .${xi.grouped}`]:e[`grouped${mt(t.orientation)}`]},{[`& .${xi.firstButton}`]:e.firstButton},{[`& .${xi.lastButton}`]:e.lastButton},{[`& .${xi.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(pn(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${xi.grouped}`]:{[`&.${xi.selected} + .${xi.grouped}.${xi.selected}`]:{borderTop:0,marginTop:0}},[`& .${xi.firstButton},& .${xi.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${xi.lastButton},& .${xi.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${xi.lastButton}.${Kd.disabled},& .${xi.middleButton}.${Kd.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${xi.grouped}`]:{[`&.${xi.selected} + .${xi.grouped}.${xi.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${xi.firstButton},& .${xi.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${xi.lastButton},& .${xi.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${xi.lastButton}.${Kd.disabled},& .${xi.middleButton}.${Kd.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),e3=I.forwardRef(function(e,t){const i=_n({props:e,name:"MuiToggleButtonGroup"}),{children:r,className:a,color:o="standard",disabled:c=!1,exclusive:u=!1,fullWidth:h=!1,onChange:m,orientation:g="horizontal",size:v="medium",value:b,...S}=i,E={...i,disabled:c,fullWidth:h,orientation:g,size:v},M=YV(E),A=I.useCallback((k,F)=>{if(!m)return;const P=b&&b.indexOf(F);let w;b&&P>=0?(w=b.slice(),w.splice(P,1)):w=b?b.concat(F):[F],m(k,w)},[m,b]),z=I.useCallback((k,F)=>{m&&m(k,b===F?null:F)},[m,b]),B=I.useMemo(()=>({className:M.grouped,onChange:u?z:A,value:b,size:v,fullWidth:h,color:o,disabled:c}),[M.grouped,u,z,A,b,v,h,o,c]),L=M4(r),O=L.length,U=k=>{const F=k===0,P=k===O-1;return F&&P?"":F?M.firstButton:P?M.lastButton:M.middleButton};return T.jsx(KV,{role:"group",className:Tt(M.root,a),ref:t,ownerState:E,...S,children:T.jsx(ZL.Provider,{value:B,children:L.map((k,F)=>T.jsx(QL.Provider,{value:U(F),children:k},F))})})}),t3=Va(T.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),n3=I.createContext({});function qV(n){const e=I.useRef(null);return e.current===null&&(e.current=n()),e.current}const mC=I.createContext(null),i3=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function JV(n=!0){const e=I.useContext(mC);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=I.useId();I.useEffect(()=>{if(n)return r(a)},[n]);const o=I.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,o]:[!0]}const gC=typeof window<"u",ZV=gC?I.useLayoutEffect:I.useEffect,Us=n=>n;let r3=Us;function yC(n){let e;return()=>(e===void 0&&(e=n()),e)}const Cm=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},iu=n=>n*1e3,ru=n=>n/1e3,QV={useManualTiming:!1},Kx=["read","resolveKeyframes","update","preRender","render","postRender"],ZR={value:null};function $V(n,e){let t=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function h(g){o.has(g)&&(m.schedule(g),n()),u++,g(c)}const m={schedule:(g,v=!1,b=!1)=>{const E=b&&r?t:i;return v&&o.add(g),E.has(g)||E.add(g),g},cancel:g=>{i.delete(g),o.delete(g)},process:g=>{if(c=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(h),e&&ZR.value&&ZR.value.frameloop[e].push(u),u=0,t.clear(),r=!1,a&&(a=!1,m.process(g))}};return m}const e6=40;function a3(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=Kx.reduce((A,z)=>(A[z]=$V(a,e?z:void 0),A),{}),{read:c,resolveKeyframes:u,update:h,preRender:m,render:g,postRender:v}=o,b=()=>{const A=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(A-r.timestamp,e6),1),r.timestamp=A,r.isProcessing=!0,c.process(r),u.process(r),h.process(r),m.process(r),g.process(r),v.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(b))},S=()=>{t=!0,i=!0,r.isProcessing||n(b)};return{schedule:Kx.reduce((A,z)=>{const B=o[z];return A[z]=(L,O=!1,U=!1)=>(t||S(),B.schedule(L,O,U)),A},{}),cancel:A=>{for(let z=0;z<Kx.length;z++)o[Kx[z]].cancel(A)},state:r,steps:o}}const{schedule:yi,cancel:Sf,state:Zr,steps:dM}=a3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),s3=I.createContext({strict:!1}),QR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tm={};for(const n in QR)Tm[n]={isEnabled:e=>QR[n].some(t=>!!e[t])};function t6(n){for(const e in n)Tm[e]={...Tm[e],...n[e]}}const n6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hS(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||n6.has(n)}let o3=n=>!hS(n);function i6(n){n&&(o3=e=>e.startsWith("on")?!hS(e):n(e))}try{i6(require("@emotion/is-prop-valid").default)}catch{}function r6(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(o3(r)||t===!0&&hS(r)||!e&&!hS(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function a6(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const RA=I.createContext({});function BA(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function p0(n){return typeof n=="string"||Array.isArray(n)}const vC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xC=["initial",...vC];function DA(n){return BA(n.animate)||xC.some(e=>p0(n[e]))}function l3(n){return!!(DA(n)||n.variants)}function s6(n,e){if(DA(n)){const{initial:t,animate:i}=n;return{initial:t===!1||p0(t)?t:void 0,animate:p0(i)?i:void 0}}return n.inherit!==!1?e:{}}function o6(n){const{initial:e,animate:t}=s6(n,I.useContext(RA));return I.useMemo(()=>({initial:e,animate:t}),[$R(e),$R(t)])}function $R(n){return Array.isArray(n)?n.join(" "):n}const l6=Symbol.for("motionComponentSymbol");function am(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function c6(n,e,t){return I.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):am(t)&&(t.current=i))},[e])}const bC=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u6="framerAppearId",c3="data-"+bC(u6),{schedule:SC}=a3(queueMicrotask,!1),u3=I.createContext({});function f6(n,e,t,i,r){var a,o;const{visualElement:c}=I.useContext(RA),u=I.useContext(s3),h=I.useContext(mC),m=I.useContext(i3).reducedMotion,g=I.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:c,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=I.useContext(u3);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&d6(g.current,t,r,b);const S=I.useRef(!1);I.useInsertionEffect(()=>{v&&S.current&&v.update(t,h)});const E=t[c3],M=I.useRef(!!E&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return ZV(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),SC.render(v.render),M.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,E)}),M.current=!1))}),v}function d6(n,e,t,i){const{layoutId:r,layout:a,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:f3(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||c&&am(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:h})}function f3(n){if(n)return n.options.allowProjection!==!1?n.projection:f3(n.parent)}function h6({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var a,o;n&&t6(n);function c(h,m){let g;const v={...I.useContext(i3),...h,layoutId:p6(h)},{isStatic:b}=v,S=o6(h),E=i(h,b);if(!b&&gC){m6();const M=g6(v);g=M.MeasureLayout,S.visualElement=f6(r,E,v,e,M.ProjectionNode)}return T.jsxs(RA.Provider,{value:S,children:[g&&S.visualElement?T.jsx(g,{visualElement:S.visualElement,...v}):null,t(r,h,c6(E,S.visualElement,m),E,b,S.visualElement)]})}c.displayName=`motion.${typeof r=="string"?r:`create(${(o=(a=r.displayName)!==null&&a!==void 0?a:r.name)!==null&&o!==void 0?o:""})`}`;const u=I.forwardRef(c);return u[l6]=r,u}function p6({layoutId:n}){const e=I.useContext(n3).id;return e&&n!==void 0?e+"-"+n:n}function m6(n,e){I.useContext(s3).strict}function g6(n){const{drag:e,layout:t}=Tm;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const d3=n=>e=>typeof e=="string"&&e.startsWith(n),AC=d3("--"),y6=d3("var(--"),_C=n=>y6(n)?v6.test(n.split("/*")[0].trim()):!1,v6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,m0={};function x6(n){for(const e in n)m0[e]=n[e],AC(e)&&(m0[e].isCSSVariable=!0)}const Wm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sh=new Set(Wm);function h3(n,{layout:e,layoutId:t}){return Sh.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!m0[n]||n==="opacity")}const xa=n=>!!(n&&n.getVelocity),p3=(n,e)=>e&&typeof n=="number"?e.transform(n):n,cu=(n,e,t)=>t>e?e:t<n?n:t,Ym={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},g0={...Ym,transform:n=>cu(0,1,n)},qx={...Ym,default:1},j0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),uf=j0("deg"),tc=j0("%"),Vt=j0("px"),b6=j0("vh"),S6=j0("vw"),e2={...tc,parse:n=>tc.parse(n)/100,transform:n=>tc.transform(n*100)},A6={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt},_6={rotate:uf,rotateX:uf,rotateY:uf,rotateZ:uf,scale:qx,scaleX:qx,scaleY:qx,scaleZ:qx,skew:uf,skewX:uf,skewY:uf,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:g0,originX:e2,originY:e2,originZ:Vt},t2={...Ym,transform:Math.round},MC={...A6,..._6,zIndex:t2,size:Vt,fillOpacity:g0,strokeOpacity:g0,numOctaves:t2},M6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E6=Wm.length;function C6(n,e,t){let i="",r=!0;for(let a=0;a<E6;a++){const o=Wm[a],c=n[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||t){const h=p3(c,MC[o]);if(!u){r=!1;const m=M6[o]||o;i+=`${m}(${h}) `}t&&(e[o]=h)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function EC(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let o=!1,c=!1;for(const u in e){const h=e[u];if(Sh.has(u)){o=!0;continue}else if(AC(u)){r[u]=h;continue}else{const m=p3(h,MC[u]);u.startsWith("origin")?(c=!0,a[u]=m):i[u]=m}}if(e.transform||(o||t?i.transform=C6(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${u} ${h} ${m}`}}const CC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m3(n,e,t){for(const i in e)!xa(e[i])&&!h3(i,t)&&(n[i]=e[i])}function T6({transformTemplate:n},e){return I.useMemo(()=>{const t=CC();return EC(t,e,n),Object.assign({},t.vars,t.style)},[e])}function w6(n,e){const t=n.style||{},i={};return m3(i,t,n),Object.assign(i,T6(n,e)),i}function R6(n,e){const t={},i=w6(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const B6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TC(n){return typeof n!="string"||n.includes("-")?!1:!!(B6.indexOf(n)>-1||/[A-Z]/u.test(n))}const D6={offset:"stroke-dashoffset",array:"stroke-dasharray"},z6={offset:"strokeDashoffset",array:"strokeDasharray"};function L6(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?D6:z6;n[a.offset]=Vt.transform(-i);const o=Vt.transform(e),c=Vt.transform(t);n[a.array]=`${o} ${c}`}function n2(n,e,t){return typeof n=="string"?n:Vt.transform(e+t*n)}function O6(n,e,t){const i=n2(e,n.x,n.width),r=n2(t,n.y,n.height);return`${i} ${r}`}function wC(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},m,g){if(EC(n,h,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b,dimensions:S}=n;v.transform&&(S&&(b.transform=v.transform),delete v.transform),S&&(r!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=O6(S,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),o!==void 0&&L6(v,o,c,u,!1)}const g3=()=>({...CC(),attrs:{}}),RC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function N6(n,e,t,i){const r=I.useMemo(()=>{const a=g3();return wC(a,e,RC(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};m3(a,n.style,n),r.style={...a,...r.style}}return r}function U6(n=!1){return(t,i,r,{latestValues:a},o)=>{const u=(TC(t)?N6:R6)(i,a,o,t),h=r6(i,typeof t=="string",n),m=t!==I.Fragment?{...h,...u,ref:r}:{},{children:g}=i,v=I.useMemo(()=>xa(g)?g.get():g,[g]);return I.createElement(t,{...m,children:v})}}function i2(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function BC(n,e,t,i){if(typeof e=="function"){const[r,a]=i2(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=i2(i);e=e(t!==void 0?t:n.custom,r,a)}return e}const tE=n=>Array.isArray(n),P6=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),I6=n=>tE(n)?n[n.length-1]||0:n;function Qb(n){const e=xa(n)?n.get():n;return P6(e)?e.toValue():e}function k6({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,a){const o={latestValues:F6(i,r,a,n),renderState:e()};return t&&(o.onMount=c=>t({props:i,current:c,...o}),o.onUpdate=c=>t(c)),o}const y3=n=>(e,t)=>{const i=I.useContext(RA),r=I.useContext(mC),a=()=>k6(n,e,i,r);return t?a():qV(a)};function F6(n,e,t,i){const r={},a=i(n,{});for(const v in a)r[v]=Qb(a[v]);let{initial:o,animate:c}=n;const u=DA(n),h=l3(n);e&&h&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const g=m?c:o;if(g&&typeof g!="boolean"&&!BA(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const S=BC(n,v[b]);if(S){const{transitionEnd:E,transition:M,...A}=S;for(const z in A){let B=A[z];if(Array.isArray(B)){const L=m?B.length-1:0;B=B[L]}B!==null&&(r[z]=B)}for(const z in E)r[z]=E[z]}}}return r}function DC(n,e,t){var i;const{style:r}=n,a={};for(const o in r)(xa(r[o])||e.style&&xa(e.style[o])||h3(o,n)||((i=t==null?void 0:t.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const H6={useVisualState:y3({scrapeMotionValuesFromProps:DC,createRenderState:CC})};function v3(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function x3(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const a in t)n.style.setProperty(a,t[a])}const b3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S3(n,e,t,i){x3(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(b3.has(r)?r:bC(r),e.attrs[r])}function A3(n,e,t){const i=DC(n,e,t);for(const r in n)if(xa(n[r])||xa(e[r])){const a=Wm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const r2=["x","y","width","height","cx","cy","r"],j6={useVisualState:y3({scrapeMotionValuesFromProps:A3,createRenderState:g3,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let a=!!n.drag;if(!a){for(const c in r)if(Sh.has(c)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let c=0;c<r2.length;c++){const u=r2[c];n[u]!==e[u]&&(o=!0)}o&&yi.read(()=>{v3(t,i),yi.render(()=>{wC(i,r,RC(t.tagName),n.transformTemplate),S3(t,i)})})}})};function G6(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...TC(i)?j6:H6,preloadedFeatures:n,useRender:U6(r),createVisualElement:e,Component:i};return h6(o)}}function y0(n,e,t){const i=n.getProps();return BC(i,e,t!==void 0?t:i.custom,n)}const V6=yC(()=>window.ScrollTimeline!==void 0);class X6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(V6()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class W6 extends X6{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function zC(n,e){return n?n[e]||n.default||n:void 0}const nE=2e4;function _3(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<nE;)e+=t,i=n.next(e);return e>=nE?1/0:e}function LC(n){return typeof n=="function"}function a2(n,e){n.timeline=e,n.onfinish=null}const OC=n=>Array.isArray(n)&&typeof n[0]=="number",Y6={linearEasing:void 0};function K6(n,e){const t=yC(n);return()=>{var i;return(i=Y6[e])!==null&&i!==void 0?i:t()}}const pS=K6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),M3=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=n(Cm(0,r-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function E3(n){return!!(typeof n=="function"&&pS()||!n||typeof n=="string"&&(n in iE||pS())||OC(n)||Array.isArray(n)&&n.every(E3))}const Uy=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,iE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uy([0,.65,.55,1]),circOut:Uy([.55,0,1,.45]),backIn:Uy([.31,.01,.66,-.59]),backOut:Uy([.33,1.53,.69,.99])};function C3(n,e){if(n)return typeof n=="function"&&pS()?M3(n,e):OC(n)?Uy(n):Array.isArray(n)?n.map(t=>C3(t,e)||iE.easeOut):iE[n]}const $o={x:!1,y:!1};function T3(){return $o.x||$o.y}function q6(n,e,t){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const a=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function w3(n,e){const t=q6(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function s2(n){return!(n.pointerType==="touch"||T3())}function J6(n,e,t={}){const[i,r,a]=w3(n,t),o=c=>{if(!s2(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const m=g=>{s2(g)&&(h(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,r)};return i.forEach(c=>{c.addEventListener("pointerenter",o,r)}),a}function Vy(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const R3=(n,e)=>e?n===e?!0:R3(n,e.parentElement):!1,NC=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Z6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Q6(n){return Z6.has(n.tagName)||n.tabIndex!==-1}const Py=new WeakSet;function o2(n){return e=>{e.key==="Enter"&&n(e)}}function hM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $6=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=o2(()=>{if(Py.has(t))return;hM(t,"down");const r=o2(()=>{hM(t,"up")}),a=()=>hM(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function l2(n){return NC(n)&&!T3()}function e8(n,e,t={}){const[i,r,a]=w3(n,t),o=c=>{const u=c.currentTarget;if(!u||!l2(c)||Py.has(u))return;Py.add(u),Vy(c,"set");const h=e(u,c),m=(b,S)=>{u.removeEventListener("pointerup",g),u.removeEventListener("pointercancel",v),Vy(b,"release"),!(!l2(b)||!Py.has(u))&&(Py.delete(u),typeof h=="function"&&h(b,{success:S}))},g=b=>{(b.isTrusted?t8(b,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(b,!1):m(b,!(u instanceof Element)||R3(u,b.target))},v=b=>{m(b,!1)};u.addEventListener("pointerup",g,r),u.addEventListener("pointercancel",v,r),u.addEventListener("lostpointercapture",v,r)};return i.forEach(c=>{c=t.useGlobalTarget?window:c;let u=!1;c instanceof HTMLElement&&(u=!0,!Q6(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",o,r),u&&c.addEventListener("focus",h=>$6(h,r),r)}),a}function t8(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}function n8(n){return n==="x"||n==="y"?$o[n]?null:($o[n]=!0,()=>{$o[n]=!1}):$o.x||$o.y?null:($o.x=$o.y=!0,()=>{$o.x=$o.y=!1})}const B3=new Set(["width","height","top","left","right","bottom",...Wm]);let $b;function i8(){$b=void 0}const nc={now:()=>($b===void 0&&nc.set(Zr.isProcessing||QV.useManualTiming?Zr.timestamp:performance.now()),$b),set:n=>{$b=n,queueMicrotask(i8)}};function UC(n,e){n.indexOf(e)===-1&&n.push(e)}function PC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class IC{constructor(){this.subscriptions=[]}add(e){return UC(this.subscriptions,e),()=>PC(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function D3(n,e){return e?n*(1e3/e):0}const c2=30,r8=n=>!isNaN(parseFloat(n));class a8{constructor(e,t={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const a=nc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=nc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=r8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new IC);const i=this.events[e].add(t);return e==="change"?()=>{i(),yi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=nc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,c2);return D3(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function v0(n,e){return new a8(n,e)}function s8(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,v0(t))}function o8(n,e){const t=y0(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const o in a){const c=I6(a[o]);s8(n,o,c)}}function l8(n){return!!(xa(n)&&n.add)}function rE(n,e){const t=n.getValue("willChange");if(l8(t))return t.add(e)}function z3(n){return n.props[c3]}const L3=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,c8=1e-7,u8=12;function f8(n,e,t,i,r){let a,o,c=0;do o=e+(t-e)/2,a=L3(o,i,r)-n,a>0?t=o:e=o;while(Math.abs(a)>c8&&++c<u8);return o}function G0(n,e,t,i){if(n===e&&t===i)return Us;const r=a=>f8(a,0,1,n,t);return a=>a===0||a===1?a:L3(r(a),e,i)}const O3=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,N3=n=>e=>1-n(1-e),U3=G0(.33,1.53,.69,.99),kC=N3(U3),P3=O3(kC),I3=n=>(n*=2)<1?.5*kC(n):.5*(2-Math.pow(2,-10*(n-1))),FC=n=>1-Math.sin(Math.acos(n)),k3=N3(FC),F3=O3(FC),H3=n=>/^0[^.\s]+$/u.test(n);function d8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||H3(n):!0}const Xy=n=>Math.round(n*1e5)/1e5,HC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function h8(n){return n==null}const p8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jC=(n,e)=>t=>!!(typeof t=="string"&&p8.test(t)&&t.startsWith(n)||e&&!h8(t)&&Object.prototype.hasOwnProperty.call(t,e)),j3=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,o,c]=i.match(HC);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},m8=n=>cu(0,255,n),pM={...Ym,transform:n=>Math.round(m8(n))},qd={test:jC("rgb","red"),parse:j3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+pM.transform(n)+", "+pM.transform(e)+", "+pM.transform(t)+", "+Xy(g0.transform(i))+")"};function g8(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const aE={test:jC("#"),parse:g8,transform:qd.transform},sm={test:jC("hsl","hue"),parse:j3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+tc.transform(Xy(e))+", "+tc.transform(Xy(t))+", "+Xy(g0.transform(i))+")"},ga={test:n=>qd.test(n)||aE.test(n)||sm.test(n),parse:n=>qd.test(n)?qd.parse(n):sm.test(n)?sm.parse(n):aE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qd.transform(n):sm.transform(n)},y8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function v8(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(HC))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(y8))===null||t===void 0?void 0:t.length)||0)>0}const G3="number",V3="color",x8="var",b8="var(",u2="${}",S8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function x0(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const c=e.replace(S8,u=>(ga.test(u)?(i.color.push(a),r.push(V3),t.push(ga.parse(u))):u.startsWith(b8)?(i.var.push(a),r.push(x8),t.push(u)):(i.number.push(a),r.push(G3),t.push(parseFloat(u))),++a,u2)).split(u2);return{values:t,split:c,indexes:i,types:r}}function X3(n){return x0(n).values}function W3(n){const{split:e,types:t}=x0(n),i=e.length;return r=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],r[o]!==void 0){const c=t[o];c===G3?a+=Xy(r[o]):c===V3?a+=ga.transform(r[o]):a+=r[o]}return a}}const A8=n=>typeof n=="number"?0:n;function _8(n){const e=X3(n);return W3(n)(e.map(A8))}const Af={test:v8,parse:X3,createTransformer:W3,getAnimatableNone:_8},M8=new Set(["brightness","contrast","saturate","opacity"]);function E8(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(HC)||[];if(!i)return n;const r=t.replace(i,"");let a=M8.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const C8=/\b([a-z-]*)\(.*?\)/gu,sE={...Af,getAnimatableNone:n=>{const e=n.match(C8);return e?e.map(E8).join(" "):n}},T8={...MC,color:ga,backgroundColor:ga,outlineColor:ga,fill:ga,stroke:ga,borderColor:ga,borderTopColor:ga,borderRightColor:ga,borderBottomColor:ga,borderLeftColor:ga,filter:sE,WebkitFilter:sE},GC=n=>T8[n];function Y3(n,e){let t=GC(n);return t!==sE&&(t=Af),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const w8=new Set(["auto","none","0"]);function R8(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!w8.has(a)&&x0(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=Y3(t,r)}const f2=n=>n===Ym||n===Vt,d2=(n,e)=>parseFloat(n.split(", ")[e]),h2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return d2(r[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?d2(a[1],n):0}},B8=new Set(["x","y","z"]),D8=Wm.filter(n=>!B8.has(n));function z8(n){const e=[];return D8.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const wm={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:h2(4,13),y:h2(5,14)};wm.translateX=wm.x;wm.translateY=wm.y;const sh=new Set;let oE=!1,lE=!1;function K3(){if(lE){const n=Array.from(sh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=z8(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,o])=>{var c;(c=i.getValue(a))===null||c===void 0||c.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}lE=!1,oE=!1,sh.forEach(n=>n.complete()),sh.clear()}function q3(){sh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(lE=!0)})}function L8(){q3(),K3()}class VC{constructor(e,t,i,r,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sh.add(this),oE||(oE=!0,yi.read(q3),yi.resolveKeyframes(K3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=r==null?void 0:r.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const u=i.readValue(t,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),r&&o===void 0&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const J3=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),O8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N8(n){const e=O8.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Z3(n,e,t=1){const[i,r]=N8(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return J3(o)?parseFloat(o):o}return _C(r)?Z3(r,e,t+1):r}const Q3=n=>e=>e.test(n),U8={test:n=>n==="auto",parse:n=>n},$3=[Ym,Vt,tc,uf,S6,b6,U8],p2=n=>$3.find(Q3(n));class eO extends VC{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),_C(h))){const m=Z3(h,t.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!B3.has(i)||e.length!==2)return;const[r,a]=e,o=p2(r),c=p2(a);if(o!==c)if(f2(o)&&f2(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)d8(e[r])&&i.push(r);i.length&&R8(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wm[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(i);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=wm[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{t.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const m2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Af.test(n)||n==="0")&&!n.startsWith("url("));function P8(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function I8(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],o=m2(r,e),c=m2(a,e);return!o||!c?!1:P8(n)||(t==="spring"||LC(t))&&i}const k8=n=>n!==null;function zA(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(k8),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const F8=40;class tO{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=nc.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:o,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>F8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&L8(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=nc.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:a,delay:o,onComplete:c,onUpdate:u,isGenerator:h}=this.options;if(!h&&!I8(e,i,r,a))if(o)this.options.duration=0;else{u&&u(zA(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ki=(n,e,t)=>n+(e-n)*t;function mM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function H8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,o=0;if(!e)r=a=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;r=mM(u,c,n+1/3),a=mM(u,c,n),o=mM(u,c,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function mS(n,e){return t=>t>0?e:n}const gM=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},j8=[aE,qd,sm],G8=n=>j8.find(e=>e.test(n));function g2(n){const e=G8(n);if(!e)return!1;let t=e.parse(n);return e===sm&&(t=H8(t)),t}const y2=(n,e)=>{const t=g2(n),i=g2(e);if(!t||!i)return mS(n,e);const r={...t};return a=>(r.red=gM(t.red,i.red,a),r.green=gM(t.green,i.green,a),r.blue=gM(t.blue,i.blue,a),r.alpha=ki(t.alpha,i.alpha,a),qd.transform(r))},V8=(n,e)=>t=>e(n(t)),V0=(...n)=>n.reduce(V8),cE=new Set(["none","hidden"]);function X8(n,e){return cE.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function W8(n,e){return t=>ki(n,e,t)}function XC(n){return typeof n=="number"?W8:typeof n=="string"?_C(n)?mS:ga.test(n)?y2:q8:Array.isArray(n)?nO:typeof n=="object"?ga.test(n)?y2:Y8:mS}function nO(n,e){const t=[...n],i=t.length,r=n.map((a,o)=>XC(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)t[o]=r[o](a);return t}}function Y8(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=XC(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function K8(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=n.indexes[o][r[o]],u=(t=n.values[c])!==null&&t!==void 0?t:0;i[a]=u,r[o]++}return i}const q8=(n,e)=>{const t=Af.createTransformer(e),i=x0(n),r=x0(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?cE.has(n)&&!r.values.length||cE.has(e)&&!i.values.length?X8(n,e):V0(nO(K8(i,r),r.values),t):mS(n,e)};function iO(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ki(n,e,t):XC(n)(n,e)}const J8=5;function rO(n,e,t){const i=Math.max(e-J8,0);return D3(t-n(i),e-i)}const er={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},v2=.001;function Z8({duration:n=er.duration,bounce:e=er.bounce,velocity:t=er.velocity,mass:i=er.mass}){let r,a,o=1-e;o=cu(er.minDamping,er.maxDamping,o),n=cu(er.minDuration,er.maxDuration,ru(n)),o<1?(r=h=>{const m=h*o,g=m*n,v=m-t,b=uE(h,o),S=Math.exp(-g);return v2-v/b*S},a=h=>{const g=h*o*n,v=g*t+t,b=Math.pow(o,2)*Math.pow(h,2)*n,S=Math.exp(-g),E=uE(Math.pow(h,2),o);return(-r(h)+v2>0?-1:1)*((v-b)*S)/E}):(r=h=>{const m=Math.exp(-h*n),g=(h-t)*n+1;return-.001+m*g},a=h=>{const m=Math.exp(-h*n),g=(t-h)*(n*n);return m*g});const c=5/n,u=$8(r,a,c);if(n=iu(n),isNaN(u))return{stiffness:er.stiffness,damping:er.damping,duration:n};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:o*2*Math.sqrt(i*h),duration:n}}}const Q8=12;function $8(n,e,t){let i=t;for(let r=1;r<Q8;r++)i=i-n(i)/e(i);return i}function uE(n,e){return n*Math.sqrt(1-e*e)}const e9=["duration","bounce"],t9=["stiffness","damping","mass"];function x2(n,e){return e.some(t=>n[t]!==void 0)}function n9(n){let e={velocity:er.velocity,stiffness:er.stiffness,damping:er.damping,mass:er.mass,isResolvedFromDuration:!1,...n};if(!x2(n,t9)&&x2(n,e9))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*cu(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:er.mass,stiffness:r,damping:a}}else{const t=Z8(n);e={...e,...t,mass:er.mass},e.isResolvedFromDuration=!0}return e}function aO(n=er.visualDuration,e=er.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:b}=n9({...t,velocity:-ru(t.velocity||0)}),S=v||0,E=h/(2*Math.sqrt(u*m)),M=o-a,A=ru(Math.sqrt(u/m)),z=Math.abs(M)<5;i||(i=z?er.restSpeed.granular:er.restSpeed.default),r||(r=z?er.restDelta.granular:er.restDelta.default);let B;if(E<1){const O=uE(A,E);B=U=>{const k=Math.exp(-E*A*U);return o-k*((S+E*A*M)/O*Math.sin(O*U)+M*Math.cos(O*U))}}else if(E===1)B=O=>o-Math.exp(-A*O)*(M+(S+A*M)*O);else{const O=A*Math.sqrt(E*E-1);B=U=>{const k=Math.exp(-E*A*U),F=Math.min(O*U,300);return o-k*((S+E*A*M)*Math.sinh(F)+O*M*Math.cosh(F))/O}}const L={calculatedDuration:b&&g||null,next:O=>{const U=B(O);if(b)c.done=O>=g;else{let k=0;E<1&&(k=O===0?iu(S):rO(B,O,U));const F=Math.abs(k)<=i,P=Math.abs(o-U)<=r;c.done=F&&P}return c.value=c.done?o:U,c},toString:()=>{const O=Math.min(_3(L),nE),U=M3(k=>L.next(O*k).value,O,30);return O+"ms "+U}};return L}function b2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:m}){const g=n[0],v={done:!1,value:g},b=F=>c!==void 0&&F<c||u!==void 0&&F>u,S=F=>c===void 0?u:u===void 0||Math.abs(c-F)<Math.abs(u-F)?c:u;let E=t*e;const M=g+E,A=o===void 0?M:o(M);A!==M&&(E=A-g);const z=F=>-E*Math.exp(-F/i),B=F=>A+z(F),L=F=>{const P=z(F),w=B(F);v.done=Math.abs(P)<=h,v.value=v.done?A:w};let O,U;const k=F=>{b(v.value)&&(O=F,U=aO({keyframes:[v.value,S(v.value)],velocity:rO(B,F,v.value),damping:r,stiffness:a,restDelta:h,restSpeed:m}))};return k(0),{calculatedDuration:null,next:F=>{let P=!1;return!U&&O===void 0&&(P=!0,L(F),k(F)),O!==void 0&&F>=O?U.next(F-O):(!P&&L(F),v)}}}const i9=G0(.42,0,1,1),r9=G0(0,0,.58,1),sO=G0(.42,0,.58,1),a9=n=>Array.isArray(n)&&typeof n[0]!="number",s9={linear:Us,easeIn:i9,easeInOut:sO,easeOut:r9,circIn:FC,circInOut:F3,circOut:k3,backIn:kC,backInOut:P3,backOut:U3,anticipate:I3},S2=n=>{if(OC(n)){r3(n.length===4);const[e,t,i,r]=n;return G0(e,t,i,r)}else if(typeof n=="string")return s9[n];return n};function o9(n,e,t){const i=[],r=t||iO,a=n.length-1;for(let o=0;o<a;o++){let c=r(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||Us:e;c=V0(u,c)}i.push(c)}return i}function l9(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(r3(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=o9(e,i,r),u=c.length,h=m=>{if(o&&m<n[0])return e[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const v=Cm(n[g],n[g+1],m);return c[g](v)};return t?m=>h(cu(n[0],n[a-1],m)):h}function c9(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Cm(0,e,i);n.push(ki(t,1,r))}}function u9(n){const e=[0];return c9(e,n.length-1),e}function f9(n,e){return n.map(t=>t*e)}function d9(n,e){return n.map(()=>e||sO).splice(0,n.length-1)}function gS({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=a9(i)?i.map(S2):S2(i),a={done:!1,value:e[0]},o=f9(t&&t.length===e.length?t:u9(e),n),c=l9(o,e,{ease:Array.isArray(r)?r:d9(e,r)});return{calculatedDuration:n,next:u=>(a.value=c(u),a.done=u>=n,a)}}const h9=n=>{const e=({timestamp:t})=>n(t);return{start:()=>yi.update(e,!0),stop:()=>Sf(e),now:()=>Zr.isProcessing?Zr.timestamp:nc.now()}},p9={decay:b2,inertia:b2,tween:gS,keyframes:gS,spring:aO},m9=n=>n/100;class WC extends tO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:t,motionValue:i,element:r,keyframes:a}=this.options,o=(r==null?void 0:r.KeyframeResolver)||VC,c=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new o(a,c,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=this.options,c=LC(t)?t:p9[t]||gS;let u,h;c!==gS&&typeof e[0]!="number"&&(u=V0(m9,iO(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=_3(m));const{calculatedDuration:g}=m,v=g+r,b=v*(i+1)-r;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:o,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:h,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return a.next(0);const{delay:v,repeat:b,repeatType:S,repeatDelay:E,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-v*(this.speed>=0?1:-1),z=this.speed>=0?A<0:A>m;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,L=a;if(b){const F=Math.min(this.currentTime,m)/g;let P=Math.floor(F),w=F%1;!w&&F>=1&&(w=1),w===1&&P--,P=Math.min(P,b+1),!!(P%2)&&(S==="reverse"?(w=1-w,E&&(w-=E/g)):S==="mirror"&&(L=o)),B=cu(0,1,w)*g}const O=z?{done:!1,value:u[0]}:L.next(B);c&&(O.value=c(O.value));let{done:U}=O;!z&&h!==null&&(U=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return k&&r!==void 0&&(O.value=zA(u,this.options,r)),M&&M(O.value),k&&this.finish(),O}get duration(){const{resolved:e}=this;return e?ru(e.calculatedDuration):0}get time(){return ru(this.currentTime)}set time(e){e=iu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ru(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=h9,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const g9=new Set(["opacity","clipPath","filter","transform"]);function y9(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:c="easeInOut",times:u}={}){const h={[e]:t};u&&(h.offset=u);const m=C3(c,r);return Array.isArray(m)&&(h.easing=m),n.animate(h,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const v9=yC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yS=10,x9=2e4;function b9(n){return LC(n.type)||n.type==="spring"||!E3(n.ease)}function S9(n,e){const t=new WC({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let a=0;for(;!i.done&&a<x9;)i=t.sample(a),r.push(i.value),a+=yS;return{times:void 0,keyframes:r,duration:a-yS,ease:"linear"}}const oO={anticipate:I3,backInOut:P3,circInOut:F3};function A9(n){return n in oO}class A2 extends tO{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:a}=this.options;this.resolver=new eO(a,(o,c)=>this.onKeyframesResolved(o,c),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:a,type:o,motionValue:c,name:u,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&pS()&&A9(a)&&(a=oO[a]),b9(this.options)){const{onComplete:g,onUpdate:v,motionValue:b,element:S,...E}=this.options,M=S9(e,E);e=M.keyframes,e.length===1&&(e[1]=e[0]),i=M.duration,r=M.times,a=M.ease,o="keyframes"}const m=y9(c.owner.current,u,e,{...this.options,duration:i,times:r,ease:a});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(a2(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(zA(e,this.options,t)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ru(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ru(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=iu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Us;const{animation:i}=t;a2(i,e)}return Us}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:a,ease:o,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:g,element:v,...b}=this.options,S=new WC({...b,keyframes:i,duration:r,type:a,ease:o,times:c,isGenerator:!0}),E=iu(this.time);h.setWithVelocity(S.sample(E-yS).value,S.sample(E).value,yS)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:a,damping:o,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return v9()&&i&&g9.has(i)&&!u&&!h&&!r&&a!=="mirror"&&o!==0&&c!=="inertia"}}const _9={type:"spring",stiffness:500,damping:25,restSpeed:10},M9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),E9={type:"keyframes",duration:.8},C9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T9=(n,{keyframes:e})=>e.length>2?E9:Sh.has(n)?n.startsWith("scale")?M9(e[1]):_9:C9;function w9({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:c,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const YC=(n,e,t,i={},r,a)=>o=>{const c=zC(i,n)||{},u=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-iu(u);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:r};w9(c)||(m={...m,...T9(n,m)}),m.duration&&(m.duration=iu(m.duration)),m.repeatDelay&&(m.repeatDelay=iu(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const v=zA(m.keyframes,c);if(v!==void 0)return yi.update(()=>{m.onUpdate(v),m.onComplete()}),new W6([])}return!a&&A2.supports(m)?new A2(m):new WC(m)};function R9({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function lO(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var a;let{transition:o=n.getDefaultTransition(),transitionEnd:c,...u}=e;i&&(o=i);const h=[],m=r&&n.animationState&&n.animationState.getState()[r];for(const g in u){const v=n.getValue(g,(a=n.latestValues[g])!==null&&a!==void 0?a:null),b=u[g];if(b===void 0||m&&R9(m,g))continue;const S={delay:t,...zC(o||{},g)};let E=!1;if(window.MotionHandoffAnimation){const A=z3(n);if(A){const z=window.MotionHandoffAnimation(A,g,yi);z!==null&&(S.startTime=z,E=!0)}}rE(n,g),v.start(YC(g,v,b,n.shouldReduceMotion&&B3.has(g)?{type:!1}:S,n,E));const M=v.animation;M&&h.push(M)}return c&&Promise.all(h).then(()=>{yi.update(()=>{c&&o8(n,c)})}),h}function fE(n,e,t={}){var i;const r=y0(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(a=t.transitionOverride);const o=r?()=>Promise.all(lO(n,r,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return B9(n,e,m+h,g,v,t)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,m]=u==="beforeChildren"?[o,c]:[c,o];return h().then(()=>m())}else return Promise.all([o(),c(t.delay)])}function B9(n,e,t=0,i=0,r=1,a){const o=[],c=(n.variantChildren.size-1)*i,u=r===1?(h=0)=>h*i:(h=0)=>c-h*i;return Array.from(n.variantChildren).sort(D9).forEach((h,m)=>{h.notify("AnimationStart",e),o.push(fE(h,e,{...a,delay:t+u(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function D9(n,e){return n.sortNodePosition(e)}function z9(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>fE(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=fE(n,e,t);else{const r=typeof e=="function"?y0(n,e,t.custom):e;i=Promise.all(lO(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function cO(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const L9=xC.length;function uO(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?uO(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<L9;t++){const i=xC[t],r=n.props[i];(p0(r)||r===!1)&&(e[i]=r)}return e}const O9=[...vC].reverse(),N9=vC.length;function U9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>z9(n,t,i)))}function P9(n){let e=U9(n),t=_2(),i=!0;const r=u=>(h,m)=>{var g;const v=y0(n,m,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:b,transitionEnd:S,...E}=v;h={...h,...E,...S}}return h};function a(u){e=u(n)}function o(u){const{props:h}=n,m=uO(n.parent)||{},g=[],v=new Set;let b={},S=1/0;for(let M=0;M<N9;M++){const A=O9[M],z=t[A],B=h[A]!==void 0?h[A]:m[A],L=p0(B),O=A===u?z.isActive:null;O===!1&&(S=M);let U=B===m[A]&&B!==h[A]&&L;if(U&&i&&n.manuallyAnimateOnMount&&(U=!1),z.protectedKeys={...b},!z.isActive&&O===null||!B&&!z.prevProp||BA(B)||typeof B=="boolean")continue;const k=I9(z.prevProp,B);let F=k||A===u&&z.isActive&&!U&&L||M>S&&L,P=!1;const w=Array.isArray(B)?B:[B];let G=w.reduce(r(A),{});O===!1&&(G={});const{prevResolvedValues:ee={}}=z,q={...ee,...G},$=re=>{F=!0,v.has(re)&&(P=!0,v.delete(re)),z.needsAnimating[re]=!0;const Q=n.getValue(re);Q&&(Q.liveStyle=!1)};for(const re in q){const Q=G[re],de=ee[re];if(b.hasOwnProperty(re))continue;let Y=!1;tE(Q)&&tE(de)?Y=!cO(Q,de):Y=Q!==de,Y?Q!=null?$(re):v.add(re):Q!==void 0&&v.has(re)?$(re):z.protectedKeys[re]=!0}z.prevProp=B,z.prevResolvedValues=G,z.isActive&&(b={...b,...G}),i&&n.blockInitialAnimation&&(F=!1),F&&(!(U&&k)||P)&&g.push(...w.map(re=>({animation:re,options:{type:A}})))}if(v.size){const M={};if(typeof h.initial!="boolean"){const A=y0(n,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(M.transition=A.transition)}v.forEach(A=>{const z=n.getBaseTarget(A),B=n.getValue(A);B&&(B.liveStyle=!0),M[A]=z??null}),g.push({animation:M})}let E=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(g):Promise.resolve()}function c(u,h){var m;if(t[u].isActive===h)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),t[u].isActive=h;const g=o(u);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=_2(),i=!0}}}function I9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!cO(e,n):!1}function Md(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _2(){return{animate:Md(!0),whileInView:Md(),whileHover:Md(),whileTap:Md(),whileDrag:Md(),whileFocus:Md(),exit:Md()}}class Bf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k9 extends Bf{constructor(e){super(e),e.animationState||(e.animationState=P9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();BA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let F9=0;class H9 extends Bf{constructor(){super(...arguments),this.id=F9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const j9={animation:{Feature:k9},exit:{Feature:H9}};function b0(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function X0(n){return{point:{x:n.pageX,y:n.pageY}}}const G9=n=>e=>NC(e)&&n(e,X0(e));function om(n,e,t,i){return b0(n,e,G9(t),i)}function fO({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function V9({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function X9(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const dO=1e-4,W9=1-dO,Y9=1+dO,hO=.01,K9=0-hO,q9=0+hO;function Fa(n){return n.max-n.min}function J9(n,e,t){return Math.abs(n-e)<=t}function M2(n,e,t,i=.5){n.origin=i,n.originPoint=ki(e.min,e.max,n.origin),n.scale=Fa(t)/Fa(e),n.translate=ki(t.min,t.max,n.origin)-n.originPoint,(n.scale>=W9&&n.scale<=Y9||isNaN(n.scale))&&(n.scale=1),(n.translate>=K9&&n.translate<=q9||isNaN(n.translate))&&(n.translate=0)}function Wy(n,e,t,i){M2(n.x,e.x,t.x,i?i.originX:void 0),M2(n.y,e.y,t.y,i?i.originY:void 0)}function E2(n,e,t){n.min=t.min+e.min,n.max=n.min+Fa(e)}function Z9(n,e,t){E2(n.x,e.x,t.x),E2(n.y,e.y,t.y)}function C2(n,e,t){n.min=e.min-t.min,n.max=n.min+Fa(e)}function Yy(n,e,t){C2(n.x,e.x,t.x),C2(n.y,e.y,t.y)}const T2=()=>({translate:0,scale:1,origin:0,originPoint:0}),lm=()=>({x:T2(),y:T2()}),w2=()=>({min:0,max:0}),or=()=>({x:w2(),y:w2()});function ro(n){return[n("x"),n("y")]}function yM(n){return n===void 0||n===1}function dE({scale:n,scaleX:e,scaleY:t}){return!yM(n)||!yM(e)||!yM(t)}function Hd(n){return dE(n)||pO(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function pO(n){return R2(n.x)||R2(n.y)}function R2(n){return n&&n!=="0%"}function vS(n,e,t){const i=n-t,r=e*i;return t+r}function B2(n,e,t,i,r){return r!==void 0&&(n=vS(n,r,i)),vS(n,t,i)+e}function hE(n,e=0,t=1,i,r){n.min=B2(n.min,e,t,i,r),n.max=B2(n.max,e,t,i,r)}function mO(n,{x:e,y:t}){hE(n.x,e.translate,e.scale,e.originPoint),hE(n.y,t.translate,t.scale,t.originPoint)}const D2=.999999999999,z2=1.0000000000001;function Q9(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,o;for(let c=0;c<r;c++){a=t[c],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&um(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mO(n,o)),i&&Hd(a.latestValues)&&um(n,a.latestValues))}e.x<z2&&e.x>D2&&(e.x=1),e.y<z2&&e.y>D2&&(e.y=1)}function cm(n,e){n.min=n.min+e,n.max=n.max+e}function L2(n,e,t,i,r=.5){const a=ki(n.min,n.max,r);hE(n,e,t,a,i)}function um(n,e){L2(n.x,e.x,e.scaleX,e.scale,e.originX),L2(n.y,e.y,e.scaleY,e.scale,e.originY)}function gO(n,e){return fO(X9(n.getBoundingClientRect(),e))}function $9(n,e,t){const i=gO(n,t),{scroll:r}=e;return r&&(cm(i.x,r.offset.x),cm(i.y,r.offset.y)),i}const O2=(n,e)=>Math.abs(n-e);function e7(n,e){const t=O2(n.x,e.x),i=O2(n.y,e.y);return Math.sqrt(t**2+i**2)}class yO{constructor(e,t,{transformPagePoint:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=xM(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=e7(m.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:b}=m,{timestamp:S}=Zr;this.history.push({...b,timestamp:S});const{onStart:E,onMove:M}=this.handlers;g||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{if(this.index=U2(m.currentTarget),m.target instanceof Element&&m.target.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.target.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=vM(g,this.transformPagePoint),yi.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{Vy(m,"release"),this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=xM(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:vM(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,E),b&&b(m,E)},!NC(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i;const a=X0(e),o=vM(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Zr;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=t;h&&h(e,xM(o,this.history)),Vy(e,"set"),this.removeListeners=V0(om(e.currentTarget,"pointermove",this.handlePointerMove),om(e.currentTarget,"pointerup",this.handlePointerUp),om(e.currentTarget,"pointercancel",this.handlePointerUp),om(e.currentTarget,"lostpointercapture",(m,g)=>{U2(m.currentTarget)!==this.index?Vy(m,"set"):this.handlePointerUp(m,g)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sf(this.updatePoint)}}function vM(n,e){return e?{point:e(n.point)}:n}function N2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xM({point:n},e){return{point:n,delta:N2(n,vO(e)),offset:N2(n,t7(e)),velocity:n7(e,.1)}}function t7(n){return n[0]}function vO(n){return n[n.length-1]}function n7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=vO(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>iu(e)));)t--;if(!i)return{x:0,y:0};const a=ru(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function U2(n){return n.parentNode?Array.from(n.parentNode.children).indexOf(n):-1}function i7(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ki(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ki(t,n,i.max):Math.min(n,t)),n}function P2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function r7(n,{top:e,left:t,bottom:i,right:r}){return{x:P2(n.x,t,r),y:P2(n.y,e,i)}}function I2(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function a7(n,e){return{x:I2(n.x,e.x),y:I2(n.y,e.y)}}function s7(n,e){let t=.5;const i=Fa(n),r=Fa(e);return r>i?t=Cm(e.min,e.max-i,n.min):i>r&&(t=Cm(n.min,n.max-r,e.min)),cu(0,1,t)}function o7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const pE=.35;function l7(n=pE){return n===!1?n=0:n===!0&&(n=pE),{x:k2(n,"left","right"),y:k2(n,"top","bottom")}}function k2(n,e,t){return{min:F2(n,e),max:F2(n,t)}}function F2(n,e){return typeof n=="number"?n:n[e]||0}const c7=new WeakMap;class u7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=or(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(X0(m).point)},a=(m,g)=>{const{drag:v,dragPropagation:b,onDragStart:S}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n8(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ro(M=>{let A=this.getAxisMotionValue(M).get()||0;if(tc.test(A)){const{projection:z}=this.visualElement;if(z&&z.layout){const B=z.layout.layoutBox[M];B&&(A=Fa(B)*(parseFloat(A)/100))}}this.originPoint[M]=A}),S&&yi.postRender(()=>S(m,g)),rE(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(m,g)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:S,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:M}=g;if(b&&this.currentDirection===null){this.currentDirection=f7(M),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,M),this.updateAxis("y",g.point,M),this.visualElement.render(),E&&E(m,g)},c=(m,g)=>this.stop(m,g),u=()=>ro(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new yO(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&yi.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Jx(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=i7(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&am(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=r7(r.layoutBox,t):this.constraints=!1,this.elastic=l7(i),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ro(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=o7(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!am(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=$9(i,r.root,this.visualElement.getTransformPagePoint());let o=a7(r.layout.layoutBox,a);if(t){const c=t(V9(o));this.hasMutatedConstraints=!!c,c&&(o=fO(c))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=ro(m=>{if(!Jx(m,t,this.currentDirection))return;let g=u&&u[m]||{};o&&(g={min:0,max:0});const v=r?200:1e6,b=r?40:1e7,S={type:"inertia",velocity:i?e[m]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return rE(this.visualElement,e),i.start(YC(e,i,0,t,this.visualElement,!1))}stopAnimation(){ro(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ro(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ro(t=>{const{drag:i}=this.getProps();if(!Jx(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:c}=r.layout.layoutBox[t];a.set(e[t]-ki(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!am(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ro(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();r[o]=s7({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ro(o=>{if(!Jx(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(ki(u,h,r[o]))})}addListeners(){if(!this.visualElement.current)return;c7.set(this.visualElement,this);const e=this.visualElement.current,t=om(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();am(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),yi.read(i);const o=b0(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(ro(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{o(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=pE,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Jx(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function f7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class d7 extends Bf{constructor(e){super(e),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new u7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const H2=n=>(e,t)=>{n&&yi.postRender(()=>n(e,t))};class h7 extends Bf{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(e){this.session=new yO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:H2(e),onStart:H2(t),onMove:i,onEnd:(a,o)=>{delete this.session,r&&yi.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=om(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xy={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Vt.test(n))n=parseFloat(n);else return n;const t=j2(n,e.target.x),i=j2(n,e.target.y);return`${t}% ${i}%`}},p7={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Af.parse(n);if(r.length>5)return i;const a=Af.createTransformer(n),o=typeof r[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;r[0+o]/=c,r[1+o]/=u;const h=ki(c,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=h),typeof r[3+o]=="number"&&(r[3+o]/=h),a(r)}};class m7 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;x6(g7),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),eS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,o=i.projection;return o&&(o.isPresent=a,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||yi.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),SC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xO(n){const[e,t]=JV(),i=I.useContext(n3);return T.jsx(m7,{...n,layoutGroup:i,switchLayoutGroup:I.useContext(u3),isPresent:e,safeToRemove:t})}const g7={borderRadius:{...xy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xy,borderTopRightRadius:xy,borderBottomLeftRadius:xy,borderBottomRightRadius:xy,boxShadow:p7};function y7(n,e,t){const i=xa(n)?n:v0(n);return i.start(YC("",i,e,t)),i.animation}function v7(n){return n instanceof SVGElement&&n.tagName!=="svg"}const x7=(n,e)=>n.depth-e.depth;class b7{constructor(){this.children=[],this.isDirty=!1}add(e){UC(this.children,e),this.isDirty=!0}remove(e){PC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x7),this.isDirty=!1,this.children.forEach(e)}}function S7(n,e){const t=nc.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(Sf(i),n(a-e))};return yi.read(i,!0),()=>Sf(i)}const bO=["TopLeft","TopRight","BottomLeft","BottomRight"],A7=bO.length,G2=n=>typeof n=="string"?parseFloat(n):n,V2=n=>typeof n=="number"||Vt.test(n);function _7(n,e,t,i,r,a){r?(n.opacity=ki(0,t.opacity!==void 0?t.opacity:1,M7(i)),n.opacityExit=ki(e.opacity!==void 0?e.opacity:1,0,E7(i))):a&&(n.opacity=ki(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<A7;o++){const c=`border${bO[o]}Radius`;let u=X2(e,c),h=X2(t,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||V2(u)===V2(h)?(n[c]=Math.max(ki(G2(u),G2(h),i),0),(tc.test(h)||tc.test(u))&&(n[c]+="%")):n[c]=h}(e.rotate||t.rotate)&&(n.rotate=ki(e.rotate||0,t.rotate||0,i))}function X2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const M7=SO(0,.5,k3),E7=SO(.5,.95,Us);function SO(n,e,t){return i=>i<n?0:i>e?1:t(Cm(n,e,i))}function W2(n,e){n.min=e.min,n.max=e.max}function no(n,e){W2(n.x,e.x),W2(n.y,e.y)}function Y2(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function K2(n,e,t,i,r){return n-=e,n=vS(n,1/t,i),r!==void 0&&(n=vS(n,1/r,i)),n}function C7(n,e=0,t=1,i=.5,r,a=n,o=n){if(tc.test(e)&&(e=parseFloat(e),e=ki(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=ki(a.min,a.max,i);n===a&&(c-=e),n.min=K2(n.min,e,t,c,r),n.max=K2(n.max,e,t,c,r)}function q2(n,e,[t,i,r],a,o){C7(n,e[t],e[i],e[r],e.scale,a,o)}const T7=["x","scaleX","originX"],w7=["y","scaleY","originY"];function J2(n,e,t,i){q2(n.x,e,T7,t?t.x:void 0,i?i.x:void 0),q2(n.y,e,w7,t?t.y:void 0,i?i.y:void 0)}function Z2(n){return n.translate===0&&n.scale===1}function AO(n){return Z2(n.x)&&Z2(n.y)}function Q2(n,e){return n.min===e.min&&n.max===e.max}function R7(n,e){return Q2(n.x,e.x)&&Q2(n.y,e.y)}function $2(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function _O(n,e){return $2(n.x,e.x)&&$2(n.y,e.y)}function eB(n){return Fa(n.x)/Fa(n.y)}function tB(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class B7{constructor(){this.members=[]}add(e){UC(this.members,e),e.scheduleRender()}remove(e){if(PC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D7(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||a||o)&&(i=`translate3d(${r}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:b,skewY:S}=t;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),b&&(i+=`skewX(${b}deg) `),S&&(i+=`skewY(${S}deg) `)}const c=n.x.scale*e.x,u=n.y.scale*e.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const bM=["","X","Y","Z"],z7={visibility:"hidden"},nB=1e3;let L7=0;function SM(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function MO(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=z3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",yi,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&MO(i)}function EO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},c=e==null?void 0:e()){this.id=L7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U7),this.nodes.forEach(H7),this.nodes.forEach(j7),this.nodes.forEach(P7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new b7)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new IC),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v7(o),this.instance=o;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),n){let g;const v=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=S7(v,250),eS.hasAnimatedSinceResize&&(eS.hasAnimatedSinceResize=!1,this.nodes.forEach(rB))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||Y7,{onLayoutAnimationStart:M,onLayoutAnimationComplete:A}=m.getProps(),z=!this.targetLayout||!_O(this.targetLayout,S),B=!v&&b;if(this.options.layoutRoot||this.resumeFrom||B||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,B);const L={...zC(E,"layout"),onPlay:M,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else v||rB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iB);return}this.isUpdating||this.nodes.forEach(k7),this.isUpdating=!1,this.nodes.forEach(F7),this.nodes.forEach(O7),this.nodes.forEach(N7),this.clearAllSnapshots();const c=nc.now();Zr.delta=cu(0,1e3/60,c-Zr.timestamp),Zr.timestamp=c,Zr.isProcessing=!0,dM.update.process(Zr),dM.preRender.process(Zr),dM.render.process(Zr),Zr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,SC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I7),this.sharedNodes.forEach(V7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fa(this.snapshot.measuredBox.x)&&!Fa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!AO(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&(c||Hd(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),K7(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:c}=this.options;if(!c)return or();const u=c.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(q7))){const{scroll:m}=this.root;m&&(cm(u.x,m.offset.x),cm(u.y,m.offset.y))}return u}removeElementScroll(o){var c;const u=or();if(no(u,o),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&no(u,o),cm(u.x,g.offset.x),cm(u.y,g.offset.y))}return u}applyTransform(o,c=!1){const u=or();no(u,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&um(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Hd(m.latestValues)&&um(u,m.latestValues)}return Hd(this.latestValues)&&um(u,this.latestValues),u}removeTransform(o){const c=or();no(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Hd(h.latestValues))continue;dE(h.latestValues)&&h.updateSnapshot();const m=or(),g=h.measurePageBox();no(m,g),J2(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Hd(this.latestValues)&&J2(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Zr.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=or(),this.relativeTargetOrigin=or(),Yy(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),no(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=or(),this.targetWithTransforms=or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Z9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):no(this.target,this.layout.layoutBox),mO(this.target,this.targetDelta)):no(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=or(),this.relativeTargetOrigin=or(),Yy(this.relativeTargetOrigin,this.target,b.target),no(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dE(this.parent.latestValues)||pO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Zr.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;no(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;Q9(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=or());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y2(this.prevProjectionDelta.x,this.projectionDelta.x),Y2(this.prevProjectionDelta.y,this.projectionDelta.y)),Wy(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!tB(this.projectionDelta.x,this.prevProjectionDelta.x)||!tB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lm(),this.projectionDelta=lm(),this.projectionDeltaWithTransform=lm()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},g=lm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=or(),b=u?u.source:void 0,S=this.layout?this.layout.source:void 0,E=b!==S,M=this.getStack(),A=!M||M.members.length<=1,z=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(W7));this.animationProgress=0;let B;this.mixTargetDelta=L=>{const O=L/1e3;aB(g.x,o.x,O),aB(g.y,o.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yy(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X7(this.relativeTarget,this.relativeTargetOrigin,v,O),B&&R7(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=or()),no(B,this.relativeTarget)),E&&(this.animationValues=m,_7(m,h,this.latestValues,O,z,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yi.update(()=>{eS.hasAnimatedSinceResize=!0,this.currentAnimation=y7(0,nB,{...o,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:m}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&CO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||or();const g=Fa(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const v=Fa(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}no(c,u),um(c,m),Wy(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new B7),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:c}=this.options;return c?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:c}=this.options;return c?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&SM("z",o,h,this.animationValues);for(let m=0;m<bM.length;m++)SM(`rotate${bM[m]}`,o,h,this.animationValues),SM(`skew${bM[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}getProjectionStyles(o){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return z7;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Qb(o==null?void 0:o.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Qb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hd(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=D7(this.projectionDeltaWithTransform,this.treeScale,v),m&&(h.transform=m(v,h.transform));const{x:b,y:S}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in m0){if(v[E]===void 0)continue;const{correct:M,applyTo:A,isCSSVariable:z}=m0[E],B=h.transform==="none"?v[E]:M(v[E],g);if(A){const L=A.length;for(let O=0;O<L;O++)h[A[O]]=B}else z?this.options.visualElement.renderState.vars[E]=B:h[E]=B}return this.options.layoutId&&(h.pointerEvents=g===this?Qb(o==null?void 0:o.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(iB),this.root.sharedNodes.clear()}}}function O7(n){n.updateLayout()}function N7(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,o=t.source!==n.layout.source;a==="size"?ro(g=>{const v=o?t.measuredBox[g]:t.layoutBox[g],b=Fa(v);v.min=i[g].min,v.max=v.min+b}):CO(a,t.layoutBox,i)&&ro(g=>{const v=o?t.measuredBox[g]:t.layoutBox[g],b=Fa(i[g]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+b)});const c=lm();Wy(c,i,t.layoutBox);const u=lm();o?Wy(u,n.applyTransform(r,!0),t.measuredBox):Wy(u,i,t.layoutBox);const h=!AO(c);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=or();Yy(S,t.layoutBox,v.layoutBox);const E=or();Yy(E,i,b.layoutBox),_O(S,E)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function U7(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function P7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function I7(n){n.clearSnapshot()}function iB(n){n.clearMeasurements()}function k7(n){n.isLayoutDirty=!1}function F7(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function rB(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function H7(n){n.resolveTargetDelta()}function j7(n){n.calcProjection()}function G7(n){n.resetSkewAndRotation()}function V7(n){n.removeLeadSnapshot()}function aB(n,e,t){n.translate=ki(e.translate,0,t),n.scale=ki(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function sB(n,e,t,i){n.min=ki(e.min,t.min,i),n.max=ki(e.max,t.max,i)}function X7(n,e,t,i){sB(n.x,e.x,t.x,i),sB(n.y,e.y,t.y,i)}function W7(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Y7={duration:.45,ease:[.4,0,.1,1]},oB=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),lB=oB("applewebkit/")&&!oB("chrome/")?Math.round:Us;function cB(n){n.min=lB(n.min),n.max=lB(n.max)}function K7(n){cB(n.x),cB(n.y)}function CO(n,e,t){return n==="position"||n==="preserve-aspect"&&!J9(eB(e),eB(t),.2)}function q7(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const J7=EO({attachResizeListener:(n,e)=>b0(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AM={current:void 0},TO=EO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!AM.current){const n=new J7({});n.mount(window),n.setOptions({layoutScroll:!0}),AM.current=n}return AM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Z7={pan:{Feature:h7},drag:{Feature:d7,ProjectionNode:TO,MeasureLayout:xO}};function uB(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&yi.postRender(()=>a(e,X0(e)))}class Q7 extends Bf{mount(){const{current:e}=this.node;e&&(this.unmount=J6(e,(t,i)=>(uB(this.node,i,"Start"),r=>uB(this.node,r,"End"))))}unmount(){}}class $7 extends Bf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=V0(b0(this.node.current,"focus",()=>this.onFocus()),b0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fB(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&yi.postRender(()=>a(e,X0(e)))}class eX extends Bf{mount(){const{current:e}=this.node;e&&(this.unmount=e8(e,(t,i)=>(fB(this.node,i,"Start"),(r,{success:a})=>fB(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mE=new WeakMap,_M=new WeakMap,tX=n=>{const e=mE.get(n.target);e&&e(n)},nX=n=>{n.forEach(tX)};function iX({root:n,...e}){const t=n||document;_M.has(t)||_M.set(t,{});const i=_M.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(nX,{root:n,...e})),i[r]}function rX(n,e,t){const i=iX(e);return mE.set(n,t),i.observe(n),()=>{mE.delete(n),i.unobserve(n)}}const aX={some:0,all:1};class sX extends Bf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:aX[r]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(u)};return rX(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(oX(e,t))&&this.startObserver()}unmount(){}}function oX({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lX={inView:{Feature:sX},tap:{Feature:eX},focus:{Feature:$7},hover:{Feature:Q7}},cX={layout:{ProjectionNode:TO,MeasureLayout:xO}},gE={current:null},wO={current:!1};function uX(){if(wO.current=!0,!!gC)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>gE.current=n.matches;n.addListener(e),e()}else gE.current=!1}const fX=[...$3,ga,Af],dX=n=>fX.find(Q3(n)),hX=new WeakMap;function pX(n,e,t){for(const i in e){const r=e[i],a=t[i];if(xa(r))n.addValue(i,r);else if(xa(a))n.addValue(i,v0(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,v0(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const dB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mX{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=nc.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,yi.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:m}=o;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=DA(t),this.isVariantNode=l3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in v){const S=v[b];u[b]!==void 0&&xa(S)&&S.set(u[b],!1)}}mount(e){this.current=e,hX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),wO.current||uX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sf(this.notifyUpdate),Sf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Sh.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&yi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tm){const t=Tm[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):or()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<dB.length;i++){const r=dB[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=e[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=pX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=v0(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(J3(r)||H3(r))?r=parseFloat(r):!dX(r)&&Af.test(t)&&(r=Y3(e,t)),this.setBaseTarget(e,xa(r)?r.get():r)),xa(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=BC(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xa(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new IC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class RO extends mX{constructor(){super(...arguments),this.KeyframeResolver=eO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xa(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function gX(n){return window.getComputedStyle(n)}class yX extends RO{constructor(){super(...arguments),this.type="html",this.renderInstance=x3}readValueFromInstance(e,t){if(Sh.has(t)){const i=GC(t);return i&&i.default||0}else{const i=gX(e),r=(AC(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return gO(e,t)}build(e,t,i){EC(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return DC(e,t,i)}}class vX extends RO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=or,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&v3(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sh.has(t)){const i=GC(t);return i&&i.default||0}return t=b3.has(t)?t:bC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return A3(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&yi.postRender(this.updateDimensions)}build(e,t,i){wC(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){S3(e,t,i,r)}mount(e){this.isSVGTag=RC(e.tagName),super.mount(e)}}const xX=(n,e)=>TC(n)?new vX(e):new yX(e,{allowProjection:n!==I.Fragment}),bX=G6({...j9,...lX,...Z7,...cX},xX),Qc=a6(bX),SX=({onMenuClick:n})=>T.jsx(Kj,{position:"static",sx:{background:"linear-gradient(45deg, #1976d2 30%, #2196f3 90%)",boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:T.jsxs(HV,{sx:{justifyContent:"space-between"},children:[n&&T.jsx(kj,{color:"inherit",edge:"start",onClick:n,sx:{mr:2,display:{md:"none"}},children:T.jsx(t3,{})}),T.jsx(Qc.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5},children:T.jsx(ye,{variant:"h6",sx:{fontWeight:700,letterSpacing:"1px",color:"white"},children:"Silniki Elektryczne"})})]})}),AX=Va(T.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),_X=Va(T.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),BO=Va(T.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),MX=Va(T.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"}),"Book"),EX=Va(T.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),CX=Va(T.jsx("path",{d:"M10 8v8l5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"}),"Slideshow"),MM=Va(T.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),ic=Va(T.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),fa=Ct(iV)(({theme:n})=>({"&:hover":{backgroundColor:n.palette.action.hover},borderRadius:n.shape.borderRadius,margin:n.spacing(.5,0)})),hB=()=>{const[n,e]=I.useState(!1),[t,i]=I.useState(!1),[r,a]=I.useState(!1),o=WE(),c=bh(),u=h=>{o(h)};return T.jsxs(mf,{children:[T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>u("/"),children:[T.jsx(Ds,{children:T.jsx(AX,{})}),T.jsx(gi,{primary:"Home"})]})}),T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>u("/basics"),children:[T.jsx(Ds,{children:T.jsx(_X,{})}),T.jsx(gi,{primary:"Podstawy"})]})}),T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>e(!n),children:[T.jsx(Ds,{children:T.jsx(BO,{})}),T.jsx(gi,{primary:"Silniki"}),n?T.jsx(MM,{}):T.jsx(ic,{})]})}),T.jsx(mm,{in:n,timeout:"auto",unmountOnExit:!0,children:T.jsxs(mf,{component:"div",disablePadding:!0,children:[T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>{c.pathname.startsWith("/motors/dc")?i(h=>!h):(i(!0),u("/motors/dc"))},sx:{pl:4},children:[T.jsx(gi,{primary:"Silniki DC"}),t?T.jsx(MM,{}):T.jsx(ic,{})]})}),T.jsx(mm,{in:t,timeout:"auto",unmountOnExit:!0,children:T.jsxs(mf,{component:"div",disablePadding:!0,children:[T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/dc/construction"),sx:{pl:6},children:T.jsx(gi,{primary:"Budowa"})})}),T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/dc/operation"),sx:{pl:6},children:T.jsx(gi,{primary:"Zasada działania"})})}),T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/dc/types"),sx:{pl:6},children:T.jsx(gi,{primary:"Rodzaje"})})}),T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/dc/applications"),sx:{pl:6},children:T.jsx(gi,{primary:"Zastosowania"})})})]})}),T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>{c.pathname.startsWith("/motors/ac")?a(h=>!h):(a(!0),u("/motors/ac"))},sx:{pl:4},children:[T.jsx(gi,{primary:"Silniki AC"}),r?T.jsx(MM,{}):T.jsx(ic,{})]})}),T.jsx(mm,{in:r,timeout:"auto",unmountOnExit:!0,children:T.jsxs(mf,{component:"div",disablePadding:!0,children:[T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/ac/construction"),sx:{pl:6},children:T.jsx(gi,{primary:"Budowa"})})}),T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/ac/operation"),sx:{pl:6},children:T.jsx(gi,{primary:"Zasada działania"})})}),T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/ac/types"),sx:{pl:6},children:T.jsx(gi,{primary:"Rodzaje"})})}),T.jsx(mi,{disablePadding:!0,children:T.jsx(fa,{onClick:()=>u("/motors/ac/applications"),sx:{pl:6},children:T.jsx(gi,{primary:"Zastosowania"})})})]})})]})}),T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>u("/resources"),children:[T.jsx(Ds,{children:T.jsx(MX,{})}),T.jsx(gi,{primary:"Zasoby"})]})}),T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>u("/contact"),children:[T.jsx(Ds,{children:T.jsx(EX,{})}),T.jsx(gi,{primary:"Kontakt"})]})}),T.jsx(mi,{disablePadding:!0,children:T.jsxs(fa,{onClick:()=>u("/prezentacja"),children:[T.jsx(Ds,{children:T.jsx(CX,{})}),T.jsx(gi,{primary:"Prezentacja"})]})})]})},DO="/engines/assets/UKEN-logo-CwfufOUm.png",TX=({sx:n})=>T.jsx(Mt,{component:"footer",sx:{bgcolor:"background.paper",px:{xs:2,sm:4},py:{xs:4,sm:6},borderTop:"1px solid #e0e0e0",mt:4,textAlign:"center",...n},children:T.jsxs(wA,{spacing:1,alignItems:"center",children:[T.jsx(ye,{variant:"h6",sx:{fontWeight:600},children:"Silniki Elektryczne"}),T.jsx(ye,{variant:"subtitle2",color:"text.secondary",children:"UKEN – Uniwersytet Komisji Edukacji Narodowej w Krakowie"}),T.jsx(Mt,{component:"img",src:DO,alt:"UKEN Logo",onClick:()=>window.open("https://www.uken.krakow.pl/","_blank"),sx:{height:40,width:"auto",cursor:"pointer",transition:"opacity 0.3s ease","&:hover":{opacity:.8},mt:1}})]})}),hs=()=>{const e=bh().pathname.split("/").filter(t=>t);return T.jsxs(A5,{"aria-label":"breadcrumb",sx:{mb:2},children:[T.jsx(WR,{underline:"hover",color:"inherit",href:"/",children:"Home"}),e.map((t,i)=>{const r=`/${e.slice(0,i+1).join("/")}`,a=i===e.length-1,o=t.replace(/-/g," ");return a?T.jsx(ye,{color:"text.primary",children:o},t):T.jsx(WR,{underline:"hover",color:"inherit",href:r,children:o},t)})]})},wX=[{title:"Podstawy",desc:"Dowiedz się, czym są silniki elektryczne, jak działają i jakie mają znaczenie w technice.",to:"/basics"},{title:"Silniki DC",desc:"Poznaj budowę, zasadę działania, rodzaje i zastosowania silników prądu stałego.",to:"/motors/dc"},{title:"Silniki AC",desc:"Odkryj świat silników prądu przemiennego – ich konstrukcję, typy i zastosowania.",to:"/motors/ac"},{title:"Maszyny elektryczne",desc:"Zobacz inne maszyny elektryczne, takie jak transformatory czy prądnice.",to:"/machines"},{title:"Materiały i źródła",desc:"Sprawdź dodatkowe materiały, prezentacje i źródła wiedzy.",to:"/resources"}],RX=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(Qc.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:T.jsx(ye,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700},children:"Witaj na stronie o silnikach elektrycznych!"})}),T.jsxs(Qc.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[T.jsx(ye,{paragraph:!0,children:"Ta strona została stworzona, aby przybliżyć Ci podstawy działania, budowy i zastosowania silników elektrycznych."}),T.jsx(ye,{paragraph:!0,children:"Znajdziesz tu zarówno wiedzę teoretyczną, jak i praktyczne przykłady oraz interaktywne wizualizacje. Przejdź przez kolejne sekcje, aby dowiedzieć się więcej o różnych typach silników, ich konstrukcji, zasadzie działania oraz zastosowaniach w przemyśle i codziennym życiu."}),T.jsx(ye,{paragraph:!0,children:"Każda podstrona zawiera szczegółowe opisy, ilustracje, animacje oraz materiały dodatkowe, które pomogą Ci lepiej zrozumieć tematykę maszyn elektrycznych."})]}),T.jsx(ui,{container:!0,spacing:3,sx:{mt:2},children:wX.map((n,e)=>T.jsx(ui,{item:!0,xs:12,sm:6,md:4,children:T.jsx(Qc.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3+e*.08},children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:n.title}),T.jsx(ye,{paragraph:!0,children:n.desc}),T.jsx(tr,{variant:"contained",component:nl,to:n.to,sx:{mt:2},fullWidth:!0,children:"Przejdź"})]})})})},n.to))})]}),BX="/engines/assets/uchwyt-zsaSDFdX.png",DX="/engines/assets/cewka-BbDgNEDb.png",zX="/engines/assets/regulaLenza-C-jdxuBT.png",LX="data:image/gif;base64,R0lGODlhiQCKADMAACH5BAAAAAAALAAAAACJAIoAgf////DWzfjCoywcFwT+EMhJq70YjM2HyGAojmRpnmKnomzrvnA1BBKtzdYQ73yP6jnghOMrGo8aS2AjYyKfUJZwOJUQo9gsSMUJ2KhVbY+7ypI9X6tTXDxfsTiAzeuhvNnj+Jwdlq+Xa3g8gYJJF4F3hTCEgn2AdoyKbpFqimBcH5B9ljYdSxmTYmQCaX6UllyGh3o1eHulYJZBKjSbN7ImiahlVqC2uLOyXHtDvsAkuqK8OcbHKadQw1u+sM4UgL9HqSGfGNDWN9l5njzV4LFZ2OfK4kXm60bJJu/wwt8ppPXW6iOTo/T6om14F0DAKA8zBBjEFJBNrUgFMSmcSKogRYUdGvIJRGMhh4v+FC2CJOVRIwiAuc54GcmyJTaUwGjQydcjogqMIlvqvDgQJieLL3fY/LizqM6BAVdaXOFTyRmjUEHKc5aT5MQuJIYS9Xh0Q1SK93Ct7Iomg1YPFa96JQt1Wb2qLDtkmrBSotS1O9HmjTMX3lij/mjBxYi36145Gv9+BbuYa2OwXio0FaT4sdWvWxsjNUnXsme1ehdj5Szhs+nMbb1OPjbYdFTULRHiWM3a9WfYdzOSltzadlHchD8W3C15olLXBY+LzAl8LTHinUkmTzu9uvSR1pNPBz1yhpfI0Cv4Po3XJs3wF3rr3O4682j0Ssbfxqv7OXr18veGDh5HMvH8njX+F5ZGAFoG3A19oVfgY8ARBp6CC4pW2EX8wBehhPvdlQ9tx1yI2YQhVRieh4A5xhId/UFHokdeyYZWgwqhyOExIF6YoYnrETHjLjeOp91lIsHI04Dg4AjgclYt5ZxLDkI3FFRAGYVfcFB2saMiHfVk3IosQikiaeZxCZaQIW6220OXcUkmSI+Et2Z+b1JI5DkLkRhanEO2sw42HtK3Fp5ehQdIn38W2mNsKZKGJ4MvtlijflfuYqeLi6oVKSorjhKgnvAcKt9N88Hn6aePiibqqOOFNmVsl1pi0JEutSYcmzHW0SoedfrWG5JxDZRmRaohttus1wEZ1WCVdQdicuT+QNcFk4+xV9STbKKYKGcLrfohLamNqZdNbvpKqlza+tndeYqq5qNWUL76W4ImybWgJ239Nqc18upH5ln2NtisEvXkqi+9/QKWr7I9cRbmtPylVqq3PVornEkvvXbwiUYieuhZnIqVsX7QUultr3qVOlWRwCE5FqpqSYUdSYW+/JFJr24c45Zo/MorWrwetZO1t0YBSFVwjTV0lDkxa5y0ITE25cnnOJd0taqxR3SMVyNLJtRRE2uvz6BpGSuLF7ep8MUvk30zYbnxvLbAear7qrPPOpzQVYiSrG+2QbPjUo0Pu5ynlHLBBwDcTevNtLLzddxp4Ahv67aX9z4Oedzlkl9eK7wjLmrXwJrXYThd4dQb9n6FIYl2cMKOrgnIUXbJdkvhOEqL6974e+hWLPvT9zqr5zo1tdOKOzPpuGeA+If91vD7sMGTdVDh3CTPDajr8RcYuta/IBFcvHBsZvc1ybEE2WWRrw+Hz6vv/vvwE1d5/FFwTf9Gjt//xJf6S2J//0LTTQvmB0BNeC9/BbzG/1aRwEUQkIANrIEASwDBCKrhXhW0IDbCYIsMWjAczMjdB2Mgog4icITB6IUIUehAJ5iQhTHwxAthCIMNNoOGKTnDSXDIAmK0j4dADKIQh0jEIqIwAgA7",OX="data:image/gif;base64,R0lGODlhnwCrADMAACH5BAAAAAAALAAAAACfAKsAgf///+zVzvjCoi8fGQT+EMhJq7046827/2AojmRpnmiqrmzrvnDcDXJt39+g43zP6zQKcDgQBHycnUV3RMaATQlx6swwK4FiFZZVSrrf8HWL1VIEg0CUvAJWxu8gewIHeOftu10ex0+yUVkCfixQQnx/emxgUmmEKl18jHFreGhNio8lbodTdXhqjpeaKpx0noaaO5mNqKake46nTbSTfqGAVkO0YbBfr7Z/gpqRlUKRrL6ve8aNpMsUWbFDvkt6rMGgshiyntWn23sY2d900d6+keeIAKHh5UIX6M/XrkXN5dIXyNBzy6ij4HHD14oaoVR/ehEUKIUDv2Q91DE0wU4XEX8QJ7Z4mFFGP43+Hqk4QQjyBrIqEkv6WGjjo0pieSq+JBQATQiCJGcuaucJjYCfI1Lq3FLTnis1OToOjYEG4E+fTXuyLLYUCZGnRmpqrZn1qVSL7arawATECNazaNNOGbRGqNga6rimnUv35xSkLt9u1GG2rt+0AKLOcxEo0Ex3fxPPLSK4LNJxIIw1VcMSXhfFmP3erXxz19bDUDKLPns0Bb/APynrdDwa65C6Zb9aMLxPcF+sql+WbW2Xr2a+XGV74CcX7RHOyq5m3v2bMdrNSV6r8auyME/nibE3x016bVsJjYvXRZ4v1l/m533PLWp0rejHIGkrV6t9+/jg7VOPnliZbX3eUWX+JlcRBAL4VG5iXWZgb/8pppVZ4r33FlkNLqfeghgCpVdgr/GGXoYLbjjddR5eCGKIIv5SoIUVnihhiuZ9SJeMLvJGXklGpDHfYibWaOOG0YQhyIr0tXhgVtOd+KBcN1qmAWU9MnjWdJRReWRaSx6ZpZUPHgjkBuzdJuWV64lJppZY6pell19qEFVxNEbooHFn+gVfm7NF0p2RNmaI52zgYEejjz/+GdaOXkVJaGtNvsRPkYuCaGgrsCkaqWiTTibnmJca+Cdi9nUKoKGDumapqImRymeAqPIG43GnJrpqq4B96U4a6c1K61ltFrOpqQTqumubrOXKIF/BlnopkL7+KsacUbuymWAsv0K6WGrVLqqURk2NtluX+kGYrYt5lRTmuH0xx1WX7JqZZrgsDpJgMaJ9iO54V4IbLriO6RVavbECeC+cTNypU7MsChvprUZUReG9eyq86EmNVqOssdHSWW583Rp4casb83ddGhA/F3CnYYYllhsLfigxhsD5e7LJzqE3M4hUyfxyh8/eDOInQ6lTIrK+fVxjyCD5XORrRh8tk6Mc4poowD1FG/OESs/ontXvLDXZzx1y/WXWoYotItlTkpZxbxO2Ewq8cKtX3Nz4luxtxdUcARXcENr2rr7vusieiN0myR0ydvKtprv4pt3XdEAfvAu2NAvIeGL+a675eG8NJ1hWYBGyJyzddreWE9T0cr4nZvgRufDpjhbe3eysN9Y0o5973uCFPf4qunQTG7SU6NndkzBjpTtIcVVNK31V8lQ/XZ7KDI8XdvG+oXt7xCpPPw41ld6OaK63I4P3LY82N/P4dHHUPNKw/P4vj+qqL6xyJcMukPzA/dqh9t/C3vZypD/LhM1w9bne1JZWp6WRLHozUeDsWhc+mhkPe7e5V+5UwqpNqSd71dJOgQwXQuT17XKyMhh/inUfhRnOJ0wq02XWBTB56WZ+sIGK5rhzQuPRbXMzXNy+6NO5CBbsL3qSYb7GRUP8nGlTrTvfQSrkihOWySwSpJP+EzOYJsjB7xsKiph3kHgs3uULWKMTTC9Wg6vWoYdgZBpQABfIHSIkKVu/kyI9GtNAWW3Oj1rDzXwEgcRdbIiPGoxS1iTIQguObYCBfA9rxHOqDW4IkjyqHae8dTUgwdBDfiMjICVZQOZJDWJVw8zWIGgoQSQylQLEZIAmRaJYHkiOWmOfAGnZCUX9L21hEqMJCemsL+puLauMpKxMqB+jWZKXX7BdMmeExt+or3vQ5EXUskc2E/2wksaE0T7asbdiMpOa9OsaND9gvuLBjC/rhMwasck/n9gDheErWDxNcKv8zJF8kdunCCgjzXuIgX1u7KRATVOZJhTUHghaKBK8CIpM5OlRosPJaAYuitGOevSjMJAeSPEQzpHiQHgmnWJAU1oFlLIUIyt9qQ9cKtMtGLKmbKApTq1Syp22pKQ+jYk6g3oDnRJ1AwHC202P6gFPLKQiRmUqN0hGToiwY6lSBRNVo2mG2SAiqlm1hleftg2shlUDRrFCoM6aFFeodRocxekOtEkQQICVrdZokh3xyk49DGOq2+KripDiDpzYQ7AbdeqTFDJPxM5GjXF1rGQnS9nKWvaymNVIBAAAOw==",NX="/engines/assets/zasada_prawej_reki-DNuIcdNB.png";/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const W0="175",jd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Gd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},zO=0,yE=1,LO=2,UX=3,OO=0,LA=1,Ky=2,el=3,oc=0,Ga=1,lo=2,au=0,oh=1,vE=2,xE=3,bE=4,NO=5,ff=100,UO=101,PO=102,IO=103,kO=104,FO=200,HO=201,jO=202,GO=203,xS=204,bS=205,VO=206,XO=207,WO=208,YO=209,KO=210,qO=211,JO=212,ZO=213,QO=214,SS=0,AS=1,_S=2,hh=3,MS=4,ES=5,CS=6,TS=7,Y0=0,$O=1,eN=2,rc=0,tN=1,nN=2,iN=3,KC=4,rN=5,aN=6,sN=7,SE="attached",oN="detached",OA=300,uu=301,_f=302,S0=303,A0=304,Km=306,Mf=1e3,Ls=1001,Rm=1002,kr=1003,NA=1004,PX=1004,Jd=1005,IX=1005,Hi=1006,ym=1007,kX=1007,ho=1008,FX=1008,ol=1009,qC=1010,JC=1011,Bm=1012,UA=1013,fu=1014,Ha=1015,Ah=1016,PA=1017,IA=1018,Dm=1020,ZC=35902,QC=1021,$C=1022,ba=1023,eT=1024,tT=1025,zm=1026,Lm=1027,kA=1028,K0=1029,nT=1030,FA=1031,HX=1032,HA=1033,qy=33776,Jy=33777,Zy=33778,Qy=33779,wS=35840,RS=35841,BS=35842,DS=35843,zS=36196,LS=37492,OS=37496,NS=37808,US=37809,PS=37810,IS=37811,kS=37812,FS=37813,HS=37814,jS=37815,GS=37816,VS=37817,XS=37818,WS=37819,YS=37820,KS=37821,$y=36492,qS=36494,JS=36495,iT=36283,ZS=36284,QS=36285,$S=36286,lN=2200,cN=2201,uN=2202,Om=2300,Nm=2301,tS=2302,Zd=2400,Qd=2401,_0=2402,jA=2500,rT=2501,fN=0,aT=1,eA=2,dN=3200,hN=3201,jX=3202,GX=3203,Df=0,pN=1,Jc="",ya="srgb",Ef="srgb-linear",M0="linear",$n="srgb",VX=0,Vd=7680,XX=7681,WX=7682,YX=7683,KX=34055,qX=34056,JX=5386,ZX=512,QX=513,$X=514,eW=515,tW=516,nW=517,iW=518,AE=519,mN=512,gN=513,yN=514,sT=515,vN=516,xN=517,bN=518,SN=519,E0=35044,rW=35048,aW=35040,sW=35045,oW=35049,lW=35041,cW=35046,uW=35050,fW=35042,dW="100",_E="300 es",il=2e3,C0=2001,hW={COMPUTE:"compute",RENDER:"render"};let lc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}};const da=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pB=1234567;const lh=Math.PI/180,Um=180/Math.PI;function Ps(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(da[n&255]+da[n>>8&255]+da[n>>16&255]+da[n>>24&255]+"-"+da[e&255]+da[e>>8&255]+"-"+da[e>>16&15|64]+da[e>>24&255]+"-"+da[t&63|128]+da[t>>8&255]+"-"+da[t>>16&255]+da[t>>24&255]+da[i&255]+da[i>>8&255]+da[i>>16&255]+da[i>>24&255]).toLowerCase()}function Qt(n,e,t){return Math.max(e,Math.min(t,n))}function oT(n,e){return(n%e+e)%e}function pW(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function mW(n,e,t){return n!==e?(t-n)/(e-n):0}function e0(n,e,t){return(1-t)*n+t*e}function gW(n,e,t,i){return e0(n,e,1-Math.exp(-t*i))}function yW(n,e=1){return e-Math.abs(oT(n,e*2)-e)}function vW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function xW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function bW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function SW(n,e){return n+Math.random()*(e-n)}function AW(n){return n*(.5-Math.random())}function _W(n){n!==void 0&&(pB=n);let e=pB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function MW(n){return n*lh}function EW(n){return n*Um}function CW(n){return(n&n-1)===0&&n!==0}function TW(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function wW(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function RW(n,e,t,i,r){const a=Math.cos,o=Math.sin,c=a(t/2),u=o(t/2),h=a((e+i)/2),m=o((e+i)/2),g=a((e-i)/2),v=o((e-i)/2),b=a((i-e)/2),S=o((i-e)/2);switch(r){case"XYX":n.set(c*m,u*g,u*v,c*h);break;case"YZY":n.set(u*v,c*m,u*g,c*h);break;case"ZXZ":n.set(u*g,u*v,c*m,c*h);break;case"XZX":n.set(c*m,u*S,u*b,c*h);break;case"YXY":n.set(u*b,c*m,u*S,c*h);break;case"ZYZ":n.set(u*S,u*b,c*m,c*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ia(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function nn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const AN={DEG2RAD:lh,RAD2DEG:Um,generateUUID:Ps,clamp:Qt,euclideanModulo:oT,mapLinear:pW,inverseLerp:mW,lerp:e0,damp:gW,pingpong:yW,smoothstep:vW,smootherstep:xW,randInt:bW,randFloat:SW,randFloatSpread:AW,seededRandom:_W,degToRad:MW,radToDeg:EW,isPowerOfTwo:CW,ceilPowerOfTwo:TW,floorPowerOfTwo:wW,setQuaternionFromProperEuler:RW,normalize:nn,denormalize:Ia};class qe{constructor(e=0,t=0){qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class en{constructor(e,t,i,r,a,o,c,u,h){en.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,c,u,h)}set(e,t,i,r,a,o,c,u,h){const m=this.elements;return m[0]=e,m[1]=r,m[2]=c,m[3]=t,m[4]=a,m[5]=u,m[6]=i,m[7]=o,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],c=i[3],u=i[6],h=i[1],m=i[4],g=i[7],v=i[2],b=i[5],S=i[8],E=r[0],M=r[3],A=r[6],z=r[1],B=r[4],L=r[7],O=r[2],U=r[5],k=r[8];return a[0]=o*E+c*z+u*O,a[3]=o*M+c*B+u*U,a[6]=o*A+c*L+u*k,a[1]=h*E+m*z+g*O,a[4]=h*M+m*B+g*U,a[7]=h*A+m*L+g*k,a[2]=v*E+b*z+S*O,a[5]=v*M+b*B+S*U,a[8]=v*A+b*L+S*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],u=e[6],h=e[7],m=e[8];return t*o*m-t*c*h-i*a*m+i*c*u+r*a*h-r*o*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],u=e[6],h=e[7],m=e[8],g=m*o-c*h,v=c*u-m*a,b=h*a-o*u,S=t*g+i*v+r*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/S;return e[0]=g*E,e[1]=(r*h-m*i)*E,e[2]=(c*i-r*o)*E,e[3]=v*E,e[4]=(m*t-r*u)*E,e[5]=(r*a-c*t)*E,e[6]=b*E,e[7]=(i*u-h*t)*E,e[8]=(o*t-i*a)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,o,c){const u=Math.cos(a),h=Math.sin(a);return this.set(i*u,i*h,-i*(u*o+h*c)+o+e,-r*h,r*u,-r*(-h*o+u*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(EM.makeScale(e,t)),this}rotate(e){return this.premultiply(EM.makeRotation(-e)),this}translate(e,t){return this.premultiply(EM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const EM=new en;function _N(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const BW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fm(n,e){return new BW[n](e)}function T0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function MN(){const n=T0("canvas");return n.style.display="block",n}const mB={};function nS(n){n in mB||(mB[n]=!0,console.warn(n))}function DW(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function zW(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function LW(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const gB=new en().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),yB=new en().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function OW(){const n={enabled:!0,workingColorSpace:Ef,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===$n&&(r.r=su(r.r),r.g=su(r.g),r.b=su(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===$n&&(r.r=vm(r.r),r.g=vm(r.g),r.b=vm(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Jc?M0:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ef]:{primaries:e,whitePoint:i,transfer:M0,toXYZ:gB,fromXYZ:yB,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ya},outputColorSpaceConfig:{drawingBufferColorSpace:ya}},[ya]:{primaries:e,whitePoint:i,transfer:$n,toXYZ:gB,fromXYZ:yB,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ya}}}),n}const Dn=OW();function su(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function vm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let zp;class EN{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{zp===void 0&&(zp=T0("canvas")),zp.width=e.width,zp.height=e.height;const r=zp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=zp}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=T0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=su(a[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(su(t[i]/255)*255):t[i]=su(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let NW=0;class gf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:NW++}),this.uuid=Ps(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,c=r.length;o<c;o++)r[o].isDataTexture?a.push(CM(r[o].image)):a.push(CM(r[o]))}else a=CM(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function CM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?EN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UW=0;class wi extends lc{constructor(e=wi.DEFAULT_IMAGE,t=wi.DEFAULT_MAPPING,i=Ls,r=Ls,a=Hi,o=ho,c=ba,u=ol,h=wi.DEFAULT_ANISOTROPY,m=Jc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UW++}),this.uuid=Ps(),this.name="",this.source=new gf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=h,this.format=c,this.internalFormat=null,this.type=u,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new en,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==OA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mf:e.x=e.x-Math.floor(e.x);break;case Ls:e.x=e.x<0?0:1;break;case Rm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mf:e.y=e.y-Math.floor(e.y);break;case Ls:e.y=e.y<0?0:1;break;case Rm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}wi.DEFAULT_IMAGE=null;wi.DEFAULT_MAPPING=OA;wi.DEFAULT_ANISOTROPY=1;class Un{constructor(e=0,t=0,i=0,r=1){Un.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const u=e.elements,h=u[0],m=u[4],g=u[8],v=u[1],b=u[5],S=u[9],E=u[2],M=u[6],A=u[10];if(Math.abs(m-v)<.01&&Math.abs(g-E)<.01&&Math.abs(S-M)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+E)<.1&&Math.abs(S+M)<.1&&Math.abs(h+b+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(h+1)/2,L=(b+1)/2,O=(A+1)/2,U=(m+v)/4,k=(g+E)/4,F=(S+M)/4;return B>L&&B>O?B<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(B),r=U/i,a=k/i):L>O?L<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(L),i=U/r,a=F/r):O<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(O),i=k/a,r=F/a),this.set(i,r,a,t),this}let z=Math.sqrt((M-S)*(M-S)+(g-E)*(g-E)+(v-m)*(v-m));return Math.abs(z)<.001&&(z=1),this.x=(M-S)/z,this.y=(g-E)/z,this.z=(v-m)/z,this.w=Math.acos((h+b+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this.w=Qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this.w=Qt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class GA extends lc{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Un(0,0,e,t),this.scissorTest=!1,this.viewport=new Un(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new wi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new gf(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ll extends GA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class q0 extends wi{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=Ls,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class PW extends ll{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new q0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class VA extends wi{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=kr,this.minFilter=kr,this.wrapR=Ls,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class IW extends ll{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new VA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class yr{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,o,c){let u=i[r+0],h=i[r+1],m=i[r+2],g=i[r+3];const v=a[o+0],b=a[o+1],S=a[o+2],E=a[o+3];if(c===0){e[t+0]=u,e[t+1]=h,e[t+2]=m,e[t+3]=g;return}if(c===1){e[t+0]=v,e[t+1]=b,e[t+2]=S,e[t+3]=E;return}if(g!==E||u!==v||h!==b||m!==S){let M=1-c;const A=u*v+h*b+m*S+g*E,z=A>=0?1:-1,B=1-A*A;if(B>Number.EPSILON){const O=Math.sqrt(B),U=Math.atan2(O,A*z);M=Math.sin(M*U)/O,c=Math.sin(c*U)/O}const L=c*z;if(u=u*M+v*L,h=h*M+b*L,m=m*M+S*L,g=g*M+E*L,M===1-c){const O=1/Math.sqrt(u*u+h*h+m*m+g*g);u*=O,h*=O,m*=O,g*=O}}e[t]=u,e[t+1]=h,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,o){const c=i[r],u=i[r+1],h=i[r+2],m=i[r+3],g=a[o],v=a[o+1],b=a[o+2],S=a[o+3];return e[t]=c*S+m*g+u*b-h*v,e[t+1]=u*S+m*v+h*g-c*b,e[t+2]=h*S+m*b+c*v-u*g,e[t+3]=m*S-c*g-u*v-h*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,o=e._order,c=Math.cos,u=Math.sin,h=c(i/2),m=c(r/2),g=c(a/2),v=u(i/2),b=u(r/2),S=u(a/2);switch(o){case"XYZ":this._x=v*m*g+h*b*S,this._y=h*b*g-v*m*S,this._z=h*m*S+v*b*g,this._w=h*m*g-v*b*S;break;case"YXZ":this._x=v*m*g+h*b*S,this._y=h*b*g-v*m*S,this._z=h*m*S-v*b*g,this._w=h*m*g+v*b*S;break;case"ZXY":this._x=v*m*g-h*b*S,this._y=h*b*g+v*m*S,this._z=h*m*S+v*b*g,this._w=h*m*g-v*b*S;break;case"ZYX":this._x=v*m*g-h*b*S,this._y=h*b*g+v*m*S,this._z=h*m*S-v*b*g,this._w=h*m*g+v*b*S;break;case"YZX":this._x=v*m*g+h*b*S,this._y=h*b*g+v*m*S,this._z=h*m*S-v*b*g,this._w=h*m*g-v*b*S;break;case"XZY":this._x=v*m*g-h*b*S,this._y=h*b*g-v*m*S,this._z=h*m*S+v*b*g,this._w=h*m*g+v*b*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],o=t[1],c=t[5],u=t[9],h=t[2],m=t[6],g=t[10],v=i+c+g;if(v>0){const b=.5/Math.sqrt(v+1);this._w=.25/b,this._x=(m-u)*b,this._y=(a-h)*b,this._z=(o-r)*b}else if(i>c&&i>g){const b=2*Math.sqrt(1+i-c-g);this._w=(m-u)/b,this._x=.25*b,this._y=(r+o)/b,this._z=(a+h)/b}else if(c>g){const b=2*Math.sqrt(1+c-i-g);this._w=(a-h)/b,this._x=(r+o)/b,this._y=.25*b,this._z=(u+m)/b}else{const b=2*Math.sqrt(1+g-i-c);this._w=(o-r)/b,this._x=(a+h)/b,this._y=(u+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,o=e._w,c=t._x,u=t._y,h=t._z,m=t._w;return this._x=i*m+o*c+r*h-a*u,this._y=r*m+o*u+a*c-i*h,this._z=a*m+o*h+i*u-r*c,this._w=o*m-i*c-r*u-a*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let c=o*e._w+i*e._x+r*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const u=1-c*c;if(u<=Number.EPSILON){const b=1-t;return this._w=b*o+t*this._w,this._x=b*i+t*this._x,this._y=b*r+t*this._y,this._z=b*a+t*this._z,this.normalize(),this}const h=Math.sqrt(u),m=Math.atan2(h,c),g=Math.sin((1-t)*m)/h,v=Math.sin(t*m)/h;return this._w=o*g+this._w*v,this._x=i*g+this._x*v,this._y=r*g+this._y*v,this._z=a*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,i=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(vB.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(vB.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,o=e.y,c=e.z,u=e.w,h=2*(o*r-c*i),m=2*(c*t-a*r),g=2*(a*i-o*t);return this.x=t+u*h+o*g-c*m,this.y=i+u*m+c*h-a*g,this.z=r+u*g+a*m-o*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Qt(this.x,e.x,t.x),this.y=Qt(this.y,e.y,t.y),this.z=Qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Qt(this.x,e,t),this.y=Qt(this.y,e,t),this.z=Qt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,o=t.x,c=t.y,u=t.z;return this.x=r*u-a*c,this.y=a*o-i*u,this.z=i*c-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return TM.copy(this).projectOnVector(e),this.sub(TM)}reflect(e){return this.sub(TM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const TM=new Z,vB=new yr;class Sa{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Jo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Jo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Jo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,Jo):Jo.fromBufferAttribute(a,o),Jo.applyMatrix4(e.matrixWorld),this.expandByPoint(Jo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Zx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Zx.copy(i.boundingBox)),Zx.applyMatrix4(e.matrixWorld),this.union(Zx)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Jo),Jo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(by),Qx.subVectors(this.max,by),Lp.subVectors(e.a,by),Op.subVectors(e.b,by),Np.subVectors(e.c,by),tf.subVectors(Op,Lp),nf.subVectors(Np,Op),Ed.subVectors(Lp,Np);let t=[0,-tf.z,tf.y,0,-nf.z,nf.y,0,-Ed.z,Ed.y,tf.z,0,-tf.x,nf.z,0,-nf.x,Ed.z,0,-Ed.x,-tf.y,tf.x,0,-nf.y,nf.x,0,-Ed.y,Ed.x,0];return!wM(t,Lp,Op,Np,Qx)||(t=[1,0,0,0,1,0,0,0,1],!wM(t,Lp,Op,Np,Qx))?!1:($x.crossVectors(tf,nf),t=[$x.x,$x.y,$x.z],wM(t,Lp,Op,Np,Qx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fc=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],Jo=new Z,Zx=new Sa,Lp=new Z,Op=new Z,Np=new Z,tf=new Z,nf=new Z,Ed=new Z,by=new Z,Qx=new Z,$x=new Z,Cd=new Z;function wM(n,e,t,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){Cd.fromArray(n,a);const c=r.x*Math.abs(Cd.x)+r.y*Math.abs(Cd.y)+r.z*Math.abs(Cd.z),u=e.dot(Cd),h=t.dot(Cd),m=i.dot(Cd);if(Math.max(-Math.max(u,h,m),Math.min(u,h,m))>c)return!1}return!0}const kW=new Sa,Sy=new Z,RM=new Z;class $r{constructor(e=new Z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):kW.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Sy.subVectors(e,this.center);const t=Sy.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Sy,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(RM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Sy.copy(e.center).add(RM)),this.expandByPoint(Sy.copy(e.center).sub(RM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Hc=new Z,BM=new Z,eb=new Z,rf=new Z,DM=new Z,tb=new Z,zM=new Z;class _h{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Hc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Hc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Hc.copy(this.origin).addScaledVector(this.direction,t),Hc.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){BM.copy(e).add(t).multiplyScalar(.5),eb.copy(t).sub(e).normalize(),rf.copy(this.origin).sub(BM);const a=e.distanceTo(t)*.5,o=-this.direction.dot(eb),c=rf.dot(this.direction),u=-rf.dot(eb),h=rf.lengthSq(),m=Math.abs(1-o*o);let g,v,b,S;if(m>0)if(g=o*u-c,v=o*c-u,S=a*m,g>=0)if(v>=-S)if(v<=S){const E=1/m;g*=E,v*=E,b=g*(g+o*v+2*c)+v*(o*g+v+2*u)+h}else v=a,g=Math.max(0,-(o*v+c)),b=-g*g+v*(v+2*u)+h;else v=-a,g=Math.max(0,-(o*v+c)),b=-g*g+v*(v+2*u)+h;else v<=-S?(g=Math.max(0,-(-o*a+c)),v=g>0?-a:Math.min(Math.max(-a,-u),a),b=-g*g+v*(v+2*u)+h):v<=S?(g=0,v=Math.min(Math.max(-a,-u),a),b=v*(v+2*u)+h):(g=Math.max(0,-(o*a+c)),v=g>0?a:Math.min(Math.max(-a,-u),a),b=-g*g+v*(v+2*u)+h);else v=o>0?-a:a,g=Math.max(0,-(o*v+c)),b=-g*g+v*(v+2*u)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(BM).addScaledVector(eb,v),b}intersectSphere(e,t){Hc.subVectors(e.center,this.origin);const i=Hc.dot(this.direction),r=Hc.dot(Hc)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),c=i-o,u=i+o;return u<0?null:c<0?this.at(u,t):this.at(c,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,o,c,u;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return h>=0?(i=(e.min.x-v.x)*h,r=(e.max.x-v.x)*h):(i=(e.max.x-v.x)*h,r=(e.min.x-v.x)*h),m>=0?(a=(e.min.y-v.y)*m,o=(e.max.y-v.y)*m):(a=(e.max.y-v.y)*m,o=(e.min.y-v.y)*m),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),g>=0?(c=(e.min.z-v.z)*g,u=(e.max.z-v.z)*g):(c=(e.max.z-v.z)*g,u=(e.min.z-v.z)*g),i>u||c>r)||((c>i||i!==i)&&(i=c),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Hc)!==null}intersectTriangle(e,t,i,r,a){DM.subVectors(t,e),tb.subVectors(i,e),zM.crossVectors(DM,tb);let o=this.direction.dot(zM),c;if(o>0){if(r)return null;c=1}else if(o<0)c=-1,o=-o;else return null;rf.subVectors(this.origin,e);const u=c*this.direction.dot(tb.crossVectors(rf,tb));if(u<0)return null;const h=c*this.direction.dot(DM.cross(rf));if(h<0||u+h>o)return null;const m=-c*rf.dot(zM);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pt{constructor(e,t,i,r,a,o,c,u,h,m,g,v,b,S,E,M){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,c,u,h,m,g,v,b,S,E,M)}set(e,t,i,r,a,o,c,u,h,m,g,v,b,S,E,M){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=r,A[1]=a,A[5]=o,A[9]=c,A[13]=u,A[2]=h,A[6]=m,A[10]=g,A[14]=v,A[3]=b,A[7]=S,A[11]=E,A[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Up.setFromMatrixColumn(e,0).length(),a=1/Up.setFromMatrixColumn(e,1).length(),o=1/Up.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),c=Math.sin(i),u=Math.cos(r),h=Math.sin(r),m=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=o*m,b=o*g,S=c*m,E=c*g;t[0]=u*m,t[4]=-u*g,t[8]=h,t[1]=b+S*h,t[5]=v-E*h,t[9]=-c*u,t[2]=E-v*h,t[6]=S+b*h,t[10]=o*u}else if(e.order==="YXZ"){const v=u*m,b=u*g,S=h*m,E=h*g;t[0]=v+E*c,t[4]=S*c-b,t[8]=o*h,t[1]=o*g,t[5]=o*m,t[9]=-c,t[2]=b*c-S,t[6]=E+v*c,t[10]=o*u}else if(e.order==="ZXY"){const v=u*m,b=u*g,S=h*m,E=h*g;t[0]=v-E*c,t[4]=-o*g,t[8]=S+b*c,t[1]=b+S*c,t[5]=o*m,t[9]=E-v*c,t[2]=-o*h,t[6]=c,t[10]=o*u}else if(e.order==="ZYX"){const v=o*m,b=o*g,S=c*m,E=c*g;t[0]=u*m,t[4]=S*h-b,t[8]=v*h+E,t[1]=u*g,t[5]=E*h+v,t[9]=b*h-S,t[2]=-h,t[6]=c*u,t[10]=o*u}else if(e.order==="YZX"){const v=o*u,b=o*h,S=c*u,E=c*h;t[0]=u*m,t[4]=E-v*g,t[8]=S*g+b,t[1]=g,t[5]=o*m,t[9]=-c*m,t[2]=-h*m,t[6]=b*g+S,t[10]=v-E*g}else if(e.order==="XZY"){const v=o*u,b=o*h,S=c*u,E=c*h;t[0]=u*m,t[4]=-g,t[8]=h*m,t[1]=v*g+E,t[5]=o*m,t[9]=b*g-S,t[2]=S*g-b,t[6]=c*m,t[10]=E*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(FW,e,HW)}lookAt(e,t,i){const r=this.elements;return Rs.subVectors(e,t),Rs.lengthSq()===0&&(Rs.z=1),Rs.normalize(),af.crossVectors(i,Rs),af.lengthSq()===0&&(Math.abs(i.z)===1?Rs.x+=1e-4:Rs.z+=1e-4,Rs.normalize(),af.crossVectors(i,Rs)),af.normalize(),nb.crossVectors(Rs,af),r[0]=af.x,r[4]=nb.x,r[8]=Rs.x,r[1]=af.y,r[5]=nb.y,r[9]=Rs.y,r[2]=af.z,r[6]=nb.z,r[10]=Rs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],c=i[4],u=i[8],h=i[12],m=i[1],g=i[5],v=i[9],b=i[13],S=i[2],E=i[6],M=i[10],A=i[14],z=i[3],B=i[7],L=i[11],O=i[15],U=r[0],k=r[4],F=r[8],P=r[12],w=r[1],G=r[5],ee=r[9],q=r[13],$=r[2],ae=r[6],J=r[10],re=r[14],Q=r[3],de=r[7],Y=r[11],te=r[15];return a[0]=o*U+c*w+u*$+h*Q,a[4]=o*k+c*G+u*ae+h*de,a[8]=o*F+c*ee+u*J+h*Y,a[12]=o*P+c*q+u*re+h*te,a[1]=m*U+g*w+v*$+b*Q,a[5]=m*k+g*G+v*ae+b*de,a[9]=m*F+g*ee+v*J+b*Y,a[13]=m*P+g*q+v*re+b*te,a[2]=S*U+E*w+M*$+A*Q,a[6]=S*k+E*G+M*ae+A*de,a[10]=S*F+E*ee+M*J+A*Y,a[14]=S*P+E*q+M*re+A*te,a[3]=z*U+B*w+L*$+O*Q,a[7]=z*k+B*G+L*ae+O*de,a[11]=z*F+B*ee+L*J+O*Y,a[15]=z*P+B*q+L*re+O*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],o=e[1],c=e[5],u=e[9],h=e[13],m=e[2],g=e[6],v=e[10],b=e[14],S=e[3],E=e[7],M=e[11],A=e[15];return S*(+a*u*g-r*h*g-a*c*v+i*h*v+r*c*b-i*u*b)+E*(+t*u*b-t*h*v+a*o*v-r*o*b+r*h*m-a*u*m)+M*(+t*h*g-t*c*b-a*o*g+i*o*b+a*c*m-i*h*m)+A*(-r*c*m-t*u*g+t*c*v+r*o*g-i*o*v+i*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],u=e[6],h=e[7],m=e[8],g=e[9],v=e[10],b=e[11],S=e[12],E=e[13],M=e[14],A=e[15],z=g*M*h-E*v*h+E*u*b-c*M*b-g*u*A+c*v*A,B=S*v*h-m*M*h-S*u*b+o*M*b+m*u*A-o*v*A,L=m*E*h-S*g*h+S*c*b-o*E*b-m*c*A+o*g*A,O=S*g*u-m*E*u-S*c*v+o*E*v+m*c*M-o*g*M,U=t*z+i*B+r*L+a*O;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/U;return e[0]=z*k,e[1]=(E*v*a-g*M*a-E*r*b+i*M*b+g*r*A-i*v*A)*k,e[2]=(c*M*a-E*u*a+E*r*h-i*M*h-c*r*A+i*u*A)*k,e[3]=(g*u*a-c*v*a-g*r*h+i*v*h+c*r*b-i*u*b)*k,e[4]=B*k,e[5]=(m*M*a-S*v*a+S*r*b-t*M*b-m*r*A+t*v*A)*k,e[6]=(S*u*a-o*M*a-S*r*h+t*M*h+o*r*A-t*u*A)*k,e[7]=(o*v*a-m*u*a+m*r*h-t*v*h-o*r*b+t*u*b)*k,e[8]=L*k,e[9]=(S*g*a-m*E*a-S*i*b+t*E*b+m*i*A-t*g*A)*k,e[10]=(o*E*a-S*c*a+S*i*h-t*E*h-o*i*A+t*c*A)*k,e[11]=(m*c*a-o*g*a-m*i*h+t*g*h+o*i*b-t*c*b)*k,e[12]=O*k,e[13]=(m*E*r-S*g*r+S*i*v-t*E*v-m*i*M+t*g*M)*k,e[14]=(S*c*r-o*E*r-S*i*u+t*E*u+o*i*M-t*c*M)*k,e[15]=(o*g*r-m*c*r+m*i*u-t*g*u-o*i*v+t*c*v)*k,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,o=e.x,c=e.y,u=e.z,h=a*o,m=a*c;return this.set(h*o+i,h*c-r*u,h*u+r*c,0,h*c+r*u,m*c+i,m*u-r*o,0,h*u-r*c,m*u+r*o,a*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,o=t._y,c=t._z,u=t._w,h=a+a,m=o+o,g=c+c,v=a*h,b=a*m,S=a*g,E=o*m,M=o*g,A=c*g,z=u*h,B=u*m,L=u*g,O=i.x,U=i.y,k=i.z;return r[0]=(1-(E+A))*O,r[1]=(b+L)*O,r[2]=(S-B)*O,r[3]=0,r[4]=(b-L)*U,r[5]=(1-(v+A))*U,r[6]=(M+z)*U,r[7]=0,r[8]=(S+B)*k,r[9]=(M-z)*k,r[10]=(1-(v+E))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Up.set(r[0],r[1],r[2]).length();const o=Up.set(r[4],r[5],r[6]).length(),c=Up.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Zo.copy(this);const h=1/a,m=1/o,g=1/c;return Zo.elements[0]*=h,Zo.elements[1]*=h,Zo.elements[2]*=h,Zo.elements[4]*=m,Zo.elements[5]*=m,Zo.elements[6]*=m,Zo.elements[8]*=g,Zo.elements[9]*=g,Zo.elements[10]*=g,t.setFromRotationMatrix(Zo),i.x=a,i.y=o,i.z=c,this}makePerspective(e,t,i,r,a,o,c=il){const u=this.elements,h=2*a/(t-e),m=2*a/(i-r),g=(t+e)/(t-e),v=(i+r)/(i-r);let b,S;if(c===il)b=-(o+a)/(o-a),S=-2*o*a/(o-a);else if(c===C0)b=-o/(o-a),S=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return u[0]=h,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=m,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=b,u[14]=S,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,a,o,c=il){const u=this.elements,h=1/(t-e),m=1/(i-r),g=1/(o-a),v=(t+e)*h,b=(i+r)*m;let S,E;if(c===il)S=(o+a)*g,E=-2*g;else if(c===C0)S=a*g,E=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-b,u[2]=0,u[6]=0,u[10]=E,u[14]=-S,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Up=new Z,Zo=new Pt,FW=new Z(0,0,0),HW=new Z(1,1,1),af=new Z,nb=new Z,Rs=new Z,xB=new Pt,bB=new yr;class Is{constructor(e=0,t=0,i=0,r=Is.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],c=r[8],u=r[1],h=r[5],m=r[9],g=r[2],v=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(Qt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(v,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(u,h)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Qt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,b),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(Qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-Qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,h),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return xB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xB,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return bB.setFromEuler(this),this.setFromQuaternion(bB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Is.DEFAULT_ORDER="XYZ";class Pm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jW=0;const SB=new Z,Pp=new yr,jc=new Pt,ib=new Z,Ay=new Z,GW=new Z,VW=new yr,AB=new Z(1,0,0),_B=new Z(0,1,0),MB=new Z(0,0,1),EB={type:"added"},XW={type:"removed"},Ip={type:"childadded",child:null},LM={type:"childremoved",child:null};class En extends lc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jW++}),this.uuid=Ps(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=En.DEFAULT_UP.clone();const e=new Z,t=new Is,i=new yr,r=new Z(1,1,1);function a(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Pt},normalMatrix:{value:new en}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=En.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Pm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Pp.setFromAxisAngle(e,t),this.quaternion.multiply(Pp),this}rotateOnWorldAxis(e,t){return Pp.setFromAxisAngle(e,t),this.quaternion.premultiply(Pp),this}rotateX(e){return this.rotateOnAxis(AB,e)}rotateY(e){return this.rotateOnAxis(_B,e)}rotateZ(e){return this.rotateOnAxis(MB,e)}translateOnAxis(e,t){return SB.copy(e).applyQuaternion(this.quaternion),this.position.add(SB.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(AB,e)}translateY(e){return this.translateOnAxis(_B,e)}translateZ(e){return this.translateOnAxis(MB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(jc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?ib.copy(e):ib.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ay.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?jc.lookAt(Ay,ib,this.up):jc.lookAt(ib,Ay,this.up),this.quaternion.setFromRotationMatrix(jc),r&&(jc.extractRotation(r.matrixWorld),Pp.setFromRotationMatrix(jc),this.quaternion.premultiply(Pp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(EB),Ip.child=e,this.dispatchEvent(Ip),Ip.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(XW),LM.child=e,this.dispatchEvent(LM),LM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),jc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),jc.multiply(e.parent.matrixWorld)),e.applyMatrix4(jc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(EB),Ip.child=e,this.dispatchEvent(Ip),Ip.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ay,e,GW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ay,VW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(c=>({boxInitialized:c.boxInitialized,boxMin:c.box.min.toArray(),boxMax:c.box.max.toArray(),sphereInitialized:c.sphereInitialized,sphereRadius:c.sphere.radius,sphereCenter:c.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function a(c,u){return c[u.uuid]===void 0&&(c[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const u=c.shapes;if(Array.isArray(u))for(let h=0,m=u.length;h<m;h++){const g=u[h];a(e.shapes,g)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let u=0,h=this.material.length;u<h;u++)c.push(a(e.materials,this.material[u]));r.material=c}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const u=this.animations[c];r.animations.push(a(e.animations,u))}}if(t){const c=o(e.geometries),u=o(e.materials),h=o(e.textures),m=o(e.images),g=o(e.shapes),v=o(e.skeletons),b=o(e.animations),S=o(e.nodes);c.length>0&&(i.geometries=c),u.length>0&&(i.materials=u),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),b.length>0&&(i.animations=b),S.length>0&&(i.nodes=S)}return i.object=r,i;function o(c){const u=[];for(const h in c){const m=c[h];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}En.DEFAULT_UP=new Z(0,1,0);En.DEFAULT_MATRIX_AUTO_UPDATE=!0;En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qo=new Z,Gc=new Z,OM=new Z,Vc=new Z,kp=new Z,Fp=new Z,CB=new Z,NM=new Z,UM=new Z,PM=new Z,IM=new Un,kM=new Un,FM=new Un;class ls{constructor(e=new Z,t=new Z,i=new Z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Qo.subVectors(e,t),r.cross(Qo);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){Qo.subVectors(r,t),Gc.subVectors(i,t),OM.subVectors(e,t);const o=Qo.dot(Qo),c=Qo.dot(Gc),u=Qo.dot(OM),h=Gc.dot(Gc),m=Gc.dot(OM),g=o*h-c*c;if(g===0)return a.set(0,0,0),null;const v=1/g,b=(h*u-c*m)*v,S=(o*m-c*u)*v;return a.set(1-b-S,S,b)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Vc)===null?!1:Vc.x>=0&&Vc.y>=0&&Vc.x+Vc.y<=1}static getInterpolation(e,t,i,r,a,o,c,u){return this.getBarycoord(e,t,i,r,Vc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Vc.x),u.addScaledVector(o,Vc.y),u.addScaledVector(c,Vc.z),u)}static getInterpolatedAttribute(e,t,i,r,a,o){return IM.setScalar(0),kM.setScalar(0),FM.setScalar(0),IM.fromBufferAttribute(e,t),kM.fromBufferAttribute(e,i),FM.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(IM,a.x),o.addScaledVector(kM,a.y),o.addScaledVector(FM,a.z),o}static isFrontFacing(e,t,i,r){return Qo.subVectors(i,t),Gc.subVectors(e,t),Qo.cross(Gc).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qo.subVectors(this.c,this.b),Gc.subVectors(this.a,this.b),Qo.cross(Gc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ls.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ls.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return ls.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return ls.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ls.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let o,c;kp.subVectors(r,i),Fp.subVectors(a,i),NM.subVectors(e,i);const u=kp.dot(NM),h=Fp.dot(NM);if(u<=0&&h<=0)return t.copy(i);UM.subVectors(e,r);const m=kp.dot(UM),g=Fp.dot(UM);if(m>=0&&g<=m)return t.copy(r);const v=u*g-m*h;if(v<=0&&u>=0&&m<=0)return o=u/(u-m),t.copy(i).addScaledVector(kp,o);PM.subVectors(e,a);const b=kp.dot(PM),S=Fp.dot(PM);if(S>=0&&b<=S)return t.copy(a);const E=b*h-u*S;if(E<=0&&h>=0&&S<=0)return c=h/(h-S),t.copy(i).addScaledVector(Fp,c);const M=m*S-b*g;if(M<=0&&g-m>=0&&b-S>=0)return CB.subVectors(a,r),c=(g-m)/(g-m+(b-S)),t.copy(r).addScaledVector(CB,c);const A=1/(M+E+v);return o=E*A,c=v*A,t.copy(i).addScaledVector(kp,o).addScaledVector(Fp,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const CN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sf={h:0,s:0,l:0},rb={h:0,s:0,l:0};function HM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class bt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ya){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Dn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Dn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Dn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Dn.workingColorSpace){if(e=oT(e,1),t=Qt(t,0,1),i=Qt(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,o=2*i-a;this.r=HM(o,a,e+1/3),this.g=HM(o,a,e),this.b=HM(o,a,e-1/3)}return Dn.toWorkingColorSpace(this,r),this}setStyle(e,t=ya){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],c=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ya){const i=CN[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=su(e.r),this.g=su(e.g),this.b=su(e.b),this}copyLinearToSRGB(e){return this.r=vm(e.r),this.g=vm(e.g),this.b=vm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ya){return Dn.fromWorkingColorSpace(ha.copy(this),e),Math.round(Qt(ha.r*255,0,255))*65536+Math.round(Qt(ha.g*255,0,255))*256+Math.round(Qt(ha.b*255,0,255))}getHexString(e=ya){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Dn.workingColorSpace){Dn.fromWorkingColorSpace(ha.copy(this),t);const i=ha.r,r=ha.g,a=ha.b,o=Math.max(i,r,a),c=Math.min(i,r,a);let u,h;const m=(c+o)/2;if(c===o)u=0,h=0;else{const g=o-c;switch(h=m<=.5?g/(o+c):g/(2-o-c),o){case i:u=(r-a)/g+(r<a?6:0);break;case r:u=(a-i)/g+2;break;case a:u=(i-r)/g+4;break}u/=6}return e.h=u,e.s=h,e.l=m,e}getRGB(e,t=Dn.workingColorSpace){return Dn.fromWorkingColorSpace(ha.copy(this),t),e.r=ha.r,e.g=ha.g,e.b=ha.b,e}getStyle(e=ya){Dn.fromWorkingColorSpace(ha.copy(this),e);const t=ha.r,i=ha.g,r=ha.b;return e!==ya?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(sf),this.setHSL(sf.h+e,sf.s+t,sf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(sf),e.getHSL(rb);const i=e0(sf.h,rb.h,t),r=e0(sf.s,rb.s,t),a=e0(sf.l,rb.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ha=new bt;bt.NAMES=CN;let WW=0;class _r extends lc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WW++}),this.uuid=Ps(),this.name="",this.type="Material",this.blending=oh,this.side=oc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=xS,this.blendDst=bS,this.blendEquation=ff,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=hh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vd,this.stencilZFail=Vd,this.stencilZPass=Vd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==oh&&(i.blending=this.blending),this.side!==oc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==xS&&(i.blendSrc=this.blendSrc),this.blendDst!==bS&&(i.blendDst=this.blendDst),this.blendEquation!==ff&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==hh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AE&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Vd&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Vd&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Vd&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const c in a){const u=a[c];delete u.metadata,o.push(u)}return o}if(t){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Os extends _r{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=Y0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Zc=YW();function YW(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const h=u-127;h<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):h<-14?(i[u]=1024>>-h-14,i[u|256]=1024>>-h-14|32768,r[u]=-h-1,r[u|256]=-h-1):h<=15?(i[u]=h+15<<10,i[u|256]=h+15<<10|32768,r[u]=13,r[u|256]=13):h<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let u=1;u<1024;++u){let h=u<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,a[u]=h|m}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(c[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:c}}function os(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Qt(n,-65504,65504),Zc.floatView[0]=n;const e=Zc.uint32View[0],t=e>>23&511;return Zc.baseTable[t]+((e&8388607)>>Zc.shiftTable[t])}function Iy(n){const e=n>>10;return Zc.uint32View[0]=Zc.mantissaTable[Zc.offsetTable[e]+(n&1023)]+Zc.exponentTable[e],Zc.floatView[0]}class KW{static toHalfFloat(e){return os(e)}static fromHalfFloat(e){return Iy(e)}}const mr=new Z,ab=new qe;let qW=0;class Pn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qW++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=E0,this.updateRanges=[],this.gpuType=Ha,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ab.fromBufferAttribute(this,t),ab.applyMatrix3(e),this.setXY(t,ab.x,ab.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.applyMatrix3(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.applyMatrix4(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.applyNormalMatrix(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)mr.fromBufferAttribute(this,t),mr.transformDirection(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ia(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=nn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ia(t,this.array)),t}setX(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ia(t,this.array)),t}setY(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ia(t,this.array)),t}setZ(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ia(t,this.array)),t}setW(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==E0&&(e.usage=this.usage),e}}class JW extends Pn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class ZW extends Pn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class QW extends Pn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class $W extends Pn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class lT extends Pn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class eY extends Pn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class cT extends Pn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class tY extends Pn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Iy(this.array[e*this.itemSize]);return this.normalized&&(t=Ia(t,this.array)),t}setX(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize]=os(t),this}getY(e){let t=Iy(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ia(t,this.array)),t}setY(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize+1]=os(t),this}getZ(e){let t=Iy(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ia(t,this.array)),t}setZ(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize+2]=os(t),this}getW(e){let t=Iy(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ia(t,this.array)),t}setW(e,t){return this.normalized&&(t=nn(t,this.array)),this.array[e*this.itemSize+3]=os(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array)),this.array[e+0]=os(t),this.array[e+1]=os(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[e+0]=os(t),this.array[e+1]=os(i),this.array[e+2]=os(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.array[e+0]=os(t),this.array[e+1]=os(i),this.array[e+2]=os(r),this.array[e+3]=os(a),this}}class Bt extends Pn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let nY=0;const io=new Pt,jM=new En,Hp=new Z,Bs=new Sa,_y=new Sa,Pr=new Z;class tn extends lc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nY++}),this.uuid=Ps(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(_N(e)?cT:lT)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new en().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return io.makeRotationFromQuaternion(e),this.applyMatrix4(io),this}rotateX(e){return io.makeRotationX(e),this.applyMatrix4(io),this}rotateY(e){return io.makeRotationY(e),this.applyMatrix4(io),this}rotateZ(e){return io.makeRotationZ(e),this.applyMatrix4(io),this}translate(e,t,i){return io.makeTranslation(e,t,i),this.applyMatrix4(io),this}scale(e,t,i){return io.makeScale(e,t,i),this.applyMatrix4(io),this}lookAt(e){return jM.lookAt(e),jM.updateMatrix(),this.applyMatrix4(jM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hp).negate(),this.translate(Hp.x,Hp.y,Hp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Bt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];Bs.setFromBufferAttribute(a),this.morphTargetsRelative?(Pr.addVectors(this.boundingBox.min,Bs.min),this.boundingBox.expandByPoint(Pr),Pr.addVectors(this.boundingBox.max,Bs.max),this.boundingBox.expandByPoint(Pr)):(this.boundingBox.expandByPoint(Bs.min),this.boundingBox.expandByPoint(Bs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(e){const i=this.boundingSphere.center;if(Bs.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];_y.setFromBufferAttribute(c),this.morphTargetsRelative?(Pr.addVectors(Bs.min,_y.min),Bs.expandByPoint(Pr),Pr.addVectors(Bs.max,_y.max),Bs.expandByPoint(Pr)):(Bs.expandByPoint(_y.min),Bs.expandByPoint(_y.max))}Bs.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)Pr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Pr));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],u=this.morphTargetsRelative;for(let h=0,m=c.count;h<m;h++)Pr.fromBufferAttribute(c,h),u&&(Hp.fromBufferAttribute(e,h),Pr.add(Hp)),r=Math.max(r,i.distanceToSquared(Pr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],u=[];for(let F=0;F<i.count;F++)c[F]=new Z,u[F]=new Z;const h=new Z,m=new Z,g=new Z,v=new qe,b=new qe,S=new qe,E=new Z,M=new Z;function A(F,P,w){h.fromBufferAttribute(i,F),m.fromBufferAttribute(i,P),g.fromBufferAttribute(i,w),v.fromBufferAttribute(a,F),b.fromBufferAttribute(a,P),S.fromBufferAttribute(a,w),m.sub(h),g.sub(h),b.sub(v),S.sub(v);const G=1/(b.x*S.y-S.x*b.y);isFinite(G)&&(E.copy(m).multiplyScalar(S.y).addScaledVector(g,-b.y).multiplyScalar(G),M.copy(g).multiplyScalar(b.x).addScaledVector(m,-S.x).multiplyScalar(G),c[F].add(E),c[P].add(E),c[w].add(E),u[F].add(M),u[P].add(M),u[w].add(M))}let z=this.groups;z.length===0&&(z=[{start:0,count:e.count}]);for(let F=0,P=z.length;F<P;++F){const w=z[F],G=w.start,ee=w.count;for(let q=G,$=G+ee;q<$;q+=3)A(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const B=new Z,L=new Z,O=new Z,U=new Z;function k(F){O.fromBufferAttribute(r,F),U.copy(O);const P=c[F];B.copy(P),B.sub(O.multiplyScalar(O.dot(P))).normalize(),L.crossVectors(U,P);const G=L.dot(u[F])<0?-1:1;o.setXYZW(F,B.x,B.y,B.z,G)}for(let F=0,P=z.length;F<P;++F){const w=z[F],G=w.start,ee=w.count;for(let q=G,$=G+ee;q<$;q+=3)k(e.getX(q+0)),k(e.getX(q+1)),k(e.getX(q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Pn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,b=i.count;v<b;v++)i.setXYZ(v,0,0,0);const r=new Z,a=new Z,o=new Z,c=new Z,u=new Z,h=new Z,m=new Z,g=new Z;if(e)for(let v=0,b=e.count;v<b;v+=3){const S=e.getX(v+0),E=e.getX(v+1),M=e.getX(v+2);r.fromBufferAttribute(t,S),a.fromBufferAttribute(t,E),o.fromBufferAttribute(t,M),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),c.fromBufferAttribute(i,S),u.fromBufferAttribute(i,E),h.fromBufferAttribute(i,M),c.add(m),u.add(m),h.add(m),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(E,u.x,u.y,u.z),i.setXYZ(M,h.x,h.y,h.z)}else for(let v=0,b=t.count;v<b;v+=3)r.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),o.fromBufferAttribute(t,v+2),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),i.setXYZ(v+0,m.x,m.y,m.z),i.setXYZ(v+1,m.x,m.y,m.z),i.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Pr.fromBufferAttribute(e,t),Pr.normalize(),e.setXYZ(t,Pr.x,Pr.y,Pr.z)}toNonIndexed(){function e(c,u){const h=c.array,m=c.itemSize,g=c.normalized,v=new h.constructor(u.length*m);let b=0,S=0;for(let E=0,M=u.length;E<M;E++){c.isInterleavedBufferAttribute?b=u[E]*c.data.stride+c.offset:b=u[E]*m;for(let A=0;A<m;A++)v[S++]=h[b++]}return new Pn(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tn,i=this.index.array,r=this.attributes;for(const c in r){const u=r[c],h=e(u,i);t.setAttribute(c,h)}const a=this.morphAttributes;for(const c in a){const u=[],h=a[c];for(let m=0,g=h.length;m<g;m++){const v=h[m],b=e(v,i);u.push(b)}t.morphAttributes[c]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const h in u)u[h]!==void 0&&(e[h]=u[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const h=i[u];e.data.attributes[u]=h.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],m=[];for(let g=0,v=h.length;g<v;g++){const b=h[g];m.push(b.toJSON(e.data))}m.length>0&&(r[u]=m,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const h in r){const m=r[h];this.setAttribute(h,m.clone(t))}const a=e.morphAttributes;for(const h in a){const m=[],g=a[h];for(let v=0,b=g.length;v<b;v++)m.push(g[v].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,m=o.length;h<m;h++){const g=o[h];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const TB=new Pt,Td=new _h,sb=new $r,wB=new Z,ob=new Z,lb=new Z,cb=new Z,GM=new Z,ub=new Z,RB=new Z,fb=new Z;class nr extends En{constructor(e=new tn,t=new Os){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(a&&c){ub.set(0,0,0);for(let u=0,h=a.length;u<h;u++){const m=c[u],g=a[u];m!==0&&(GM.fromBufferAttribute(g,e),o?ub.addScaledVector(GM,m):ub.addScaledVector(GM.sub(t),m))}t.add(ub)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),sb.copy(i.boundingSphere),sb.applyMatrix4(a),Td.copy(e.ray).recast(e.near),!(sb.containsPoint(Td.origin)===!1&&(Td.intersectSphere(sb,wB)===null||Td.origin.distanceToSquared(wB)>(e.far-e.near)**2))&&(TB.copy(a).invert(),Td.copy(e.ray).applyMatrix4(TB),!(i.boundingBox!==null&&Td.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Td)))}_computeIntersections(e,t,i){let r;const a=this.geometry,o=this.material,c=a.index,u=a.attributes.position,h=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,v=a.groups,b=a.drawRange;if(c!==null)if(Array.isArray(o))for(let S=0,E=v.length;S<E;S++){const M=v[S],A=o[M.materialIndex],z=Math.max(M.start,b.start),B=Math.min(c.count,Math.min(M.start+M.count,b.start+b.count));for(let L=z,O=B;L<O;L+=3){const U=c.getX(L),k=c.getX(L+1),F=c.getX(L+2);r=db(this,A,e,i,h,m,g,U,k,F),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const S=Math.max(0,b.start),E=Math.min(c.count,b.start+b.count);for(let M=S,A=E;M<A;M+=3){const z=c.getX(M),B=c.getX(M+1),L=c.getX(M+2);r=db(this,o,e,i,h,m,g,z,B,L),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}else if(u!==void 0)if(Array.isArray(o))for(let S=0,E=v.length;S<E;S++){const M=v[S],A=o[M.materialIndex],z=Math.max(M.start,b.start),B=Math.min(u.count,Math.min(M.start+M.count,b.start+b.count));for(let L=z,O=B;L<O;L+=3){const U=L,k=L+1,F=L+2;r=db(this,A,e,i,h,m,g,U,k,F),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const S=Math.max(0,b.start),E=Math.min(u.count,b.start+b.count);for(let M=S,A=E;M<A;M+=3){const z=M,B=M+1,L=M+2;r=db(this,o,e,i,h,m,g,z,B,L),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}}function iY(n,e,t,i,r,a,o,c){let u;if(e.side===Ga?u=i.intersectTriangle(o,a,r,!0,c):u=i.intersectTriangle(r,a,o,e.side===oc,c),u===null)return null;fb.copy(c),fb.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(fb);return h<t.near||h>t.far?null:{distance:h,point:fb.clone(),object:n}}function db(n,e,t,i,r,a,o,c,u,h){n.getVertexPosition(c,ob),n.getVertexPosition(u,lb),n.getVertexPosition(h,cb);const m=iY(n,e,t,i,ob,lb,cb,RB);if(m){const g=new Z;ls.getBarycoord(RB,ob,lb,cb,g),r&&(m.uv=ls.getInterpolatedAttribute(r,c,u,h,g,new qe)),a&&(m.uv1=ls.getInterpolatedAttribute(a,c,u,h,g,new qe)),o&&(m.normal=ls.getInterpolatedAttribute(o,c,u,h,g,new Z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const v={a:c,b:u,c:h,normal:new Z,materialIndex:0};ls.getNormal(ob,lb,cb,v.normal),m.face=v,m.barycoord=g}return m}class Mh extends tn{constructor(e=1,t=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const c=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const u=[],h=[],m=[],g=[];let v=0,b=0;S("z","y","x",-1,-1,i,t,e,o,a,0),S("z","y","x",1,-1,i,t,-e,o,a,1),S("x","z","y",1,1,e,i,t,r,o,2),S("x","z","y",1,-1,e,i,-t,r,o,3),S("x","y","z",1,-1,e,t,i,r,a,4),S("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new Bt(h,3)),this.setAttribute("normal",new Bt(m,3)),this.setAttribute("uv",new Bt(g,2));function S(E,M,A,z,B,L,O,U,k,F,P){const w=L/k,G=O/F,ee=L/2,q=O/2,$=U/2,ae=k+1,J=F+1;let re=0,Q=0;const de=new Z;for(let Y=0;Y<J;Y++){const te=Y*G-q;for(let Ce=0;Ce<ae;Ce++){const He=Ce*w-ee;de[E]=He*z,de[M]=te*B,de[A]=$,h.push(de.x,de.y,de.z),de[E]=0,de[M]=0,de[A]=U>0?1:-1,m.push(de.x,de.y,de.z),g.push(Ce/k),g.push(1-Y/F),re+=1}}for(let Y=0;Y<F;Y++)for(let te=0;te<k;te++){const Ce=v+te+ae*Y,He=v+te+ae*(Y+1),se=v+(te+1)+ae*(Y+1),we=v+(te+1)+ae*Y;u.push(Ce,He,we),u.push(He,se,we),Q+=6}c.addGroup(b,Q,P),b+=Q,v+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Im(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Na(n){const e={};for(let t=0;t<n.length;t++){const i=Im(n[t]);for(const r in i)e[r]=i[r]}return e}function rY(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function TN(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Dn.workingColorSpace}const wN={clone:Im,merge:Na};var aY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,sY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class cl extends _r{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=aY,this.fragmentShader=sY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Im(e.uniforms),this.uniformsGroups=rY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class XA extends En{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt,this.coordinateSystem=il}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const of=new Z,BB=new qe,DB=new qe;class Ti extends XA{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Um*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Um*2*Math.atan(Math.tan(lh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){of.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(of.x,of.y).multiplyScalar(-e/of.z),of.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(of.x,of.y).multiplyScalar(-e/of.z)}getViewSize(e,t){return this.getViewBounds(e,BB,DB),t.subVectors(DB,BB)}setViewOffset(e,t,i,r,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(lh*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,h=o.fullHeight;a+=o.offsetX*r/u,t-=o.offsetY*i/h,r*=o.width/u,i*=o.height/h}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const jp=-90,Gp=1;class RN extends En{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ti(jp,Gp,e,t);r.layers=this.layers,this.add(r);const a=new Ti(jp,Gp,e,t);a.layers=this.layers,this.add(a);const o=new Ti(jp,Gp,e,t);o.layers=this.layers,this.add(o);const c=new Ti(jp,Gp,e,t);c.layers=this.layers,this.add(c);const u=new Ti(jp,Gp,e,t);u.layers=this.layers,this.add(u);const h=new Ti(jp,Gp,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,o,c,u]=t;for(const h of t)this.remove(h);if(e===il)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===C0)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,u,h,m]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const E=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,c),e.setRenderTarget(i,3,r),e.render(t,u),e.setRenderTarget(i,4,r),e.render(t,h),i.texture.generateMipmaps=E,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(g,v,b),e.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class J0 extends wi{constructor(e=[],t=uu,i,r,a,o,c,u,h,m){super(e,t,i,r,a,o,c,u,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class BN extends ll{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new J0(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Hi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Mh(5,5,5),a=new cl({name:"CubemapFromEquirect",uniforms:Im(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ga,blending:au});a.uniforms.tEquirect.value=t;const o=new nr(r,a),c=t.minFilter;return t.minFilter===ho&&(t.minFilter=Hi),new RN(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(a)}}class $c extends En{constructor(){super(),this.isGroup=!0,this.type="Group"}}const oY={type:"move"};class iS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $c,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $c,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $c,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,o=null;const c=this._targetRay,u=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){o=!0;for(const E of e.hand.values()){const M=t.getJointPose(E,i),A=this._getHandJoint(h,E);M!==null&&(A.matrix.fromArray(M.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=M.radius),A.visible=M!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],v=m.position.distanceTo(g.position),b=.02,S=.005;h.inputState.pinching&&v>b+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&v<=b-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(oY)))}return c!==null&&(c.visible=r!==null),u!==null&&(u.visible=a!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new $c;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class WA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bt(e),this.density=t}clone(){return new WA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class YA{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new bt(e),this.near=t,this.far=i}clone(){return new YA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let KA=class extends En{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Is,this.environmentIntensity=1,this.environmentRotation=new Is,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class Z0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=E0,this.updateRanges=[],this.version=0,this.uuid=Ps()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oa=new Z;class Cf{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Oa.fromBufferAttribute(this,t),Oa.applyMatrix4(e),this.setXYZ(t,Oa.x,Oa.y,Oa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Oa.fromBufferAttribute(this,t),Oa.applyNormalMatrix(e),this.setXYZ(t,Oa.x,Oa.y,Oa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Oa.fromBufferAttribute(this,t),Oa.transformDirection(e),this.setXYZ(t,Oa.x,Oa.y,Oa.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ia(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=nn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=nn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=nn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=nn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=nn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ia(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ia(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ia(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ia(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=nn(t,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Pn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class uT extends _r{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vp;const My=new Z,Xp=new Z,Wp=new Z,Yp=new qe,Ey=new qe,DN=new Pt,hb=new Z,Cy=new Z,pb=new Z,zB=new qe,VM=new qe,LB=new qe;class zN extends En{constructor(e=new uT){if(super(),this.isSprite=!0,this.type="Sprite",Vp===void 0){Vp=new tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Z0(t,5);Vp.setIndex([0,1,2,0,2,3]),Vp.setAttribute("position",new Cf(i,3,0,!1)),Vp.setAttribute("uv",new Cf(i,2,3,!1))}this.geometry=Vp,this.material=e,this.center=new qe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xp.setFromMatrixScale(this.matrixWorld),DN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Wp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xp.multiplyScalar(-Wp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;mb(hb.set(-.5,-.5,0),Wp,o,Xp,r,a),mb(Cy.set(.5,-.5,0),Wp,o,Xp,r,a),mb(pb.set(.5,.5,0),Wp,o,Xp,r,a),zB.set(0,0),VM.set(1,0),LB.set(1,1);let c=e.ray.intersectTriangle(hb,Cy,pb,!1,My);if(c===null&&(mb(Cy.set(-.5,.5,0),Wp,o,Xp,r,a),VM.set(0,1),c=e.ray.intersectTriangle(hb,pb,Cy,!1,My),c===null))return;const u=e.ray.origin.distanceTo(My);u<e.near||u>e.far||t.push({distance:u,point:My.clone(),uv:ls.getInterpolation(My,hb,Cy,pb,zB,VM,LB,new qe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function mb(n,e,t,i,r,a){Yp.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Ey.x=a*Yp.x-r*Yp.y,Ey.y=r*Yp.x+a*Yp.y):Ey.copy(Yp),n.copy(e),n.x+=Ey.x,n.y+=Ey.y,n.applyMatrix4(DN)}const gb=new Z,OB=new Z;class LN extends En{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){gb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(gb);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){gb.setFromMatrixPosition(e.matrixWorld),OB.setFromMatrixPosition(this.matrixWorld);const i=gb.distanceTo(OB)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const NB=new Z,UB=new Un,PB=new Un,lY=new Z,IB=new Pt,yb=new Z,XM=new $r,kB=new Pt,WM=new _h;class fT extends nr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=SE,this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Sa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,yb),this.boundingBox.expandByPoint(yb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $r),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,yb),this.boundingSphere.expandByPoint(yb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),XM.copy(this.boundingSphere),XM.applyMatrix4(r),e.ray.intersectsSphere(XM)!==!1&&(kB.copy(r).invert(),WM.copy(e.ray).applyMatrix4(kB),!(this.boundingBox!==null&&WM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,WM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Un,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===SE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===oN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;UB.fromBufferAttribute(r.attributes.skinIndex,e),PB.fromBufferAttribute(r.attributes.skinWeight,e),NB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=PB.getComponent(a);if(o!==0){const c=UB.getComponent(a);IB.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(lY.copy(NB).applyMatrix4(IB),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class qA extends En{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ac extends wi{constructor(e=null,t=1,i=1,r,a,o,c,u,h=kr,m=kr,g,v){super(null,o,c,u,h,m,r,a,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const FB=new Pt,cY=new Pt;class Q0{constructor(e=[],t=[]){this.uuid=Ps(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Pt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:cY;FB.multiplyMatrices(c,t[a]),FB.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Q0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ac(t,e,e,ba,Ha);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new qA),this.bones.push(o),this.boneInverses.push(new Pt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const o=t[r];e.bones.push(o.uuid);const c=i[r];e.boneInverses.push(c.toArray())}return e}}class ph extends Pn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Kp=new Pt,HB=new Pt,vb=[],jB=new Sa,uY=new Pt,Ty=new nr,wy=new $r;class dT extends nr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ph(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,uY)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Sa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Kp),jB.copy(e.boundingBox).applyMatrix4(Kp),this.boundingBox.union(jB)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new $r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Kp),wy.copy(e.boundingSphere).applyMatrix4(Kp),this.boundingSphere.union(wy)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let c=0;c<i.length;c++)i[c]=r[o+c]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ty.geometry=this.geometry,Ty.material=this.material,Ty.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wy.copy(this.boundingSphere),wy.applyMatrix4(i),e.ray.intersectsSphere(wy)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Kp),HB.multiplyMatrices(i,Kp),Ty.matrixWorld=HB,Ty.raycast(e,vb);for(let o=0,c=vb.length;o<c;o++){const u=vb[o];u.instanceId=a,u.object=this,t.push(u)}vb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ph(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new ac(new Float32Array(r*this.count),r,this.count,kA,Ha));const a=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const c=this.geometry.morphTargetsRelative?1:1-o,u=r*e;a[u]=c,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const YM=new Z,fY=new Z,dY=new en;class qc{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=YM.subVectors(i,t).cross(fY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(YM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||dY.getNormalMatrix(e),r=this.coplanarPoint(YM).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wd=new $r,xb=new Z;class $0{constructor(e=new qc,t=new qc,i=new qc,r=new qc,a=new qc,o=new qc){this.planes=[e,t,i,r,a,o]}set(e,t,i,r,a,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(r),c[4].copy(a),c[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=il){const i=this.planes,r=e.elements,a=r[0],o=r[1],c=r[2],u=r[3],h=r[4],m=r[5],g=r[6],v=r[7],b=r[8],S=r[9],E=r[10],M=r[11],A=r[12],z=r[13],B=r[14],L=r[15];if(i[0].setComponents(u-a,v-h,M-b,L-A).normalize(),i[1].setComponents(u+a,v+h,M+b,L+A).normalize(),i[2].setComponents(u+o,v+m,M+S,L+z).normalize(),i[3].setComponents(u-o,v-m,M-S,L-z).normalize(),i[4].setComponents(u-c,v-g,M-E,L-B).normalize(),t===il)i[5].setComponents(u+c,v+g,M+E,L+B).normalize();else if(t===C0)i[5].setComponents(c,g,E,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),wd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wd)}intersectsSprite(e){return wd.center.set(0,0,0),wd.radius=.7071067811865476,wd.applyMatrix4(e.matrixWorld),this.intersectsSphere(wd)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(xb.x=r.normal.x>0?e.max.x:e.min.x,xb.y=r.normal.y>0?e.max.y:e.min.y,xb.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(xb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function KM(n,e){return n-e}function hY(n,e){return n.z-e.z}function pY(n,e){return e.z-n.z}class mY{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=i,c.index=r}reset(){this.list.length=0,this.index=0}}const ss=new Pt,gY=new bt(1,1,1),qM=new $0,bb=new Sa,Rd=new $r,Ry=new Z,GB=new Z,yY=new Z,JM=new mY,pa=new nr,Sb=[];function vY(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Bd(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class ON extends nr{constructor(e,t,i=t*2,r){super(new tn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new ac(t,e,e,ba,Ha);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new ac(t,e,e,K0,fu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new ac(t,e,e,ba,Ha);i.colorSpace=Dn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:c,itemSize:u,normalized:h}=o,m=new c.constructor(i*u),g=new Pn(m,u,h);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Pn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,ss),this.getBoundingBoxAt(a,bb).applyMatrix4(ss),e.union(bb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,ss),this.getBoundingSphereAt(a,Rd).applyMatrix4(ss),e.union(Rd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(KM),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;ss.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(gY.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(KM),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(r&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=c.vertexStart,h=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),v=i.getAttribute(m);vY(g,v,u);const b=g.itemSize;for(let S=g.count,E=h;S<E;S++){const M=u+S;for(let A=0;A<b;A++)v.setComponent(M,A,0)}v.needsUpdate=!0,v.addUpdateRange(u*b,h*b)}if(r){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let v=0;v<o.count;v++)a.setX(m+v,u+o.getX(v));for(let v=o.count,b=g;v<b;v++)a.setX(m+v,u);a.needsUpdate=!0,a.addUpdateRange(m,c.reservedIndexCount)}return c.start=r?c.indexStart:c.vertexStart,c.count=r?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),a=this.geometry;for(let o=0,c=i.length;o<c;o++){const u=r[o],h=i[u];if(h.active!==!1){if(a.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=h,b=a.index,S=b.array,E=e-g;for(let M=m;M<m+v;M++)S[M]=S[M]+E;b.array.copyWithin(t,m,m+v),b.addUpdateRange(t,v),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,v=a.attributes;for(const b in v){const S=v[b],{array:E,itemSize:M}=S;E.copyWithin(e*M,m*M,(m+g)*M),S.addUpdateRange(e*M,g*M)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=a.index?h.indexStart:h.vertexStart,this._nextIndexStart=a.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Sa,o=i.index,c=i.attributes.position;for(let u=r.start,h=r.start+r.count;u<h;u++){let m=u;o&&(m=o.getX(m)),a.expandByPoint(Ry.fromBufferAttribute(c,m))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new $r;this.getBoundingBoxAt(e,bb),bb.getCenter(a.center);const o=i.index,c=i.attributes.position;let u=0;for(let h=r.start,m=r.start+r.count;h<m;h++){let g=h;o&&(g=o.getX(g)),Ry.fromBufferAttribute(c,g),u=Math.max(u,a.center.distanceToSquared(Ry))}a.radius=Math.sqrt(u),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(KM);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Bd(this._multiDrawCounts,r),Bd(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Bd(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Bd(c.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Bd(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(a));const o=this.geometry;a.index&&Bd(a.index.array,o.index.array);for(const c in a.attributes)Bd(a.attributes[c].array,o.attributes[c].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;pa.material=this.material,pa.geometry.index=o.index,pa.geometry.attributes=o.attributes,pa.geometry.boundingBox===null&&(pa.geometry.boundingBox=new Sa),pa.geometry.boundingSphere===null&&(pa.geometry.boundingSphere=new $r);for(let c=0,u=i.length;c<u;c++){if(!i[c].visible||!i[c].active)continue;const h=i[c].geometryIndex,m=r[h];pa.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,pa.matrixWorld).premultiply(a),this.getBoundingBoxAt(h,pa.geometry.boundingBox),this.getBoundingSphereAt(h,pa.geometry.boundingSphere),pa.raycast(e,Sb);for(let g=0,v=Sb.length;g<v;g++){const b=Sb[g];b.object=this,b.batchId=c,t.push(b)}Sb.length=0}pa.material=null,pa.geometry.index=null,pa.geometry.attributes={},pa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,b=this._indirectTexture,S=b.image.data;v&&(ss.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),qM.setFromProjectionMatrix(ss,e.coordinateSystem));let E=0;if(this.sortObjects){ss.copy(this.matrixWorld).invert(),Ry.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ss),GB.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ss);for(let z=0,B=u.length;z<B;z++)if(u[z].visible&&u[z].active){const L=u[z].geometryIndex;this.getMatrixAt(z,ss),this.getBoundingSphereAt(L,Rd).applyMatrix4(ss);let O=!1;if(v&&(O=!qM.intersectsSphere(Rd)),!O){const U=g[L],k=yY.subVectors(Rd.center,Ry).dot(GB);JM.push(U.start,U.count,k,z)}}const M=JM.list,A=this.customSort;A===null?M.sort(a.transparent?pY:hY):A.call(this,M,i);for(let z=0,B=M.length;z<B;z++){const L=M[z];h[E]=L.start*c,m[E]=L.count,S[E]=L.index,E++}JM.reset()}else for(let M=0,A=u.length;M<A;M++)if(u[M].visible&&u[M].active){const z=u[M].geometryIndex;let B=!1;if(v&&(this.getMatrixAt(M,ss),this.getBoundingSphereAt(z,Rd).applyMatrix4(ss),B=!qM.intersectsSphere(Rd)),!B){const L=g[z];h[E]=L.start*c,m[E]=L.count,S[E]=M,E++}}b.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class Aa extends _r{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tA=new Z,nA=new Z,VB=new Pt,By=new _h,Ab=new $r,ZM=new Z,XB=new Z;class du extends En{constructor(e=new tn,t=new Aa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)tA.fromBufferAttribute(t,r-1),nA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=tA.distanceTo(nA);e.setAttribute("lineDistance",new Bt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ab.copy(i.boundingSphere),Ab.applyMatrix4(r),Ab.radius+=a,e.ray.intersectsSphere(Ab)===!1)return;VB.copy(r).invert(),By.copy(e.ray).applyMatrix4(VB);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,h=this.isLineSegments?2:1,m=i.index,v=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let E=b,M=S-1;E<M;E+=h){const A=m.getX(E),z=m.getX(E+1),B=_b(this,e,By,u,A,z,E);B&&t.push(B)}if(this.isLineLoop){const E=m.getX(S-1),M=m.getX(b),A=_b(this,e,By,u,E,M,S-1);A&&t.push(A)}}else{const b=Math.max(0,o.start),S=Math.min(v.count,o.start+o.count);for(let E=b,M=S-1;E<M;E+=h){const A=_b(this,e,By,u,E,E+1,E);A&&t.push(A)}if(this.isLineLoop){const E=_b(this,e,By,u,S-1,b,S-1);E&&t.push(E)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function _b(n,e,t,i,r,a,o){const c=n.geometry.attributes.position;if(tA.fromBufferAttribute(c,r),nA.fromBufferAttribute(c,a),t.distanceSqToSegment(tA,nA,ZM,XB)>i)return;ZM.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(ZM);if(!(h<e.near||h>e.far))return{distance:h,point:XB.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const WB=new Z,YB=new Z;class fl extends du{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)WB.fromBufferAttribute(t,r),YB.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+WB.distanceTo(YB);e.setAttribute("lineDistance",new Bt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hT extends du{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class JA extends _r{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const KB=new Pt,ME=new _h,Mb=new $r,Eb=new Z;class pT extends En{constructor(e=new tn,t=new JA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Mb.copy(i.boundingSphere),Mb.applyMatrix4(r),Mb.radius+=a,e.ray.intersectsSphere(Mb)===!1)return;KB.copy(r).invert(),ME.copy(e.ray).applyMatrix4(KB);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,h=i.index,g=i.attributes.position;if(h!==null){const v=Math.max(0,o.start),b=Math.min(h.count,o.start+o.count);for(let S=v,E=b;S<E;S++){const M=h.getX(S);Eb.fromBufferAttribute(g,M),qB(Eb,M,u,r,e,t,this)}}else{const v=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let S=v,E=b;S<E;S++)Eb.fromBufferAttribute(g,S),qB(Eb,S,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function qB(n,e,t,i,r,a,o){const c=ME.distanceSqToPoint(n);if(c<t){const u=new Z;ME.closestPointToPoint(n,u),u.applyMatrix4(i);const h=r.ray.origin.distanceTo(u);if(h<r.near||h>r.far)return;a.push({distance:h,distanceToRay:Math.sqrt(c),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class NN extends wi{constructor(e,t,i,r,a=Hi,o=Hi,c,u,h){super(e,t,i,r,a,o,c,u,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class xY extends NN{constructor(e,t,i,r,a,o,c,u){super({},e,t,i,r,a,o,c,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class bY extends wi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=kr,this.minFilter=kr,this.generateMipmaps=!1,this.needsUpdate=!0}}class ZA extends wi{constructor(e,t,i,r,a,o,c,u,h,m,g,v){super(null,o,c,u,h,m,r,a,g,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class SY extends ZA{constructor(e,t,i,r,a,o){super(e,t,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ls,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class AY extends ZA{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,uu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class UN extends wi{constructor(e,t,i,r,a,o,c,u,h){super(e,t,i,r,a,o,c,u,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class QA extends wi{constructor(e,t,i=fu,r,a,o,c=kr,u=kr,h,m=zm){if(m!==zm&&m!==Lm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,a,o,c,u,m,i,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new gf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class dl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let o;t?o=t:o=e*i[a-1];let c=0,u=a-1,h;for(;c<=u;)if(r=Math.floor(c+(u-c)/2),h=i[r]-o,h<0)c=r+1;else if(h>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(a-1);const m=i[r],v=i[r+1]-m,b=(o-m)/v;return(r+b)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),c=this.getPoint(a),u=t||(o.isVector2?new qe:new Z);return u.copy(c).sub(o).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new Z,r=[],a=[],o=[],c=new Z,u=new Pt;for(let b=0;b<=e;b++){const S=b/e;r[b]=this.getTangentAt(S,new Z)}a[0]=new Z,o[0]=new Z;let h=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=h&&(h=m,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),v<=h&&i.set(0,0,1),c.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],c),o[0].crossVectors(r[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),o[b]=o[b-1].clone(),c.crossVectors(r[b-1],r[b]),c.length()>Number.EPSILON){c.normalize();const S=Math.acos(Qt(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(u.makeRotationAxis(c,S))}o[b].crossVectors(r[b],a[b])}if(t===!0){let b=Math.acos(Qt(a[0].dot(a[e]),-1,1));b/=e,r[0].dot(c.crossVectors(a[0],a[e]))>0&&(b=-b);for(let S=1;S<=e;S++)a[S].applyMatrix4(u.makeRotationAxis(r[S],b*S)),o[S].crossVectors(r[S],a[S])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $A extends dl{constructor(e=0,t=0,i=1,r=1,a=0,o=Math.PI*2,c=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=u}getPoint(e,t=new qe){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const c=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(c),h=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,b=h-this.aY;u=v*m-b*g+this.aX,h=v*g+b*m+this.aY}return i.set(u,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class PN extends $A{constructor(e,t,i,r,a,o){super(e,t,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function mT(){let n=0,e=0,t=0,i=0;function r(a,o,c,u){n=a,e=c,t=-3*a+3*o-2*c-u,i=2*a-2*o+c+u}return{initCatmullRom:function(a,o,c,u,h){r(o,c,h*(c-a),h*(u-o))},initNonuniformCatmullRom:function(a,o,c,u,h,m,g){let v=(o-a)/h-(c-a)/(h+m)+(c-o)/m,b=(c-o)/m-(u-o)/(m+g)+(u-c)/g;v*=m,b*=m,r(o,c,v,b)},calc:function(a){const o=a*a,c=o*a;return n+e*a+t*o+i*c}}}const Cb=new Z,QM=new mT,$M=new mT,e1=new mT;class IN extends dl{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Z){const i=t,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),u=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:u===0&&c===a-1&&(c=a-2,u=1);let h,m;this.closed||c>0?h=r[(c-1)%a]:(Cb.subVectors(r[0],r[1]).add(r[0]),h=Cb);const g=r[c%a],v=r[(c+1)%a];if(this.closed||c+2<a?m=r[(c+2)%a]:(Cb.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=Cb),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let S=Math.pow(h.distanceToSquared(g),b),E=Math.pow(g.distanceToSquared(v),b),M=Math.pow(v.distanceToSquared(m),b);E<1e-4&&(E=1),S<1e-4&&(S=E),M<1e-4&&(M=E),QM.initNonuniformCatmullRom(h.x,g.x,v.x,m.x,S,E,M),$M.initNonuniformCatmullRom(h.y,g.y,v.y,m.y,S,E,M),e1.initNonuniformCatmullRom(h.z,g.z,v.z,m.z,S,E,M)}else this.curveType==="catmullrom"&&(QM.initCatmullRom(h.x,g.x,v.x,m.x,this.tension),$M.initCatmullRom(h.y,g.y,v.y,m.y,this.tension),e1.initCatmullRom(h.z,g.z,v.z,m.z,this.tension));return i.set(QM.calc(u),$M.calc(u),e1.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function JB(n,e,t,i,r){const a=(i-e)*.5,o=(r-t)*.5,c=n*n,u=n*c;return(2*t-2*i+a+o)*u+(-3*t+3*i-2*a-o)*c+a*n+t}function _Y(n,e){const t=1-n;return t*t*e}function MY(n,e){return 2*(1-n)*n*e}function EY(n,e){return n*n*e}function t0(n,e,t,i){return _Y(n,e)+MY(n,t)+EY(n,i)}function CY(n,e){const t=1-n;return t*t*t*e}function TY(n,e){const t=1-n;return 3*t*t*n*e}function wY(n,e){return 3*(1-n)*n*n*e}function RY(n,e){return n*n*n*e}function n0(n,e,t,i,r){return CY(n,e)+TY(n,t)+wY(n,i)+RY(n,r)}class gT extends dl{constructor(e=new qe,t=new qe,i=new qe,r=new qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new qe){const i=t,r=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(n0(e,r.x,a.x,o.x,c.x),n0(e,r.y,a.y,o.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kN extends dl{constructor(e=new Z,t=new Z,i=new Z,r=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Z){const i=t,r=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(n0(e,r.x,a.x,o.x,c.x),n0(e,r.y,a.y,o.y,c.y),n0(e,r.z,a.z,o.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yT extends dl{constructor(e=new qe,t=new qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new qe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FN extends dl{constructor(e=new Z,t=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vT extends dl{constructor(e=new qe,t=new qe,i=new qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new qe){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(t0(e,r.x,a.x,o.x),t0(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xT extends dl{constructor(e=new Z,t=new Z,i=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Z){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(t0(e,r.x,a.x,o.x),t0(e,r.y,a.y,o.y),t0(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bT extends dl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new qe){const i=t,r=this.points,a=(r.length-1)*e,o=Math.floor(a),c=a-o,u=r[o===0?o:o-1],h=r[o],m=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(JB(c,u.x,h.x,m.x,g.x),JB(c,u.y,h.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new qe().fromArray(r))}return this}}var iA=Object.freeze({__proto__:null,ArcCurve:PN,CatmullRomCurve3:IN,CubicBezierCurve:gT,CubicBezierCurve3:kN,EllipseCurve:$A,LineCurve:yT,LineCurve3:FN,QuadraticBezierCurve:vT,QuadraticBezierCurve3:xT,SplineCurve:bT});class HN extends dl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new iA[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,c=this.curves[a],u=c.getLength(),h=u===0?0:1-o/u;return c.getPointAt(h,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(c);for(let h=0;h<u.length;h++){const m=u[h];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new iA[r.type]().fromJSON(r))}return this}}class w0 extends HN{constructor(e){super(),this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new yT(this.currentPoint.clone(),new qe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new vT(this.currentPoint.clone(),new qe(e,t),new qe(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,o){const c=new gT(this.currentPoint.clone(),new qe(e,t),new qe(i,r),new qe(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new bT(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,o){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+c,t+u,i,r,a,o),this}absarc(e,t,i,r,a,o){return this.absellipse(e,t,i,i,r,a,o),this}ellipse(e,t,i,r,a,o,c,u){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,i,r,a,o,c,u),this}absellipse(e,t,i,r,a,o,c,u){const h=new $A(e,t,i,r,a,o,c,u);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ev extends tn{constructor(e=[new qe(0,-.5),new qe(.5,0),new qe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Qt(r,0,Math.PI*2);const a=[],o=[],c=[],u=[],h=[],m=1/t,g=new Z,v=new qe,b=new Z,S=new Z,E=new Z;let M=0,A=0;for(let z=0;z<=e.length-1;z++)switch(z){case 0:M=e[z+1].x-e[z].x,A=e[z+1].y-e[z].y,b.x=A*1,b.y=-M,b.z=A*0,E.copy(b),b.normalize(),u.push(b.x,b.y,b.z);break;case e.length-1:u.push(E.x,E.y,E.z);break;default:M=e[z+1].x-e[z].x,A=e[z+1].y-e[z].y,b.x=A*1,b.y=-M,b.z=A*0,S.copy(b),b.x+=E.x,b.y+=E.y,b.z+=E.z,b.normalize(),u.push(b.x,b.y,b.z),E.copy(S)}for(let z=0;z<=t;z++){const B=i+z*m*r,L=Math.sin(B),O=Math.cos(B);for(let U=0;U<=e.length-1;U++){g.x=e[U].x*L,g.y=e[U].y,g.z=e[U].x*O,o.push(g.x,g.y,g.z),v.x=z/t,v.y=U/(e.length-1),c.push(v.x,v.y);const k=u[3*U+0]*L,F=u[3*U+1],P=u[3*U+0]*O;h.push(k,F,P)}}for(let z=0;z<t;z++)for(let B=0;B<e.length-1;B++){const L=B+z*e.length,O=L,U=L+e.length,k=L+e.length+1,F=L+1;a.push(O,U,F),a.push(k,F,U)}this.setIndex(a),this.setAttribute("position",new Bt(o,3)),this.setAttribute("uv",new Bt(c,2)),this.setAttribute("normal",new Bt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ev(e.points,e.segments,e.phiStart,e.phiLength)}}class e_ extends ev{constructor(e=1,t=1,i=4,r=8){const a=new w0;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new e_(e.radius,e.length,e.capSegments,e.radialSegments)}}class t_ extends tn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],o=[],c=[],u=[],h=new Z,m=new qe;o.push(0,0,0),c.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const b=i+g/t*r;h.x=e*Math.cos(b),h.y=e*Math.sin(b),o.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(o[v]/e+1)/2,m.y=(o[v+1]/e+1)/2,u.push(m.x,m.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Bt(o,3)),this.setAttribute("normal",new Bt(c,3)),this.setAttribute("uv",new Bt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class qm extends tn{constructor(e=1,t=1,i=1,r=32,a=1,o=!1,c=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:u};const h=this;r=Math.floor(r),a=Math.floor(a);const m=[],g=[],v=[],b=[];let S=0;const E=[],M=i/2;let A=0;z(),o===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new Bt(g,3)),this.setAttribute("normal",new Bt(v,3)),this.setAttribute("uv",new Bt(b,2));function z(){const L=new Z,O=new Z;let U=0;const k=(t-e)/i;for(let F=0;F<=a;F++){const P=[],w=F/a,G=w*(t-e)+e;for(let ee=0;ee<=r;ee++){const q=ee/r,$=q*u+c,ae=Math.sin($),J=Math.cos($);O.x=G*ae,O.y=-w*i+M,O.z=G*J,g.push(O.x,O.y,O.z),L.set(ae,k,J).normalize(),v.push(L.x,L.y,L.z),b.push(q,1-w),P.push(S++)}E.push(P)}for(let F=0;F<r;F++)for(let P=0;P<a;P++){const w=E[P][F],G=E[P+1][F],ee=E[P+1][F+1],q=E[P][F+1];(e>0||P!==0)&&(m.push(w,G,q),U+=3),(t>0||P!==a-1)&&(m.push(G,ee,q),U+=3)}h.addGroup(A,U,0),A+=U}function B(L){const O=S,U=new qe,k=new Z;let F=0;const P=L===!0?e:t,w=L===!0?1:-1;for(let ee=1;ee<=r;ee++)g.push(0,M*w,0),v.push(0,w,0),b.push(.5,.5),S++;const G=S;for(let ee=0;ee<=r;ee++){const $=ee/r*u+c,ae=Math.cos($),J=Math.sin($);k.x=P*J,k.y=M*w,k.z=P*ae,g.push(k.x,k.y,k.z),v.push(0,w,0),U.x=ae*.5+.5,U.y=J*.5*w+.5,b.push(U.x,U.y),S++}for(let ee=0;ee<r;ee++){const q=O+ee,$=G+ee;L===!0?m.push($,$+1,q):m.push($+1,$,q),F+=3}h.addGroup(A,F,L===!0?1:2),A+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class n_ extends qm{constructor(e=1,t=1,i=32,r=1,a=!1,o=0,c=Math.PI*2){super(0,e,t,i,r,a,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(e){return new n_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zf extends tn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],o=[];c(r),h(i),m(),this.setAttribute("position",new Bt(a,3)),this.setAttribute("normal",new Bt(a.slice(),3)),this.setAttribute("uv",new Bt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(z){const B=new Z,L=new Z,O=new Z;for(let U=0;U<t.length;U+=3)b(t[U+0],B),b(t[U+1],L),b(t[U+2],O),u(B,L,O,z)}function u(z,B,L,O){const U=O+1,k=[];for(let F=0;F<=U;F++){k[F]=[];const P=z.clone().lerp(L,F/U),w=B.clone().lerp(L,F/U),G=U-F;for(let ee=0;ee<=G;ee++)ee===0&&F===U?k[F][ee]=P:k[F][ee]=P.clone().lerp(w,ee/G)}for(let F=0;F<U;F++)for(let P=0;P<2*(U-F)-1;P++){const w=Math.floor(P/2);P%2===0?(v(k[F][w+1]),v(k[F+1][w]),v(k[F][w])):(v(k[F][w+1]),v(k[F+1][w+1]),v(k[F+1][w]))}}function h(z){const B=new Z;for(let L=0;L<a.length;L+=3)B.x=a[L+0],B.y=a[L+1],B.z=a[L+2],B.normalize().multiplyScalar(z),a[L+0]=B.x,a[L+1]=B.y,a[L+2]=B.z}function m(){const z=new Z;for(let B=0;B<a.length;B+=3){z.x=a[B+0],z.y=a[B+1],z.z=a[B+2];const L=M(z)/2/Math.PI+.5,O=A(z)/Math.PI+.5;o.push(L,1-O)}S(),g()}function g(){for(let z=0;z<o.length;z+=6){const B=o[z+0],L=o[z+2],O=o[z+4],U=Math.max(B,L,O),k=Math.min(B,L,O);U>.9&&k<.1&&(B<.2&&(o[z+0]+=1),L<.2&&(o[z+2]+=1),O<.2&&(o[z+4]+=1))}}function v(z){a.push(z.x,z.y,z.z)}function b(z,B){const L=z*3;B.x=e[L+0],B.y=e[L+1],B.z=e[L+2]}function S(){const z=new Z,B=new Z,L=new Z,O=new Z,U=new qe,k=new qe,F=new qe;for(let P=0,w=0;P<a.length;P+=9,w+=6){z.set(a[P+0],a[P+1],a[P+2]),B.set(a[P+3],a[P+4],a[P+5]),L.set(a[P+6],a[P+7],a[P+8]),U.set(o[w+0],o[w+1]),k.set(o[w+2],o[w+3]),F.set(o[w+4],o[w+5]),O.copy(z).add(B).add(L).divideScalar(3);const G=M(O);E(U,w+0,z,G),E(k,w+2,B,G),E(F,w+4,L,G)}}function E(z,B,L,O){O<0&&z.x===1&&(o[B]=z.x-1),L.x===0&&L.z===0&&(o[B]=O/2/Math.PI+.5)}function M(z){return Math.atan2(z.z,-z.x)}function A(z){return Math.atan2(-z.y,Math.sqrt(z.x*z.x+z.z*z.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zf(e.vertices,e.indices,e.radius,e.details)}}class i_ extends zf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i_(e.radius,e.detail)}}const Tb=new Z,wb=new Z,t1=new Z,Rb=new ls;class jN extends tn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(lh*t),o=e.getIndex(),c=e.getAttribute("position"),u=o?o.count:c.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),v={},b=[];for(let S=0;S<u;S+=3){o?(h[0]=o.getX(S),h[1]=o.getX(S+1),h[2]=o.getX(S+2)):(h[0]=S,h[1]=S+1,h[2]=S+2);const{a:E,b:M,c:A}=Rb;if(E.fromBufferAttribute(c,h[0]),M.fromBufferAttribute(c,h[1]),A.fromBufferAttribute(c,h[2]),Rb.getNormal(t1),g[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let z=0;z<3;z++){const B=(z+1)%3,L=g[z],O=g[B],U=Rb[m[z]],k=Rb[m[B]],F=`${L}_${O}`,P=`${O}_${L}`;P in v&&v[P]?(t1.dot(v[P].normal)<=a&&(b.push(U.x,U.y,U.z),b.push(k.x,k.y,k.z)),v[P]=null):F in v||(v[F]={index0:h[z],index1:h[B],normal:t1.clone()})}}for(const S in v)if(v[S]){const{index0:E,index1:M}=v[S];Tb.fromBufferAttribute(c,E),wb.fromBufferAttribute(c,M),b.push(Tb.x,Tb.y,Tb.z),b.push(wb.x,wb.y,wb.z)}this.setAttribute("position",new Bt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ch extends w0{constructor(e){super(e),this.uuid=Ps(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new w0().fromJSON(r))}return this}}function BY(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=GN(n,0,r,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,u,h;if(i&&(a=NY(n,e,a,t)),n.length>80*t){c=1/0,u=1/0;let m=-1/0,g=-1/0;for(let v=t;v<r;v+=t){const b=n[v],S=n[v+1];b<c&&(c=b),S<u&&(u=S),b>m&&(m=b),S>g&&(g=S)}h=Math.max(m-c,g-u),h=h!==0?32767/h:0}return R0(a,o,t,c,u,h,0),o}function GN(n,e,t,i,r){let a;if(r===WY(n,e,t,i)>0)for(let o=e;o<t;o+=i)a=ZB(o/i|0,n[o],n[o+1],a);else for(let o=t-i;o>=e;o-=i)a=ZB(o/i|0,n[o],n[o+1],a);return a&&km(a,a.next)&&(D0(a),a=a.next),a}function mh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(km(t,t.next)||Fi(t.prev,t,t.next)===0)){if(D0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function R0(n,e,t,i,r,a,o){if(!n)return;!o&&a&&FY(n,i,r,a);let c=n;for(;n.prev!==n.next;){const u=n.prev,h=n.next;if(a?zY(n,i,r,a):DY(n)){e.push(u.i,n.i,h.i),D0(n),n=h.next,c=h.next;continue}if(n=h,n===c){o?o===1?(n=LY(mh(n),e),R0(n,e,t,i,r,a,2)):o===2&&OY(n,e,t,i,r,a):R0(mh(n),e,t,i,r,a,1);break}}}function DY(n){const e=n.prev,t=n,i=n.next;if(Fi(e,t,i)>=0)return!1;const r=e.x,a=t.x,o=i.x,c=e.y,u=t.y,h=i.y,m=Math.min(r,a,o),g=Math.min(c,u,h),v=Math.max(r,a,o),b=Math.max(c,u,h);let S=i.next;for(;S!==e;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=b&&ky(r,c,a,u,o,h,S.x,S.y)&&Fi(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function zY(n,e,t,i){const r=n.prev,a=n,o=n.next;if(Fi(r,a,o)>=0)return!1;const c=r.x,u=a.x,h=o.x,m=r.y,g=a.y,v=o.y,b=Math.min(c,u,h),S=Math.min(m,g,v),E=Math.max(c,u,h),M=Math.max(m,g,v),A=EE(b,S,e,t,i),z=EE(E,M,e,t,i);let B=n.prevZ,L=n.nextZ;for(;B&&B.z>=A&&L&&L.z<=z;){if(B.x>=b&&B.x<=E&&B.y>=S&&B.y<=M&&B!==r&&B!==o&&ky(c,m,u,g,h,v,B.x,B.y)&&Fi(B.prev,B,B.next)>=0||(B=B.prevZ,L.x>=b&&L.x<=E&&L.y>=S&&L.y<=M&&L!==r&&L!==o&&ky(c,m,u,g,h,v,L.x,L.y)&&Fi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;B&&B.z>=A;){if(B.x>=b&&B.x<=E&&B.y>=S&&B.y<=M&&B!==r&&B!==o&&ky(c,m,u,g,h,v,B.x,B.y)&&Fi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;L&&L.z<=z;){if(L.x>=b&&L.x<=E&&L.y>=S&&L.y<=M&&L!==r&&L!==o&&ky(c,m,u,g,h,v,L.x,L.y)&&Fi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function LY(n,e){let t=n;do{const i=t.prev,r=t.next.next;!km(i,r)&&XN(i,t,t.next,r)&&B0(i,r)&&B0(r,i)&&(e.push(i.i,t.i,r.i),D0(t),D0(t.next),t=n=r),t=t.next}while(t!==n);return mh(t)}function OY(n,e,t,i,r,a){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&GY(o,c)){let u=WN(o,c);o=mh(o,o.next),u=mh(u,u.next),R0(o,e,t,i,r,a,0),R0(u,e,t,i,r,a,0);return}c=c.next}o=o.next}while(o!==n)}function NY(n,e,t,i){const r=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*i,u=a<o-1?e[a+1]*i:n.length,h=GN(n,c,u,i,!1);h===h.next&&(h.steiner=!0),r.push(jY(h))}r.sort(UY);for(let a=0;a<r.length;a++)t=PY(r[a],t);return t}function UY(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function PY(n,e){const t=IY(n,e);if(!t)return e;const i=WN(t,n);return mh(i,i.next),mh(t,t.next)}function IY(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,o;if(km(n,t))return t;do{if(km(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,o=t.x<t.next.x?t:t.next,g===i))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,u=o.x,h=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=u&&i!==t.x&&VN(r<h?i:a,r,u,h,r<h?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);B0(t,n)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&kY(o,t)))&&(o=t,m=g)}t=t.next}while(t!==c);return o}function kY(n,e){return Fi(n.prev,n,e.prev)<0&&Fi(e.next,n,n.next)<0}function FY(n,e,t,i){let r=n;do r.z===0&&(r.z=EE(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,HY(r)}function HY(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let o=i,c=0;for(let h=0;h<t&&(c++,o=o.nextZ,!!o);h++);let u=t;for(;c>0||u>0&&o;)c!==0&&(u===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,c--):(r=o,o=o.nextZ,u--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,t*=2}while(e>1);return n}function EE(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function jY(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function VN(n,e,t,i,r,a,o,c){return(r-o)*(e-c)>=(n-o)*(a-c)&&(n-o)*(i-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(r-o)*(i-c)}function ky(n,e,t,i,r,a,o,c){return!(n===o&&e===c)&&VN(n,e,t,i,r,a,o,c)}function GY(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!VY(n,e)&&(B0(n,e)&&B0(e,n)&&XY(n,e)&&(Fi(n.prev,n,e.prev)||Fi(n,e.prev,e))||km(n,e)&&Fi(n.prev,n,n.next)>0&&Fi(e.prev,e,e.next)>0)}function Fi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function km(n,e){return n.x===e.x&&n.y===e.y}function XN(n,e,t,i){const r=Db(Fi(n,e,t)),a=Db(Fi(n,e,i)),o=Db(Fi(t,i,n)),c=Db(Fi(t,i,e));return!!(r!==a&&o!==c||r===0&&Bb(n,t,e)||a===0&&Bb(n,i,e)||o===0&&Bb(t,n,i)||c===0&&Bb(t,e,i))}function Bb(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Db(n){return n>0?1:n<0?-1:0}function VY(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&XN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function B0(n,e){return Fi(n.prev,n,n.next)<0?Fi(n,e,n.next)>=0&&Fi(n,n.prev,e)>=0:Fi(n,e,n.prev)<0||Fi(n,n.next,e)<0}function XY(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function WN(n,e){const t=CE(n.i,n.x,n.y),i=CE(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function ZB(n,e,t,i){const r=CE(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function D0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function CE(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function WY(n,e,t,i){let r=0;for(let a=e,o=t-i;a<t;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class YY{static triangulate(e,t,i=2){return BY(e,t,i)}}class sc{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return sc.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];QB(e),$B(i,e);let o=e.length;t.forEach(QB);for(let u=0;u<t.length;u++)r.push(o),o+=t[u].length,$B(i,t[u]);const c=YY.triangulate(i,r);for(let u=0;u<c.length;u+=3)a.push(c.slice(u,u+3));return a}}function QB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $B(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class r_ extends tn{constructor(e=new ch([new qe(.5,.5),new qe(-.5,.5),new qe(-.5,-.5),new qe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];o(h)}this.setAttribute("position",new Bt(r,3)),this.setAttribute("uv",new Bt(a,2)),this.computeVertexNormals();function o(c){const u=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:b-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,z=t.UVGenerator!==void 0?t.UVGenerator:KY;let B,L=!1,O,U,k,F;A&&(B=A.getSpacedPoints(m),L=!0,v=!1,O=A.computeFrenetFrames(m,!1),U=new Z,k=new Z,F=new Z),v||(M=0,b=0,S=0,E=0);const P=c.extractPoints(h);let w=P.shape;const G=P.holes;if(!sc.isClockWise(w)){w=w.reverse();for(let ke=0,De=G.length;ke<De;ke++){const Te=G[ke];sc.isClockWise(Te)&&(G[ke]=Te.reverse())}}function q(ke){const Te=10000000000000001e-36;let $e=ke[0];for(let ze=1;ze<=ke.length;ze++){const K=ze%ke.length,j=ke[K],pe=j.x-$e.x,Ee=j.y-$e.y,ce=pe*pe+Ee*Ee,fe=Math.max(Math.abs(j.x),Math.abs(j.y),Math.abs($e.x),Math.abs($e.y)),Fe=Te*fe*fe;if(ce<=Fe){ke.splice(K,1),ze--;continue}$e=j}}q(w),G.forEach(q);const $=G.length,ae=w;for(let ke=0;ke<$;ke++){const De=G[ke];w=w.concat(De)}function J(ke,De,Te){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),ke.clone().addScaledVector(De,Te)}const re=w.length;function Q(ke,De,Te){let $e,ze,K;const j=ke.x-De.x,pe=ke.y-De.y,Ee=Te.x-ke.x,ce=Te.y-ke.y,fe=j*j+pe*pe,Fe=j*ce-pe*Ee;if(Math.abs(Fe)>Number.EPSILON){const Pe=Math.sqrt(fe),Je=Math.sqrt(Ee*Ee+ce*ce),et=De.x-pe/Pe,We=De.y+j/Pe,it=Te.x-ce/Je,ct=Te.y+Ee/Je,ft=((it-et)*ce-(ct-We)*Ee)/(j*ce-pe*Ee);$e=et+j*ft-ke.x,ze=We+pe*ft-ke.y;const gt=$e*$e+ze*ze;if(gt<=2)return new qe($e,ze);K=Math.sqrt(gt/2)}else{let Pe=!1;j>Number.EPSILON?Ee>Number.EPSILON&&(Pe=!0):j<-Number.EPSILON?Ee<-Number.EPSILON&&(Pe=!0):Math.sign(pe)===Math.sign(ce)&&(Pe=!0),Pe?($e=-pe,ze=j,K=Math.sqrt(fe)):($e=j,ze=pe,K=Math.sqrt(fe/2))}return new qe($e/K,ze/K)}const de=[];for(let ke=0,De=ae.length,Te=De-1,$e=ke+1;ke<De;ke++,Te++,$e++)Te===De&&(Te=0),$e===De&&($e=0),de[ke]=Q(ae[ke],ae[Te],ae[$e]);const Y=[];let te,Ce=de.concat();for(let ke=0,De=$;ke<De;ke++){const Te=G[ke];te=[];for(let $e=0,ze=Te.length,K=ze-1,j=$e+1;$e<ze;$e++,K++,j++)K===ze&&(K=0),j===ze&&(j=0),te[$e]=Q(Te[$e],Te[K],Te[j]);Y.push(te),Ce=Ce.concat(te)}const He=[],se=[];for(let ke=0;ke<M;ke++){const De=ke/M,Te=b*Math.cos(De*Math.PI/2),$e=S*Math.sin(De*Math.PI/2)+E;for(let ze=0,K=ae.length;ze<K;ze++){const j=J(ae[ze],de[ze],$e);at(j.x,j.y,-Te),De==0&&He.push(j)}for(let ze=0,K=$;ze<K;ze++){const j=G[ze];te=Y[ze];const pe=[];for(let Ee=0,ce=j.length;Ee<ce;Ee++){const fe=J(j[Ee],te[Ee],$e);at(fe.x,fe.y,-Te),De==0&&pe.push(fe)}De==0&&se.push(pe)}}const we=sc.triangulateShape(He,se),Ae=we.length,Xe=S+E;for(let ke=0;ke<re;ke++){const De=v?J(w[ke],Ce[ke],Xe):w[ke];L?(k.copy(O.normals[0]).multiplyScalar(De.x),U.copy(O.binormals[0]).multiplyScalar(De.y),F.copy(B[0]).add(k).add(U),at(F.x,F.y,F.z)):at(De.x,De.y,0)}for(let ke=1;ke<=m;ke++)for(let De=0;De<re;De++){const Te=v?J(w[De],Ce[De],Xe):w[De];L?(k.copy(O.normals[ke]).multiplyScalar(Te.x),U.copy(O.binormals[ke]).multiplyScalar(Te.y),F.copy(B[ke]).add(k).add(U),at(F.x,F.y,F.z)):at(Te.x,Te.y,g/m*ke)}for(let ke=M-1;ke>=0;ke--){const De=ke/M,Te=b*Math.cos(De*Math.PI/2),$e=S*Math.sin(De*Math.PI/2)+E;for(let ze=0,K=ae.length;ze<K;ze++){const j=J(ae[ze],de[ze],$e);at(j.x,j.y,g+Te)}for(let ze=0,K=G.length;ze<K;ze++){const j=G[ze];te=Y[ze];for(let pe=0,Ee=j.length;pe<Ee;pe++){const ce=J(j[pe],te[pe],$e);L?at(ce.x,ce.y+B[m-1].y,B[m-1].x+Te):at(ce.x,ce.y,g+Te)}}}Ge(),vt();function Ge(){const ke=r.length/3;if(v){let De=0,Te=re*De;for(let $e=0;$e<Ae;$e++){const ze=we[$e];Et(ze[2]+Te,ze[1]+Te,ze[0]+Te)}De=m+M*2,Te=re*De;for(let $e=0;$e<Ae;$e++){const ze=we[$e];Et(ze[0]+Te,ze[1]+Te,ze[2]+Te)}}else{for(let De=0;De<Ae;De++){const Te=we[De];Et(Te[2],Te[1],Te[0])}for(let De=0;De<Ae;De++){const Te=we[De];Et(Te[0]+re*m,Te[1]+re*m,Te[2]+re*m)}}i.addGroup(ke,r.length/3-ke,0)}function vt(){const ke=r.length/3;let De=0;Ze(ae,De),De+=ae.length;for(let Te=0,$e=G.length;Te<$e;Te++){const ze=G[Te];Ze(ze,De),De+=ze.length}i.addGroup(ke,r.length/3-ke,1)}function Ze(ke,De){let Te=ke.length;for(;--Te>=0;){const $e=Te;let ze=Te-1;ze<0&&(ze=ke.length-1);for(let K=0,j=m+M*2;K<j;K++){const pe=re*K,Ee=re*(K+1),ce=De+$e+pe,fe=De+ze+pe,Fe=De+ze+Ee,Pe=De+$e+Ee;ht(ce,fe,Fe,Pe)}}}function at(ke,De,Te){u.push(ke),u.push(De),u.push(Te)}function Et(ke,De,Te){ne(ke),ne(De),ne(Te);const $e=r.length/3,ze=z.generateTopUV(i,r,$e-3,$e-2,$e-1);Yt(ze[0]),Yt(ze[1]),Yt(ze[2])}function ht(ke,De,Te,$e){ne(ke),ne(De),ne($e),ne(De),ne(Te),ne($e);const ze=r.length/3,K=z.generateSideWallUV(i,r,ze-6,ze-3,ze-2,ze-1);Yt(K[0]),Yt(K[1]),Yt(K[3]),Yt(K[1]),Yt(K[2]),Yt(K[3])}function ne(ke){r.push(u[ke*3+0]),r.push(u[ke*3+1]),r.push(u[ke*3+2])}function Yt(ke){a.push(ke.x),a.push(ke.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return qY(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const c=t[e.shapes[a]];i.push(c)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new iA[r.type]().fromJSON(r)),new r_(i,e.options)}}const KY={generateTopUV:function(n,e,t,i,r){const a=e[t*3],o=e[t*3+1],c=e[i*3],u=e[i*3+1],h=e[r*3],m=e[r*3+1];return[new qe(a,o),new qe(c,u),new qe(h,m)]},generateSideWallUV:function(n,e,t,i,r,a){const o=e[t*3],c=e[t*3+1],u=e[t*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[r*3],b=e[r*3+1],S=e[r*3+2],E=e[a*3],M=e[a*3+1],A=e[a*3+2];return Math.abs(c-m)<Math.abs(o-h)?[new qe(o,1-u),new qe(h,1-g),new qe(v,1-S),new qe(E,1-A)]:[new qe(c,1-u),new qe(m,1-g),new qe(b,1-S),new qe(M,1-A)]}};function qY(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class a_ extends zf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new a_(e.radius,e.detail)}}class tv extends zf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tv(e.radius,e.detail)}}class Jm extends tn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,o=t/2,c=Math.floor(i),u=Math.floor(r),h=c+1,m=u+1,g=e/c,v=t/u,b=[],S=[],E=[],M=[];for(let A=0;A<m;A++){const z=A*v-o;for(let B=0;B<h;B++){const L=B*g-a;S.push(L,-z,0),E.push(0,0,1),M.push(B/c),M.push(1-A/u)}}for(let A=0;A<u;A++)for(let z=0;z<c;z++){const B=z+h*A,L=z+h*(A+1),O=z+1+h*(A+1),U=z+1+h*A;b.push(B,L,U),b.push(L,O,U)}this.setIndex(b),this.setAttribute("position",new Bt(S,3)),this.setAttribute("normal",new Bt(E,3)),this.setAttribute("uv",new Bt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jm(e.width,e.height,e.widthSegments,e.heightSegments)}}class s_ extends tn{constructor(e=.5,t=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const c=[],u=[],h=[],m=[];let g=e;const v=(t-e)/r,b=new Z,S=new qe;for(let E=0;E<=r;E++){for(let M=0;M<=i;M++){const A=a+M/i*o;b.x=g*Math.cos(A),b.y=g*Math.sin(A),u.push(b.x,b.y,b.z),h.push(0,0,1),S.x=(b.x/t+1)/2,S.y=(b.y/t+1)/2,m.push(S.x,S.y)}g+=v}for(let E=0;E<r;E++){const M=E*(i+1);for(let A=0;A<i;A++){const z=A+M,B=z,L=z+i+1,O=z+i+2,U=z+1;c.push(B,L,U),c.push(L,O,U)}}this.setIndex(c),this.setAttribute("position",new Bt(u,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class o_ extends tn{constructor(e=new ch([new qe(0,.5),new qe(-.5,-.5),new qe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],o=[];let c=0,u=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(c,u,m),c+=u,u=0;this.setIndex(i),this.setAttribute("position",new Bt(r,3)),this.setAttribute("normal",new Bt(a,3)),this.setAttribute("uv",new Bt(o,2));function h(m){const g=r.length/3,v=m.extractPoints(t);let b=v.shape;const S=v.holes;sc.isClockWise(b)===!1&&(b=b.reverse());for(let M=0,A=S.length;M<A;M++){const z=S[M];sc.isClockWise(z)===!0&&(S[M]=z.reverse())}const E=sc.triangulateShape(b,S);for(let M=0,A=S.length;M<A;M++){const z=S[M];b=b.concat(z)}for(let M=0,A=b.length;M<A;M++){const z=b[M];r.push(z.x,z.y,0),a.push(0,0,1),o.push(z.x,z.y)}for(let M=0,A=E.length;M<A;M++){const z=E[M],B=z[0]+g,L=z[1]+g,O=z[2]+g;i.push(B,L,O),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return JY(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=t[e.shapes[r]];i.push(o)}return new o_(i,e.curveSegments)}}function JY(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class nv extends tn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(o+c,Math.PI);let h=0;const m=[],g=new Z,v=new Z,b=[],S=[],E=[],M=[];for(let A=0;A<=i;A++){const z=[],B=A/i;let L=0;A===0&&o===0?L=.5/t:A===i&&u===Math.PI&&(L=-.5/t);for(let O=0;O<=t;O++){const U=O/t;g.x=-e*Math.cos(r+U*a)*Math.sin(o+B*c),g.y=e*Math.cos(o+B*c),g.z=e*Math.sin(r+U*a)*Math.sin(o+B*c),S.push(g.x,g.y,g.z),v.copy(g).normalize(),E.push(v.x,v.y,v.z),M.push(U+L,1-B),z.push(h++)}m.push(z)}for(let A=0;A<i;A++)for(let z=0;z<t;z++){const B=m[A][z+1],L=m[A][z],O=m[A+1][z],U=m[A+1][z+1];(A!==0||o>0)&&b.push(B,L,U),(A!==i-1||u<Math.PI)&&b.push(L,O,U)}this.setIndex(b),this.setAttribute("position",new Bt(S,3)),this.setAttribute("normal",new Bt(E,3)),this.setAttribute("uv",new Bt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class l_ extends zf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new l_(e.radius,e.detail)}}class c_ extends tn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],u=[],h=[],m=new Z,g=new Z,v=new Z;for(let b=0;b<=i;b++)for(let S=0;S<=r;S++){const E=S/r*a,M=b/i*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(E),g.y=(e+t*Math.cos(M))*Math.sin(E),g.z=t*Math.sin(M),c.push(g.x,g.y,g.z),m.x=e*Math.cos(E),m.y=e*Math.sin(E),v.subVectors(g,m).normalize(),u.push(v.x,v.y,v.z),h.push(S/r),h.push(b/i)}for(let b=1;b<=i;b++)for(let S=1;S<=r;S++){const E=(r+1)*b+S-1,M=(r+1)*(b-1)+S-1,A=(r+1)*(b-1)+S,z=(r+1)*b+S;o.push(E,M,z),o.push(M,A,z)}this.setIndex(o),this.setAttribute("position",new Bt(c,3)),this.setAttribute("normal",new Bt(u,3)),this.setAttribute("uv",new Bt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class u_ extends tn{constructor(e=1,t=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const c=[],u=[],h=[],m=[],g=new Z,v=new Z,b=new Z,S=new Z,E=new Z,M=new Z,A=new Z;for(let B=0;B<=i;++B){const L=B/i*a*Math.PI*2;z(L,a,o,e,b),z(L+.01,a,o,e,S),M.subVectors(S,b),A.addVectors(S,b),E.crossVectors(M,A),A.crossVectors(E,M),E.normalize(),A.normalize();for(let O=0;O<=r;++O){const U=O/r*Math.PI*2,k=-t*Math.cos(U),F=t*Math.sin(U);g.x=b.x+(k*A.x+F*E.x),g.y=b.y+(k*A.y+F*E.y),g.z=b.z+(k*A.z+F*E.z),u.push(g.x,g.y,g.z),v.subVectors(g,b).normalize(),h.push(v.x,v.y,v.z),m.push(B/i),m.push(O/r)}}for(let B=1;B<=i;B++)for(let L=1;L<=r;L++){const O=(r+1)*(B-1)+(L-1),U=(r+1)*B+(L-1),k=(r+1)*B+L,F=(r+1)*(B-1)+L;c.push(O,U,F),c.push(U,k,F)}this.setIndex(c),this.setAttribute("position",new Bt(u,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(m,2));function z(B,L,O,U,k){const F=Math.cos(B),P=Math.sin(B),w=O/L*B,G=Math.cos(w);k.x=U*(2+G)*.5*F,k.y=U*(2+G)*P*.5,k.z=U*Math.sin(w)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class f_ extends tn{constructor(e=new xT(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new Z,u=new Z,h=new qe;let m=new Z;const g=[],v=[],b=[],S=[];E(),this.setIndex(S),this.setAttribute("position",new Bt(g,3)),this.setAttribute("normal",new Bt(v,3)),this.setAttribute("uv",new Bt(b,2));function E(){for(let B=0;B<t;B++)M(B);M(a===!1?t:0),z(),A()}function M(B){m=e.getPointAt(B/t,m);const L=o.normals[B],O=o.binormals[B];for(let U=0;U<=r;U++){const k=U/r*Math.PI*2,F=Math.sin(k),P=-Math.cos(k);u.x=P*L.x+F*O.x,u.y=P*L.y+F*O.y,u.z=P*L.z+F*O.z,u.normalize(),v.push(u.x,u.y,u.z),c.x=m.x+i*u.x,c.y=m.y+i*u.y,c.z=m.z+i*u.z,g.push(c.x,c.y,c.z)}}function A(){for(let B=1;B<=t;B++)for(let L=1;L<=r;L++){const O=(r+1)*(B-1)+(L-1),U=(r+1)*B+(L-1),k=(r+1)*B+L,F=(r+1)*(B-1)+L;S.push(O,U,F),S.push(U,k,F)}}function z(){for(let B=0;B<=t;B++)for(let L=0;L<=r;L++)h.x=B/t,h.y=L/r,b.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new f_(new iA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class YN extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Z,a=new Z;if(e.index!==null){const o=e.attributes.position,c=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:c.count,materialIndex:0}]);for(let h=0,m=u.length;h<m;++h){const g=u[h],v=g.start,b=g.count;for(let S=v,E=v+b;S<E;S+=3)for(let M=0;M<3;M++){const A=c.getX(S+M),z=c.getX(S+(M+1)%3);r.fromBufferAttribute(o,A),a.fromBufferAttribute(o,z),eD(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let c=0,u=o.count/3;c<u;c++)for(let h=0;h<3;h++){const m=3*c+h,g=3*c+(h+1)%3;r.fromBufferAttribute(o,m),a.fromBufferAttribute(o,g),eD(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Bt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function eD(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var tD=Object.freeze({__proto__:null,BoxGeometry:Mh,CapsuleGeometry:e_,CircleGeometry:t_,ConeGeometry:n_,CylinderGeometry:qm,DodecahedronGeometry:i_,EdgesGeometry:jN,ExtrudeGeometry:r_,IcosahedronGeometry:a_,LatheGeometry:ev,OctahedronGeometry:tv,PlaneGeometry:Jm,PolyhedronGeometry:zf,RingGeometry:s_,ShapeGeometry:o_,SphereGeometry:nv,TetrahedronGeometry:l_,TorusGeometry:c_,TorusKnotGeometry:u_,TubeGeometry:f_,WireframeGeometry:YN});class KN extends _r{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class qN extends cl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zm extends _r{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Df,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mo extends Zm{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class JN extends _r{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Df,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=Y0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ZN extends _r{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Df,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QN extends _r{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Df,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $N extends _r{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Df,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=Y0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ST extends _r{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=dN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AT extends _r{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class eU extends _r{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Df,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tU extends Aa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $d(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function nU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function iU(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function TE(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const c=t[a]*e;for(let u=0;u!==e;++u)r[o++]=n[c+u]}return r}function _T(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),t.push(o)),a=n[r++];while(a!==void 0)}function ZY(n,e,t,i,r=30){const a=n.clone();a.name=e;const o=[];for(let u=0;u<a.tracks.length;++u){const h=a.tracks[u],m=h.getValueSize(),g=[],v=[];for(let b=0;b<h.times.length;++b){const S=h.times[b]*r;if(!(S<t||S>=i)){g.push(h.times[b]);for(let E=0;E<m;++E)v.push(h.values[b*m+E])}}g.length!==0&&(h.times=$d(g,h.times.constructor),h.values=$d(v,h.values.constructor),o.push(h))}a.tracks=o;let c=1/0;for(let u=0;u<a.tracks.length;++u)c>a.tracks[u].times[0]&&(c=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*c);return a.resetDuration(),a}function QY(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let o=0;o<r;++o){const c=t.tracks[o],u=c.ValueTypeName;if(u==="bool"||u==="string")continue;const h=n.tracks.find(function(A){return A.name===c.name&&A.ValueTypeName===u});if(h===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const b=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=b/3);const S=c.times.length-1;let E;if(a<=c.times[0]){const A=m,z=g-m;E=c.values.slice(A,z)}else if(a>=c.times[S]){const A=S*g+m,z=A+g-m;E=c.values.slice(A,z)}else{const A=c.createInterpolant(),z=m,B=g-m;A.evaluate(a),E=A.resultBuffer.slice(z,B)}u==="quaternion"&&new yr().fromArray(E).normalize().conjugate().toArray(E);const M=h.times.length;for(let A=0;A<M;++A){const z=A*b+v;if(u==="quaternion")yr.multiplyQuaternionsFlat(h.values,z,E,0,h.values,z);else{const B=b-v*2;for(let L=0;L<B;++L)h.values[z+L]-=E[L]}}}return n.blendMode=rT,n}class $Y{static convertArray(e,t){return $d(e,t)}static isTypedArray(e){return nU(e)}static getKeyframeOrder(e){return iU(e)}static sortedArray(e,t,i){return TE(e,t,i)}static flattenJSON(e,t,i,r){_T(e,t,i,r)}static subclip(e,t,i,r,a=30){return ZY(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return QY(e,t,i,r)}}class Qm{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let c=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(a=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(i=2,a=c);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=t[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const c=i+o>>>1;e<t[c]?o=c:i=c+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rU extends Qm{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zd,endingEnd:Zd}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,o=e+1,c=r[a],u=r[o];if(c===void 0)switch(this.getSettings_().endingStart){case Qd:a=e,c=2*t-i;break;case _0:a=r.length-2,c=t+r[a]-r[a+1];break;default:a=e,c=i}if(u===void 0)switch(this.getSettings_().endingEnd){case Qd:o=e,u=2*i-t;break;case _0:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=t}const h=(i-t)*.5,m=this.valueSize;this._weightPrev=h/(t-c),this._weightNext=h/(u-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=e*c,h=u-c,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,b=this._weightNext,S=(i-t)/(r-t),E=S*S,M=E*S,A=-v*M+2*v*E-v*S,z=(1+v)*M+(-1.5-2*v)*E+(-.5+v)*S+1,B=(-1-b)*M+(1.5+b)*E+.5*S,L=b*M-b*E;for(let O=0;O!==c;++O)a[O]=A*o[m+O]+z*o[h+O]+B*o[u+O]+L*o[g+O];return a}}class MT extends Qm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=e*c,h=u-c,m=(i-t)/(r-t),g=1-m;for(let v=0;v!==c;++v)a[v]=o[h+v]*g+o[u+v]*m;return a}}class aU extends Qm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class go{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$d(t,this.TimeBufferType),this.values=$d(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:$d(e.times,Array),values:$d(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new aU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new MT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Om:t=this.InterpolantFactoryMethodDiscrete;break;case Nm:t=this.InterpolantFactoryMethodLinear;break;case tS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Om;case this.InterpolantFactoryMethodLinear:return Nm;case this.InterpolantFactoryMethodSmooth:return tS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>t;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const u=i[c];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,u,o),e=!1;break}o=u}if(r!==void 0&&nU(r))for(let c=0,u=r.length;c!==u;++c){const h=r[c];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===tS,a=e.length-1;let o=1;for(let c=1;c<a;++c){let u=!1;const h=e[c],m=e[c+1];if(h!==m&&(c!==1||h!==e[0]))if(r)u=!0;else{const g=c*i,v=g-i,b=g+i;for(let S=0;S!==i;++S){const E=t[g+S];if(E!==t[v+S]||E!==t[b+S]){u=!0;break}}}if(u){if(c!==o){e[o]=e[c];const g=c*i,v=o*i;for(let b=0;b!==i;++b)t[v+b]=t[g+b]}++o}}if(a>0){e[o]=e[a];for(let c=a*i,u=o*i,h=0;h!==i;++h)t[u+h]=t[c+h];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}go.prototype.ValueTypeName="";go.prototype.TimeBufferType=Float32Array;go.prototype.ValueBufferType=Float32Array;go.prototype.DefaultInterpolation=Nm;class Eh extends go{constructor(e,t,i){super(e,t,i)}}Eh.prototype.ValueTypeName="bool";Eh.prototype.ValueBufferType=Array;Eh.prototype.DefaultInterpolation=Om;Eh.prototype.InterpolantFactoryMethodLinear=void 0;Eh.prototype.InterpolantFactoryMethodSmooth=void 0;class ET extends go{constructor(e,t,i,r){super(e,t,i,r)}}ET.prototype.ValueTypeName="color";class gh extends go{constructor(e,t,i,r){super(e,t,i,r)}}gh.prototype.ValueTypeName="number";class sU extends Qm{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=(i-t)/(r-t);let h=e*c;for(let m=h+c;h!==m;h+=4)yr.slerpFlat(a,0,o,h-c,o,h,u);return a}}class yh extends go{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new sU(this.times,this.values,this.getValueSize(),e)}}yh.prototype.ValueTypeName="quaternion";yh.prototype.InterpolantFactoryMethodSmooth=void 0;class Ch extends go{constructor(e,t,i){super(e,t,i)}}Ch.prototype.ValueTypeName="string";Ch.prototype.ValueBufferType=Array;Ch.prototype.DefaultInterpolation=Om;Ch.prototype.InterpolantFactoryMethodLinear=void 0;Ch.prototype.InterpolantFactoryMethodSmooth=void 0;class vh extends go{constructor(e,t,i,r){super(e,t,i,r)}}vh.prototype.ValueTypeName="vector";class Fm{constructor(e="",t=-1,i=[],r=jA){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ps(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,c=i.length;o!==c;++o)t.push(tK(i[o]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=i.length;a!==o;++a)t.push(go.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,o=[];for(let c=0;c<a;c++){let u=[],h=[];u.push((c+a-1)%a,c,(c+1)%a),h.push(0,1,0);const m=iU(u);u=TE(u,1,m),h=TE(h,1,m),!r&&u[0]===0&&(u.push(a),h.push(h[0])),o.push(new gh(".morphTargetInfluences["+t[c].name+"]",u,h).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,u=e.length;c<u;c++){const h=e[c],m=h.name.match(a);if(m&&m.length>1){const g=m[1];let v=r[g];v||(r[g]=v=[]),v.push(h)}}const o=[];for(const c in r)o.push(this.CreateFromMorphTargetSequence(c,r[c],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,b,S,E){if(b.length!==0){const M=[],A=[];_T(b,M,A,S),M.length!==0&&E.push(new g(v,M,A))}},r=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let u=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const v=h[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const b={};let S;for(S=0;S<v.length;S++)if(v[S].morphTargets)for(let E=0;E<v[S].morphTargets.length;E++)b[v[S].morphTargets[E]]=-1;for(const E in b){const M=[],A=[];for(let z=0;z!==v[S].morphTargets.length;++z){const B=v[S];M.push(B.time),A.push(B.morphTarget===E?1:0)}r.push(new gh(".morphTargetInfluence["+E+"]",M,A))}u=b.length*o}else{const b=".bones["+t[g].name+"]";i(vh,b+".position",v,"pos",r),i(yh,b+".quaternion",v,"rot",r),i(vh,b+".scale",v,"scl",r)}}return r.length===0?null:new this(a,u,r,c)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function eK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gh;case"vector":case"vector2":case"vector3":case"vector4":return vh;case"color":return ET;case"quaternion":return yh;case"bool":case"boolean":return Eh;case"string":return Ch}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function tK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=eK(n.type);if(n.times===void 0){const t=[],i=[];_T(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const eu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class CT{constructor(e,t,i){const r=this;let a=!1,o=0,c=0,u;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){c++,a===!1&&r.onStart!==void 0&&r.onStart(m,o,c),a=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,c),o===c&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=h.length;g<v;g+=2){const b=h[g],S=h[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return S}return null}}}const oU=new CT;class _a{constructor(e){this.manager=e!==void 0?e:oU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}_a.DEFAULT_MATERIAL_NAME="__DEFAULT";const Xc={};class nK extends Error{constructor(e,t){super(e),this.response=t}}class ks extends _a{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=eu.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Xc[e]!==void 0){Xc[e].push({onLoad:t,onProgress:i,onError:r});return}Xc[e]=[],Xc[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,u=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=Xc[e],g=h.body.getReader(),v=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),b=v?parseInt(v):0,S=b!==0;let E=0;const M=new ReadableStream({start(A){z();function z(){g.read().then(({done:B,value:L})=>{if(B)A.close();else{E+=L.byteLength;const O=new ProgressEvent("progress",{lengthComputable:S,loaded:E,total:b});for(let U=0,k=m.length;U<k;U++){const F=m[U];F.onProgress&&F.onProgress(O)}A.enqueue(L),z()}},B=>{A.error(B)})}}});return new Response(M)}else throw new nK(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(u){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return h.json();default:if(c==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),v=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(v);return h.arrayBuffer().then(S=>b.decode(S))}}}).then(h=>{eu.add(e,h);const m=Xc[e];delete Xc[e];for(let g=0,v=m.length;g<v;g++){const b=m[g];b.onLoad&&b.onLoad(h)}}).catch(h=>{const m=Xc[e];if(m===void 0)throw this.manager.itemError(e),h;delete Xc[e];for(let g=0,v=m.length;g<v;g++){const b=m[g];b.onError&&b.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class iK extends _a{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ks(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Fm.parse(e[i]);t.push(r)}return t}}class rK extends _a{constructor(e){super(e)}load(e,t,i,r){const a=this,o=[],c=new ZA,u=new ks(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let h=0;function m(g){u.load(e[g],function(v){const b=a.parse(v,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},h+=1,h===6&&(b.mipmapCount===1&&(c.minFilter=Hi),c.image=o,c.format=b.format,c.needsUpdate=!0,t&&t(c))},i,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else u.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const b=v.mipmaps.length/v.mipmapCount;for(let S=0;S<b;S++){o[S]={mipmaps:[]};for(let E=0;E<v.mipmapCount;E++)o[S].mipmaps.push(v.mipmaps[S*v.mipmapCount+E]),o[S].format=v.format,o[S].width=v.width,o[S].height=v.height}c.image=o}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=Hi),c.format=v.format,c.needsUpdate=!0,t&&t(c)},i,r);return c}}class z0 extends _a{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=eu.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const c=T0("img");function u(){m(),eu.add(e,this),t&&t(this),a.manager.itemEnd(e)}function h(g){m(),r&&r(g),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){c.removeEventListener("load",u,!1),c.removeEventListener("error",h,!1)}return c.addEventListener("load",u,!1),c.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),a.manager.itemStart(e),c.src=e,c}}class aK extends _a{constructor(e){super(e)}load(e,t,i,r){const a=new J0;a.colorSpace=ya;const o=new z0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function u(h){o.load(e[h],function(m){a.images[h]=m,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let h=0;h<e.length;++h)u(h);return a}}class sK extends _a{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ac,c=new ks(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(u){let h;try{h=a.parse(u)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:Ls,o.wrapT=h.wrapT!==void 0?h.wrapT:Ls,o.magFilter=h.magFilter!==void 0?h.magFilter:Hi,o.minFilter=h.minFilter!==void 0?h.minFilter:Hi,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=ho),h.mipmapCount===1&&(o.minFilter=Hi),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,t&&t(o,h)},i,r),o}}class lU extends _a{constructor(e){super(e)}load(e,t,i,r){const a=new wi,o=new z0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class Lf extends En{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class cU extends Lf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const n1=new Pt,nD=new Z,iD=new Z;class TT{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $0,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;nD.setFromMatrixPosition(e.matrixWorld),t.position.copy(nD),iD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(iD),t.updateMatrixWorld(),n1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class oK extends TT{constructor(){super(new Ti(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Um*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wT extends Lf{constructor(e,t,i=0,r=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new oK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const rD=new Pt,Dy=new Z,i1=new Z;class lK extends TT{constructor(){super(new Ti(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new Un(2,1,1,1),new Un(0,1,1,1),new Un(3,1,1,1),new Un(1,1,1,1),new Un(3,0,1,1),new Un(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Dy.setFromMatrixPosition(e.matrixWorld),i.position.copy(Dy),i1.copy(i.position),i1.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(i1),i.updateMatrixWorld(),r.makeTranslation(-Dy.x,-Dy.y,-Dy.z),rD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rD)}}class RT extends Lf{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new lK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let sl=class extends XA{constructor(e=-1,t=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,c=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=h*this.view.offsetX,o=a+h*this.view.width,c-=m*this.view.offsetY,u=c-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class cK extends TT{constructor(){super(new sl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class BT extends Lf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.shadow=new cK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class uU extends Lf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class fU extends Lf{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class dU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(i*a)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*i*a),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class hU extends Lf{constructor(e=new dU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class d_ extends _a{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,o=new ks(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new bt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new bt().setHex(o.value);break;case"v2":r.uniforms[a].value=new qe().fromArray(o.value);break;case"v3":r.uniforms[a].value=new Z().fromArray(o.value);break;case"v4":r.uniforms[a].value=new Un().fromArray(o.value);break;case"m3":r.uniforms[a].value=new en().fromArray(o.value);break;case"m4":r.uniforms[a].value=new Pt().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new qe().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return d_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:KN,SpriteMaterial:uT,RawShaderMaterial:qN,ShaderMaterial:cl,PointsMaterial:JA,MeshPhysicalMaterial:mo,MeshStandardMaterial:Zm,MeshPhongMaterial:JN,MeshToonMaterial:ZN,MeshNormalMaterial:QN,MeshLambertMaterial:$N,MeshDepthMaterial:ST,MeshDistanceMaterial:AT,MeshBasicMaterial:Os,MeshMatcapMaterial:eU,LineDashedMaterial:tU,LineBasicMaterial:Aa,Material:_r};return new t[e]}}class vf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class pU extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class mU extends _a{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ks(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(b,S){if(t[S]!==void 0)return t[S];const M=b.interleavedBuffers[S],A=a(b,M.buffer),z=fm(M.type,A),B=new Z0(z,M.stride);return B.uuid=M.uuid,t[S]=B,B}function a(b,S){if(i[S]!==void 0)return i[S];const M=b.arrayBuffers[S],A=new Uint32Array(M).buffer;return i[S]=A,A}const o=e.isInstancedBufferGeometry?new pU:new tn,c=e.data.index;if(c!==void 0){const b=fm(c.type,c.array);o.setIndex(new Pn(b,1))}const u=e.data.attributes;for(const b in u){const S=u[b];let E;if(S.isInterleavedBufferAttribute){const M=r(e.data,S.data);E=new Cf(M,S.itemSize,S.offset,S.normalized)}else{const M=fm(S.type,S.array),A=S.isInstancedBufferAttribute?ph:Pn;E=new A(M,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),S.usage!==void 0&&E.setUsage(S.usage),o.setAttribute(b,E)}const h=e.data.morphAttributes;if(h)for(const b in h){const S=h[b],E=[];for(let M=0,A=S.length;M<A;M++){const z=S[M];let B;if(z.isInterleavedBufferAttribute){const L=r(e.data,z.data);B=new Cf(L,z.itemSize,z.offset,z.normalized)}else{const L=fm(z.type,z.array);B=new Pn(L,z.itemSize,z.normalized)}z.name!==void 0&&(B.name=z.name),E.push(B)}o.morphAttributes[b]=E}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,S=g.length;b!==S;++b){const E=g[b];o.addGroup(E.start,E.count,E.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const b=new Z;v.center!==void 0&&b.fromArray(v.center),o.boundingSphere=new $r(b,v.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class uK extends _a{constructor(e){super(e)}load(e,t,i,r){const a=this,o=this.path===""?vf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new ks(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){let h=null;try{h=JSON.parse(u)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(h,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?vf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new ks(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),c=JSON.parse(o),u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(c)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(h)}),c=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,c),h=this.parseObject(e.object,a,u,c,i),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let g=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,c,o,t),h=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,h),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new ch().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=new Q0().fromJSON(e[a],r);i[c.uuid]=c}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new mU;for(let a=0,o=e.length;a<o;a++){let c;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":c=r.parse(u);break;default:u.type in tD?c=tD[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}c.uuid=u.uuid,u.name!==void 0&&(c.name=u.name),u.userData!==void 0&&(c.userData=u.userData),i[u.uuid]=c}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new d_;a.setTextures(t);for(let o=0,c=e.length;o<c;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=Fm.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function o(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function c(u){if(typeof u=="string"){const h=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(m)}else return u.data?{data:fm(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new CT(t);a=new z0(u),a.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],v=g.url;if(Array.isArray(v)){const b=[];for(let S=0,E=v.length;S<E;S++){const M=v[S],A=c(M);A!==null&&(A instanceof HTMLImageElement?b.push(A):b.push(new ac(A.data,A.width,A.height)))}r[g.uuid]=new gf(b)}else{const b=c(g.url);r[g.uuid]=new gf(b)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(o){if(typeof o=="string"){const c=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await r.loadAsync(u)}else return o.data?{data:fm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new z0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const u=e[o],h=u.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const b=h[g],S=await a(b);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new ac(S.data,S.width,S.height)))}i[u.uuid]=new gf(m)}else{const m=await a(u.url);i[u.uuid]=new gf(m)}}}return i}parseTextures(e,t){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const u=t[c.image],h=u.data;let m;Array.isArray(h)?(m=new J0,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new ac:m=new wi,h&&(m.needsUpdate=!0)),m.source=u,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,fK)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],aD),m.wrapT=i(c.wrap[1],aD)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,sD)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,sD)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),r[c.uuid]=m}return r}parseObject(e,t,i,r,a){let o;function c(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const b=[];for(let S=0,E=v.length;S<E;S++){const M=v[S];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),b.push(i[M])}return b}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function h(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let m,g;switch(e.type){case"Scene":o=new KA,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new bt(e.background):o.background=h(e.background)),e.environment!==void 0&&(o.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new YA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new WA(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ti(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new sl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new uU(e.color,e.intensity);break;case"DirectionalLight":o=new BT(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new RT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new fU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new wT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new cU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new hU().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=u(e.material),o=new fT(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=u(e.material),o=new nr(m,g);break;case"InstancedMesh":m=c(e.geometry),g=u(e.material);const v=e.count,b=e.instanceMatrix,S=e.instanceColor;o=new dT(m,g,v),o.instanceMatrix=new ph(new Float32Array(b.array),16),S!==void 0&&(o.instanceColor=new ph(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=c(e.geometry),g=u(e.material),o=new ON(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(E=>{const M=new Sa;M.min.fromArray(E.boxMin),M.max.fromArray(E.boxMax);const A=new $r;return A.radius=E.sphereRadius,A.center.fromArray(E.sphereCenter),{boxInitialized:E.boxInitialized,box:M,sphereInitialized:E.sphereInitialized,sphere:A}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=h(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=h(e.colorsTexture.uuid));break;case"LOD":o=new LN;break;case"Line":o=new du(c(e.geometry),u(e.material));break;case"LineLoop":o=new hT(c(e.geometry),u(e.material));break;case"LineSegments":o=new fl(c(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new pT(c(e.geometry),u(e.material));break;case"Sprite":o=new zN(u(e.material));break;case"Group":o=new $c;break;case"Bone":o=new qA;break;default:o=new En}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let b=0;b<v.length;b++)o.add(this.parseObject(v[b],t,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let b=0;b<v.length;b++){const S=v[b];o.animations.push(a[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const v=e.levels;for(let b=0;b<v.length;b++){const S=v[b],E=o.getObjectByProperty("uuid",S.object);E!==void 0&&o.addLevel(E,S.distance,S.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new En}})}}const fK={UVMapping:OA,CubeReflectionMapping:uu,CubeRefractionMapping:_f,EquirectangularReflectionMapping:S0,EquirectangularRefractionMapping:A0,CubeUVReflectionMapping:Km},aD={RepeatWrapping:Mf,ClampToEdgeWrapping:Ls,MirroredRepeatWrapping:Rm},sD={NearestFilter:kr,NearestMipmapNearestFilter:NA,NearestMipmapLinearFilter:Jd,LinearFilter:Hi,LinearMipmapNearestFilter:ym,LinearMipmapLinearFilter:ho};class gU extends _a{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=eu.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(h=>{t&&t(h),a.manager.itemEnd(e)}).catch(h=>{r&&r(h)});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const u=fetch(e,c).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(h){return eu.add(e,h),t&&t(h),a.manager.itemEnd(e),h}).catch(function(h){r&&r(h),eu.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});eu.add(e,u),a.manager.itemStart(e)}}let zb;class DT{static getContext(){return zb===void 0&&(zb=new(window.AudioContext||window.webkitAudioContext)),zb}static setContext(e){zb=e}}class dK extends _a{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ks(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const h=u.slice(0);DT.getContext().decodeAudioData(h,function(g){t(g)}).catch(c)}catch(h){c(h)}},i,r);function c(u){r?r(u):console.error(u),a.manager.itemError(e)}}}const oD=new Pt,lD=new Pt,Dd=new Pt;class hK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ti,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ti,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Dd.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(lh*t.fov*.5)/t.zoom;let c,u;lD.elements[12]=-r,oD.elements[12]=r,c=-o*t.aspect+a,u=o*t.aspect+a,Dd.elements[0]=2*t.near/(u-c),Dd.elements[8]=(u+c)/(u-c),this.cameraL.projectionMatrix.copy(Dd),c=-o*t.aspect-a,u=o*t.aspect-a,Dd.elements[0]=2*t.near/(u-c),Dd.elements[8]=(u+c)/(u-c),this.cameraR.projectionMatrix.copy(Dd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(oD)}}class yU extends Ti{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class zT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=cD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=cD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function cD(){return performance.now()}const zd=new Z,uD=new yr,pK=new Z,Ld=new Z;class mK extends En{constructor(){super(),this.type="AudioListener",this.context=DT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zd,uD,pK),Ld.set(0,0,-1).applyQuaternion(uD),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(zd.x,r),t.positionY.linearRampToValueAtTime(zd.y,r),t.positionZ.linearRampToValueAtTime(zd.z,r),t.forwardX.linearRampToValueAtTime(Ld.x,r),t.forwardY.linearRampToValueAtTime(Ld.y,r),t.forwardZ.linearRampToValueAtTime(Ld.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(zd.x,zd.y,zd.z),t.setOrientation(Ld.x,Ld.y,Ld.z,i.x,i.y,i.z)}}class vU extends En{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Od=new Z,fD=new yr,gK=new Z,Nd=new Z;class yK extends vU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Od,fD,gK),Nd.set(0,0,1).applyQuaternion(fD);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Od.x,i),t.positionY.linearRampToValueAtTime(Od.y,i),t.positionZ.linearRampToValueAtTime(Od.z,i),t.orientationX.linearRampToValueAtTime(Nd.x,i),t.orientationY.linearRampToValueAtTime(Nd.y,i),t.orientationZ.linearRampToValueAtTime(Nd.z,i)}else t.setPosition(Od.x,Od.y,Od.z),t.setOrientation(Nd.x,Nd.y,Nd.z)}}class vK{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class xU{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,o;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==r;++c)i[a+c]=i[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(i,a,0,c,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-a,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,h=t+t;u!==h;++u)if(i[u]!==i[u+t]){c.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,o=r;a!==o;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){yr.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const o=this._workIndex*a;yr.multiplyQuaternionsFlat(e,o,e,t,e,i),yr.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,a){const o=1-r;for(let c=0;c!==a;++c){const u=t+c;e[u]=e[u]*o+e[i+c]*r}}_lerpAdditive(e,t,i,r,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[i+o]*r}}}const LT="\\[\\]\\.:\\/",xK=new RegExp("["+LT+"]","g"),OT="[^"+LT+"]",bK="[^"+LT.replace("\\.","")+"]",SK=/((?:WC+[\/:])*)/.source.replace("WC",OT),AK=/(WCOD+)?/.source.replace("WCOD",bK),_K=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OT),MK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OT),EK=new RegExp("^"+SK+AK+_K+MK+"$"),CK=["material","materials","bones","map"];class TK{constructor(e,t,i){const r=i||Nn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Nn{constructor(e,t,i){this.path=t,this.parsedPath=i||Nn.parseTrackName(t),this.node=Nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Nn.Composite(e,t,i):new Nn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(xK,"")}static parseTrackName(e){const t=EK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);CK.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const u=i(c.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Nn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[r];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nn.Composite=TK;Nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nn.prototype.GetterByBindingType=[Nn.prototype._getValue_direct,Nn.prototype._getValue_array,Nn.prototype._getValue_arrayElement,Nn.prototype._getValue_toArray];Nn.prototype.SetterByBindingTypeAndVersioning=[[Nn.prototype._setValue_direct,Nn.prototype._setValue_direct_setNeedsUpdate,Nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_array,Nn.prototype._setValue_array_setNeedsUpdate,Nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_arrayElement,Nn.prototype._setValue_arrayElement_setNeedsUpdate,Nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nn.prototype._setValue_fromArray,Nn.prototype._setValue_fromArray_setNeedsUpdate,Nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class wK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ps(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let c,u=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],b=v.uuid;let S=t[b];if(S===void 0){S=u++,t[b]=S,e.push(v);for(let E=0,M=o;E!==M;++E)a[E].push(new Nn(v,i[E],r[E]))}else if(S<h){c=e[S];const E=--h,M=e[E];t[M.uuid]=S,e[S]=M,t[b]=E,e[E]=v;for(let A=0,z=o;A!==z;++A){const B=a[A],L=B[E];let O=B[S];B[S]=L,O===void 0&&(O=new Nn(v,i[A],r[A])),B[E]=O}}else e[S]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],h=u.uuid,m=t[h];if(m!==void 0&&m>=a){const g=a++,v=e[g];t[v.uuid]=m,e[m]=v,t[h]=g,e[g]=u;for(let b=0,S=r;b!==S;++b){const E=i[b],M=E[g],A=E[m];E[m]=M,E[g]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,u=arguments.length;c!==u;++c){const h=arguments[c],m=h.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<a){const v=--a,b=e[v],S=--o,E=e[S];t[b.uuid]=g,e[g]=b,t[E.uuid]=v,e[v]=E,e.pop();for(let M=0,A=r;M!==A;++M){const z=i[M],B=z[v],L=z[S];z[g]=B,z[v]=L,z.pop()}}else{const v=--o,b=e[v];v>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let S=0,E=r;S!==E;++S){const M=i[S];M[g]=M[v],M.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,c=this._parsedPaths,u=this._objects,h=u.length,m=this.nCachedObjects_,g=new Array(h);r=a.length,i[e]=r,o.push(e),c.push(t),a.push(g);for(let v=m,b=u.length;v!==b;++v){const S=u[v];g[v]=new Nn(S,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,u=o[c],h=e[c];t[h]=i,o[i]=u,o.pop(),a[i]=a[c],a.pop(),r[i]=r[c],r.pop()}}}class bU{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,o=a.length,c=new Array(o),u={endingStart:Zd,endingEnd:Zd};for(let h=0;h!==o;++h){const m=a[h].createInterpolant(null);c[h]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,c=r/a;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const u=c.parameterPositions,h=c.sampleValues;return u[0]=a,u[1]=a+i,h[0]=e/o,h[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const u=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case rT:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(o),h[m].accumulateAdditive(c);break;case jA:default:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(o),h[m].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===uN;if(e===0)return a===-1?r:o&&(a&1)===1?t-r:r;if(i===lN){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const c=Math.floor(r/t);r-=t*c,a+=Math.abs(c);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(o&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Qd,r.endingEnd=Qd):(e?r.endingStart=this.zeroSlopeAtStart?Qd:Zd:r.endingStart=_0,t?r.endingEnd=this.zeroSlopeAtEnd?Qd:Zd:r.endingEnd=_0)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=a,u[0]=t,c[1]=a+e,u[1]=i,this}}const RK=new Float32Array(1);class BK extends lc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,c=e._interpolants,u=i.uuid,h=this._bindingsByRootAndName;let m=h[u];m===void 0&&(m={},h[u]=m);for(let g=0;g!==a;++g){const v=r[g],b=v.name;let S=m[b];if(S!==void 0)++S.referenceCount,o[g]=S;else{if(S=o[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,u,b));continue}const E=t&&t._propertyBindings[g].binding.parsedPath;S=new xU(Nn.create(i,b,E),v.ValueTypeName,v.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,u,b),o[g]=S}c[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],u=c.knownActions,h=u[u.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,u[m]=h,u.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,c=o[r],u=t[t.length-1],h=e._cacheIndex;u._cacheIndex=h,t[h]=u,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new MT(new Float32Array(2),new Float32Array(2),1,RK),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let o=typeof e=="string"?Fm.findByName(r,e):e;const c=o!==null?o.uuid:e,u=this._actionsByClip[c];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=jA),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;h=u.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const m=new bU(this,o,t,i);return this._bindAction(m,h),this._addInactiveAction(m,c,a),m}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?Fm.findByName(i,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(r,e,a,o);const c=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)c[h].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let c=0,u=o.length;c!==u;++c){const h=o[c];this._deactivateAction(h);const m=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,u=c[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class DK extends GA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new VA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class zK extends GA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new q0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class NT{constructor(e){this.value=e}clone(){return new NT(this.value.clone===void 0?this.value:this.value.clone())}}let LK=0;class OK extends lc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:LK++}),this.name="",this.usage=E0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class NK extends Z0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class UK{constructor(e,t,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const dD=new Pt;class UT{constructor(e,t,i=0,r=1/0){this.ray=new _h(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Pm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return dD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(dD),this}intersectObject(e,t=!0,i=[]){return wE(e,this,i,t),i.sort(hD),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)wE(e[r],this,i,t);return i.sort(hD),i}}function hD(n,e){return n.distance-e.distance}function wE(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,c=a.length;o<c;o++)wE(a[o],e,t,!0)}}class RE{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Qt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class PK{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class PT{constructor(e,t,i,r){PT.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const pD=new qe;class IK{constructor(e=new qe(1/0,1/0),t=new qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=pD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,pD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const mD=new Z,Lb=new Z;class kK{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){mD.subVectors(e,this.start),Lb.subVectors(this.end,this.start);const i=Lb.dot(Lb);let a=Lb.dot(mD)/i;return t&&(a=Qt(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const gD=new Z;class FK extends En{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new tn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,u=32;o<u;o++,c++){const h=o/u*Math.PI*2,m=c/u*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Bt(r,3));const a=new Aa({fog:!1,toneMapped:!1});this.cone=new fl(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),gD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(gD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lf=new Z,Ob=new Pt,r1=new Pt;class HK extends fl{constructor(e){const t=SU(e),i=new tn,r=[],a=[],o=new bt(0,0,1),c=new bt(0,1,0);for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(o.r,o.g,o.b),a.push(c.r,c.g,c.b))}i.setAttribute("position",new Bt(r,3)),i.setAttribute("color",new Bt(a,3));const u=new Aa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");r1.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(Ob.multiplyMatrices(r1,c.matrixWorld),lf.setFromMatrixPosition(Ob),r.setXYZ(o,lf.x,lf.y,lf.z),Ob.multiplyMatrices(r1,c.parent.matrixWorld),lf.setFromMatrixPosition(Ob),r.setXYZ(o+1,lf.x,lf.y,lf.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function SU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...SU(n.children[t]));return e}class jK extends nr{constructor(e,t,i){const r=new nv(t,4,2),a=new Os({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const GK=new Z,yD=new bt,vD=new bt;class VK extends En{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new tv(t);r.rotateY(Math.PI*.5),this.material=new Os({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new Pn(o,3)),this.add(new nr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");yD.copy(this.light.color),vD.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?yD:vD;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(GK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class XK extends fl{constructor(e=10,t=10,i=4473924,r=8947848){i=new bt(i),r=new bt(r);const a=t/2,o=e/t,c=e/2,u=[],h=[];for(let v=0,b=0,S=-c;v<=t;v++,S+=o){u.push(-c,0,S,c,0,S),u.push(S,0,-c,S,0,c);const E=v===a?i:r;E.toArray(h,b),b+=3,E.toArray(h,b),b+=3,E.toArray(h,b),b+=3,E.toArray(h,b),b+=3}const m=new tn;m.setAttribute("position",new Bt(u,3)),m.setAttribute("color",new Bt(h,3));const g=new Aa({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class WK extends fl{constructor(e=10,t=16,i=8,r=64,a=4473924,o=8947848){a=new bt(a),o=new bt(o);const c=[],u=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),b=Math.sin(v)*e,S=Math.cos(v)*e;c.push(0,0,0),c.push(b,0,S);const E=g&1?a:o;u.push(E.r,E.g,E.b),u.push(E.r,E.g,E.b)}for(let g=0;g<i;g++){const v=g&1?a:o,b=e-e/i*g;for(let S=0;S<r;S++){let E=S/r*(Math.PI*2),M=Math.sin(E)*b,A=Math.cos(E)*b;c.push(M,0,A),u.push(v.r,v.g,v.b),E=(S+1)/r*(Math.PI*2),M=Math.sin(E)*b,A=Math.cos(E)*b,c.push(M,0,A),u.push(v.r,v.g,v.b)}}const h=new tn;h.setAttribute("position",new Bt(c,3)),h.setAttribute("color",new Bt(u,3));const m=new Aa({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const xD=new Z,Nb=new Z,bD=new Z;class YK extends En{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new tn;r.setAttribute("position",new Bt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Aa({fog:!1,toneMapped:!1});this.lightPlane=new du(r,a),this.add(this.lightPlane),r=new tn,r.setAttribute("position",new Bt([0,0,0,0,0,1],3)),this.targetLine=new du(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),xD.setFromMatrixPosition(this.light.matrixWorld),Nb.setFromMatrixPosition(this.light.target.matrixWorld),bD.subVectors(Nb,xD),this.lightPlane.lookAt(Nb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Nb),this.targetLine.scale.z=bD.length()}}const Ub=new Z,Zi=new XA;class KK extends fl{constructor(e){const t=new tn,i=new Aa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(S,E){u(S),u(E)}function u(S){r.push(0,0,0),a.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(r.length/3-1)}t.setAttribute("position",new Bt(r,3)),t.setAttribute("color",new Bt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new bt(16755200),m=new bt(16711680),g=new bt(43775),v=new bt(16777215),b=new bt(3355443);this.setColors(h,m,g,v,b)}setColors(e,t,i,r,a){const c=this.geometry.getAttribute("color");c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,r.r,r.g,r.b),c.setXYZ(39,r.r,r.g,r.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Zi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===il?-1:0;sr("c",t,e,Zi,0,0,a),sr("t",t,e,Zi,0,0,1),sr("n1",t,e,Zi,-1,-1,a),sr("n2",t,e,Zi,i,-1,a),sr("n3",t,e,Zi,-1,r,a),sr("n4",t,e,Zi,i,r,a),sr("f1",t,e,Zi,-1,-1,1),sr("f2",t,e,Zi,i,-1,1),sr("f3",t,e,Zi,-1,r,1),sr("f4",t,e,Zi,i,r,1),sr("u1",t,e,Zi,i*.7,r*1.1,a),sr("u2",t,e,Zi,-1*.7,r*1.1,a),sr("u3",t,e,Zi,0,r*2,a),sr("cf1",t,e,Zi,-1,0,1),sr("cf2",t,e,Zi,i,0,1),sr("cf3",t,e,Zi,0,-1,1),sr("cf4",t,e,Zi,0,r,1),sr("cn1",t,e,Zi,-1,0,a),sr("cn2",t,e,Zi,i,0,a),sr("cn3",t,e,Zi,0,-1,a),sr("cn4",t,e,Zi,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sr(n,e,t,i,r,a,o){Ub.set(r,a,o).unproject(i);const c=e[n];if(c!==void 0){const u=t.getAttribute("position");for(let h=0,m=c.length;h<m;h++)u.setXYZ(c[h],Ub.x,Ub.y,Ub.z)}}const Pb=new Sa;class qK extends fl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new tn;a.setIndex(new Pn(i,1)),a.setAttribute("position",new Pn(r,3)),super(a,new Aa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Pb.setFromObject(this.object),Pb.isEmpty())return;const e=Pb.min,t=Pb.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JK extends fl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new tn;a.setIndex(new Pn(i,1)),a.setAttribute("position",new Bt(r,3)),super(a,new Aa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ZK extends du{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new tn;o.setAttribute("position",new Bt(a,3)),o.computeBoundingSphere(),super(o,new Aa({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new tn;u.setAttribute("position",new Bt(c,3)),u.computeBoundingSphere(),this.add(new nr(u,new Os({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const SD=new Z;let Ib,a1;class QK extends En{constructor(e=new Z(0,0,1),t=new Z(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",Ib===void 0&&(Ib=new tn,Ib.setAttribute("position",new Bt([0,0,0,0,1,0],3)),a1=new qm(0,.5,1,5,1),a1.translate(0,-.5,0)),this.position.copy(t),this.line=new du(Ib,new Aa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new nr(a1,new Os({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{SD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(SD,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $K extends fl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new tn;r.setAttribute("position",new Bt(t,3)),r.setAttribute("color",new Bt(i,3));const a=new Aa({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new bt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class eq{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new w0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,o){return this.currentPath.bezierCurveTo(e,t,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const z=[];for(let B=0,L=A.length;B<L;B++){const O=A[B],U=new ch;U.curves=O.curves,z.push(U)}return z}function i(A,z){const B=z.length;let L=!1;for(let O=B-1,U=0;U<B;O=U++){let k=z[O],F=z[U],P=F.x-k.x,w=F.y-k.y;if(Math.abs(w)>Number.EPSILON){if(w<0&&(k=z[U],P=-P,F=z[O],w=-w),A.y<k.y||A.y>F.y)continue;if(A.y===k.y){if(A.x===k.x)return!0}else{const G=w*(A.x-k.x)-P*(A.y-k.y);if(G===0)return!0;if(G<0)continue;L=!L}}else{if(A.y!==k.y)continue;if(F.x<=A.x&&A.x<=k.x||k.x<=A.x&&A.x<=F.x)return!0}}return L}const r=sc.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,u;const h=[];if(a.length===1)return c=a[0],u=new ch,u.curves=c.curves,h.push(u),h;let m=!r(a[0].getPoints());m=e?!m:m;const g=[],v=[];let b=[],S=0,E;v[S]=void 0,b[S]=[];for(let A=0,z=a.length;A<z;A++)c=a[A],E=c.getPoints(),o=r(E),o=e?!o:o,o?(!m&&v[S]&&S++,v[S]={s:new ch,p:E},v[S].s.curves=c.curves,m&&S++,b[S]=[]):b[S].push({h:c,p:E[0]});if(!v[0])return t(a);if(v.length>1){let A=!1,z=0;for(let B=0,L=v.length;B<L;B++)g[B]=[];for(let B=0,L=v.length;B<L;B++){const O=b[B];for(let U=0;U<O.length;U++){const k=O[U];let F=!0;for(let P=0;P<v.length;P++)i(k.p,v[P].p)&&(B!==P&&z++,F?(F=!1,g[P].push(k)):A=!0);F&&g[B].push(k)}}z>0&&A===!1&&(b=g)}let M;for(let A=0,z=v.length;A<z;A++){u=v[A].s,h.push(u),M=b[A];for(let B=0,L=M.length;B<L;B++)u.holes.push(M[B].h)}return h}}class tq extends lc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function nq(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function iq(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function rq(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function BE(n,e,t,i){const r=aq(i);switch(t){case QC:return n*e;case eT:return n*e;case tT:return n*e*2;case kA:return n*e/r.components*r.byteLength;case K0:return n*e/r.components*r.byteLength;case nT:return n*e*2/r.components*r.byteLength;case FA:return n*e*2/r.components*r.byteLength;case $C:return n*e*3/r.components*r.byteLength;case ba:return n*e*4/r.components*r.byteLength;case HA:return n*e*4/r.components*r.byteLength;case qy:case Jy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Zy:case Qy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case RS:case DS:return Math.max(n,16)*Math.max(e,8)/4;case wS:case BS:return Math.max(n,8)*Math.max(e,8)/2;case zS:case LS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case OS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case NS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case US:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case PS:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case IS:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case kS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case FS:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case HS:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case jS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case GS:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case VS:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case XS:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case WS:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case YS:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case KS:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case $y:case qS:case JS:return Math.ceil(n/4)*Math.ceil(e/4)*16;case iT:case ZS:return Math.ceil(n/4)*Math.ceil(e/4)*8;case QS:case $S:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function aq(n){switch(n){case ol:case qC:return{byteLength:1,components:1};case Bm:case JC:case Ah:return{byteLength:2,components:1};case PA:case IA:return{byteLength:2,components:4};case fu:case UA:case Ha:return{byteLength:4,components:1};case ZC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class sq{static contain(e,t){return nq(e,t)}static cover(e,t){return iq(e,t)}static fill(e){return rq(e)}static getByteLength(e,t,i,r){return BE(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:W0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=W0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function AU(){let n=null,e=!1,t=null,i=null;function r(a,o){t(a,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function oq(n){const e=new WeakMap;function t(c,u){const h=c.array,m=c.usage,g=h.byteLength,v=n.createBuffer();n.bindBuffer(u,v),n.bufferData(u,h,m),c.onUploadCallback();let b;if(h instanceof Float32Array)b=n.FLOAT;else if(h instanceof Uint16Array)c.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)b=n.SHORT;else if(h instanceof Uint32Array)b=n.UNSIGNED_INT;else if(h instanceof Int32Array)b=n.INT;else if(h instanceof Int8Array)b=n.BYTE;else if(h instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:b,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:g}}function i(c,u,h){const m=u.array,g=u.updateRanges;if(n.bindBuffer(h,c),g.length===0)n.bufferSubData(h,0,m);else{g.sort((b,S)=>b.start-S.start);let v=0;for(let b=1;b<g.length;b++){const S=g[v],E=g[b];E.start<=S.start+S.count+1?S.count=Math.max(S.count,E.start+E.count-S.start):(++v,g[v]=E)}g.length=v+1;for(let b=0,S=g.length;b<S;b++){const E=g[b];n.bufferSubData(h,E.start*m.BYTES_PER_ELEMENT,m,E.start,E.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=e.get(c);u&&(n.deleteBuffer(u.buffer),e.delete(c))}function o(c,u){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const h=e.get(c);if(h===void 0)e.set(c,t(c,u));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,c,u),h.version=c.version}}return{get:r,remove:a,update:o}}var lq=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,uq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,fq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,yq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,vq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,xq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Sq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Aq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_q=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Mq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Eq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Cq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Tq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Rq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Bq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Dq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Lq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Oq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Nq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Uq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Pq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Iq="gl_FragColor = linearToOutputTexel( gl_FragColor );",kq=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Hq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Gq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Vq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Xq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Yq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Kq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Jq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Zq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Qq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$q=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eJ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tJ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nJ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iJ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rJ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,aJ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,sJ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,oJ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uJ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fJ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dJ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hJ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yJ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bJ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,SJ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,AJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_J=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,MJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,EJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,CJ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,TJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,RJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,BJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,DJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,zJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,LJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,OJ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,NJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,UJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,PJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,IJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,FJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,HJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,VJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,XJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,WJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,YJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,KJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,qJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,JJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ZJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,QJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$J=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,iZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,aZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lZ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uZ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dZ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,mZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vZ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xZ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bZ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,AZ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Z=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MZ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EZ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,CZ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TZ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wZ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,RZ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BZ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DZ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zZ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LZ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OZ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NZ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,UZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PZ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IZ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kZ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,FZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:lq,alphahash_pars_fragment:cq,alphamap_fragment:uq,alphamap_pars_fragment:fq,alphatest_fragment:dq,alphatest_pars_fragment:hq,aomap_fragment:pq,aomap_pars_fragment:mq,batching_pars_vertex:gq,batching_vertex:yq,begin_vertex:vq,beginnormal_vertex:xq,bsdfs:bq,iridescence_fragment:Sq,bumpmap_pars_fragment:Aq,clipping_planes_fragment:_q,clipping_planes_pars_fragment:Mq,clipping_planes_pars_vertex:Eq,clipping_planes_vertex:Cq,color_fragment:Tq,color_pars_fragment:wq,color_pars_vertex:Rq,color_vertex:Bq,common:Dq,cube_uv_reflection_fragment:zq,defaultnormal_vertex:Lq,displacementmap_pars_vertex:Oq,displacementmap_vertex:Nq,emissivemap_fragment:Uq,emissivemap_pars_fragment:Pq,colorspace_fragment:Iq,colorspace_pars_fragment:kq,envmap_fragment:Fq,envmap_common_pars_fragment:Hq,envmap_pars_fragment:jq,envmap_pars_vertex:Gq,envmap_physical_pars_fragment:eJ,envmap_vertex:Vq,fog_vertex:Xq,fog_pars_vertex:Wq,fog_fragment:Yq,fog_pars_fragment:Kq,gradientmap_pars_fragment:qq,lightmap_pars_fragment:Jq,lights_lambert_fragment:Zq,lights_lambert_pars_fragment:Qq,lights_pars_begin:$q,lights_toon_fragment:tJ,lights_toon_pars_fragment:nJ,lights_phong_fragment:iJ,lights_phong_pars_fragment:rJ,lights_physical_fragment:aJ,lights_physical_pars_fragment:sJ,lights_fragment_begin:oJ,lights_fragment_maps:lJ,lights_fragment_end:cJ,logdepthbuf_fragment:uJ,logdepthbuf_pars_fragment:fJ,logdepthbuf_pars_vertex:dJ,logdepthbuf_vertex:hJ,map_fragment:pJ,map_pars_fragment:mJ,map_particle_fragment:gJ,map_particle_pars_fragment:yJ,metalnessmap_fragment:vJ,metalnessmap_pars_fragment:xJ,morphinstance_vertex:bJ,morphcolor_vertex:SJ,morphnormal_vertex:AJ,morphtarget_pars_vertex:_J,morphtarget_vertex:MJ,normal_fragment_begin:EJ,normal_fragment_maps:CJ,normal_pars_fragment:TJ,normal_pars_vertex:wJ,normal_vertex:RJ,normalmap_pars_fragment:BJ,clearcoat_normal_fragment_begin:DJ,clearcoat_normal_fragment_maps:zJ,clearcoat_pars_fragment:LJ,iridescence_pars_fragment:OJ,opaque_fragment:NJ,packing:UJ,premultiplied_alpha_fragment:PJ,project_vertex:IJ,dithering_fragment:kJ,dithering_pars_fragment:FJ,roughnessmap_fragment:HJ,roughnessmap_pars_fragment:jJ,shadowmap_pars_fragment:GJ,shadowmap_pars_vertex:VJ,shadowmap_vertex:XJ,shadowmask_pars_fragment:WJ,skinbase_vertex:YJ,skinning_pars_vertex:KJ,skinning_vertex:qJ,skinnormal_vertex:JJ,specularmap_fragment:ZJ,specularmap_pars_fragment:QJ,tonemapping_fragment:$J,tonemapping_pars_fragment:eZ,transmission_fragment:tZ,transmission_pars_fragment:nZ,uv_pars_fragment:iZ,uv_pars_vertex:rZ,uv_vertex:aZ,worldpos_vertex:sZ,background_vert:oZ,background_frag:lZ,backgroundCube_vert:cZ,backgroundCube_frag:uZ,cube_vert:fZ,cube_frag:dZ,depth_vert:hZ,depth_frag:pZ,distanceRGBA_vert:mZ,distanceRGBA_frag:gZ,equirect_vert:yZ,equirect_frag:vZ,linedashed_vert:xZ,linedashed_frag:bZ,meshbasic_vert:SZ,meshbasic_frag:AZ,meshlambert_vert:_Z,meshlambert_frag:MZ,meshmatcap_vert:EZ,meshmatcap_frag:CZ,meshnormal_vert:TZ,meshnormal_frag:wZ,meshphong_vert:RZ,meshphong_frag:BZ,meshphysical_vert:DZ,meshphysical_frag:zZ,meshtoon_vert:LZ,meshtoon_frag:OZ,points_vert:NZ,points_frag:UZ,shadow_vert:PZ,shadow_frag:IZ,sprite_vert:kZ,sprite_frag:FZ},_t={common:{diffuse:{value:new bt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new en}},envmap:{envMap:{value:null},envMapRotation:{value:new en},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new en}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new en}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new en},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new en},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new en},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new en}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new en}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new en}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0},uvTransform:{value:new en}},sprite:{diffuse:{value:new bt(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}}},tl={basic:{uniforms:Na([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:Na([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,_t.lights,{emissive:{value:new bt(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:Na([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,_t.lights,{emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:Na([_t.common,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.roughnessmap,_t.metalnessmap,_t.fog,_t.lights,{emissive:{value:new bt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:Na([_t.common,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.gradientmap,_t.fog,_t.lights,{emissive:{value:new bt(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:Na([_t.common,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:Na([_t.points,_t.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:Na([_t.common,_t.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:Na([_t.common,_t.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:Na([_t.common,_t.bumpmap,_t.normalmap,_t.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:Na([_t.sprite,_t.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new en},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new en}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:Na([_t.common,_t.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:Na([_t.lights,_t.fog,{color:{value:new bt(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};tl.physical={uniforms:Na([tl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new en},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new en},clearcoatNormalScale:{value:new qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new en},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new en},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new en},sheen:{value:0},sheenColor:{value:new bt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new en},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new en},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new en},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new en},attenuationDistance:{value:0},attenuationColor:{value:new bt(0)},specularColor:{value:new bt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new en},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new en},anisotropyVector:{value:new qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new en}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const kb={r:0,b:0,g:0},Ud=new Is,HZ=new Pt;function jZ(n,e,t,i,r,a,o){const c=new bt(0);let u=a===!0?0:1,h,m,g=null,v=0,b=null;function S(B){let L=B.isScene===!0?B.background:null;return L&&L.isTexture&&(L=(B.backgroundBlurriness>0?t:e).get(L)),L}function E(B){let L=!1;const O=S(B);O===null?A(c,u):O&&O.isColor&&(A(O,1),L=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?i.buffers.color.setClear(0,0,0,1,o):U==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function M(B,L){const O=S(L);O&&(O.isCubeTexture||O.mapping===Km)?(m===void 0&&(m=new nr(new Mh(1,1,1),new cl({name:"BackgroundCubeMaterial",uniforms:Im(tl.backgroundCube.uniforms),vertexShader:tl.backgroundCube.vertexShader,fragmentShader:tl.backgroundCube.fragmentShader,side:Ga,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,k,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),Ud.copy(L.backgroundRotation),Ud.x*=-1,Ud.y*=-1,Ud.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Ud.y*=-1,Ud.z*=-1),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(HZ.makeRotationFromEuler(Ud)),m.material.toneMapped=Dn.getTransfer(O.colorSpace)!==$n,(g!==O||v!==O.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,g=O,v=O.version,b=n.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(h===void 0&&(h=new nr(new Jm(2,2),new cl({name:"BackgroundMaterial",uniforms:Im(tl.background.uniforms),vertexShader:tl.background.vertexShader,fragmentShader:tl.background.fragmentShader,side:oc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=O,h.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,h.material.toneMapped=Dn.getTransfer(O.colorSpace)!==$n,O.matrixAutoUpdate===!0&&O.updateMatrix(),h.material.uniforms.uvTransform.value.copy(O.matrix),(g!==O||v!==O.version||b!==n.toneMapping)&&(h.material.needsUpdate=!0,g=O,v=O.version,b=n.toneMapping),h.layers.enableAll(),B.unshift(h,h.geometry,h.material,0,0,null))}function A(B,L){B.getRGB(kb,TN(n)),i.buffers.color.setClear(kb.r,kb.g,kb.b,L,o)}function z(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return c},setClearColor:function(B,L=1){c.set(B),u=L,A(c,u)},getClearAlpha:function(){return u},setClearAlpha:function(B){u=B,A(c,u)},render:E,addToRenderList:M,dispose:z}}function GZ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,o=!1;function c(w,G,ee,q,$){let ae=!1;const J=g(q,ee,G);a!==J&&(a=J,h(a.object)),ae=b(w,q,ee,$),ae&&S(w,q,ee,$),$!==null&&e.update($,n.ELEMENT_ARRAY_BUFFER),(ae||o)&&(o=!1,L(w,G,ee,q),$!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function u(){return n.createVertexArray()}function h(w){return n.bindVertexArray(w)}function m(w){return n.deleteVertexArray(w)}function g(w,G,ee){const q=ee.wireframe===!0;let $=i[w.id];$===void 0&&($={},i[w.id]=$);let ae=$[G.id];ae===void 0&&(ae={},$[G.id]=ae);let J=ae[q];return J===void 0&&(J=v(u()),ae[q]=J),J}function v(w){const G=[],ee=[],q=[];for(let $=0;$<t;$++)G[$]=0,ee[$]=0,q[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:ee,attributeDivisors:q,object:w,attributes:{},index:null}}function b(w,G,ee,q){const $=a.attributes,ae=G.attributes;let J=0;const re=ee.getAttributes();for(const Q in re)if(re[Q].location>=0){const Y=$[Q];let te=ae[Q];if(te===void 0&&(Q==="instanceMatrix"&&w.instanceMatrix&&(te=w.instanceMatrix),Q==="instanceColor"&&w.instanceColor&&(te=w.instanceColor)),Y===void 0||Y.attribute!==te||te&&Y.data!==te.data)return!0;J++}return a.attributesNum!==J||a.index!==q}function S(w,G,ee,q){const $={},ae=G.attributes;let J=0;const re=ee.getAttributes();for(const Q in re)if(re[Q].location>=0){let Y=ae[Q];Y===void 0&&(Q==="instanceMatrix"&&w.instanceMatrix&&(Y=w.instanceMatrix),Q==="instanceColor"&&w.instanceColor&&(Y=w.instanceColor));const te={};te.attribute=Y,Y&&Y.data&&(te.data=Y.data),$[Q]=te,J++}a.attributes=$,a.attributesNum=J,a.index=q}function E(){const w=a.newAttributes;for(let G=0,ee=w.length;G<ee;G++)w[G]=0}function M(w){A(w,0)}function A(w,G){const ee=a.newAttributes,q=a.enabledAttributes,$=a.attributeDivisors;ee[w]=1,q[w]===0&&(n.enableVertexAttribArray(w),q[w]=1),$[w]!==G&&(n.vertexAttribDivisor(w,G),$[w]=G)}function z(){const w=a.newAttributes,G=a.enabledAttributes;for(let ee=0,q=G.length;ee<q;ee++)G[ee]!==w[ee]&&(n.disableVertexAttribArray(ee),G[ee]=0)}function B(w,G,ee,q,$,ae,J){J===!0?n.vertexAttribIPointer(w,G,ee,$,ae):n.vertexAttribPointer(w,G,ee,q,$,ae)}function L(w,G,ee,q){E();const $=q.attributes,ae=ee.getAttributes(),J=G.defaultAttributeValues;for(const re in ae){const Q=ae[re];if(Q.location>=0){let de=$[re];if(de===void 0&&(re==="instanceMatrix"&&w.instanceMatrix&&(de=w.instanceMatrix),re==="instanceColor"&&w.instanceColor&&(de=w.instanceColor)),de!==void 0){const Y=de.normalized,te=de.itemSize,Ce=e.get(de);if(Ce===void 0)continue;const He=Ce.buffer,se=Ce.type,we=Ce.bytesPerElement,Ae=se===n.INT||se===n.UNSIGNED_INT||de.gpuType===UA;if(de.isInterleavedBufferAttribute){const Xe=de.data,Ge=Xe.stride,vt=de.offset;if(Xe.isInstancedInterleavedBuffer){for(let Ze=0;Ze<Q.locationSize;Ze++)A(Q.location+Ze,Xe.meshPerAttribute);w.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Xe.meshPerAttribute*Xe.count)}else for(let Ze=0;Ze<Q.locationSize;Ze++)M(Q.location+Ze);n.bindBuffer(n.ARRAY_BUFFER,He);for(let Ze=0;Ze<Q.locationSize;Ze++)B(Q.location+Ze,te/Q.locationSize,se,Y,Ge*we,(vt+te/Q.locationSize*Ze)*we,Ae)}else{if(de.isInstancedBufferAttribute){for(let Xe=0;Xe<Q.locationSize;Xe++)A(Q.location+Xe,de.meshPerAttribute);w.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Xe=0;Xe<Q.locationSize;Xe++)M(Q.location+Xe);n.bindBuffer(n.ARRAY_BUFFER,He);for(let Xe=0;Xe<Q.locationSize;Xe++)B(Q.location+Xe,te/Q.locationSize,se,Y,te*we,te/Q.locationSize*Xe*we,Ae)}}else if(J!==void 0){const Y=J[re];if(Y!==void 0)switch(Y.length){case 2:n.vertexAttrib2fv(Q.location,Y);break;case 3:n.vertexAttrib3fv(Q.location,Y);break;case 4:n.vertexAttrib4fv(Q.location,Y);break;default:n.vertexAttrib1fv(Q.location,Y)}}}}z()}function O(){F();for(const w in i){const G=i[w];for(const ee in G){const q=G[ee];for(const $ in q)m(q[$].object),delete q[$];delete G[ee]}delete i[w]}}function U(w){if(i[w.id]===void 0)return;const G=i[w.id];for(const ee in G){const q=G[ee];for(const $ in q)m(q[$].object),delete q[$];delete G[ee]}delete i[w.id]}function k(w){for(const G in i){const ee=i[G];if(ee[w.id]===void 0)continue;const q=ee[w.id];for(const $ in q)m(q[$].object),delete q[$];delete ee[w.id]}}function F(){P(),o=!0,a!==r&&(a=r,h(a.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:c,reset:F,resetDefaultState:P,dispose:O,releaseStatesOfGeometry:U,releaseStatesOfProgram:k,initAttributes:E,enableAttribute:M,disableUnusedAttributes:z}}function VZ(n,e,t){let i;function r(h){i=h}function a(h,m){n.drawArrays(i,h,m),t.update(m,i,1)}function o(h,m,g){g!==0&&(n.drawArraysInstanced(i,h,m,g),t.update(m,i,g))}function c(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,g);let b=0;for(let S=0;S<g;S++)b+=m[S];t.update(b,i,1)}function u(h,m,g,v){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let S=0;S<h.length;S++)o(h[S],m[S],v[S]);else{b.multiDrawArraysInstancedWEBGL(i,h,0,m,0,v,0,g);let S=0;for(let E=0;E<g;E++)S+=m[E]*v[E];t.update(S,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=u}function XZ(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(k){return!(k!==ba&&i.convert(k)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(k){const F=k===Ah&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==ol&&i.convert(k)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==Ha&&!F)}function u(k){if(k==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=u(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_TEXTURE_SIZE),M=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),A=n.getParameter(n.MAX_VERTEX_ATTRIBS),z=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=S>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:c,precision:h,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:b,maxVertexTextures:S,maxTextureSize:E,maxCubemapSize:M,maxAttributes:A,maxVertexUniforms:z,maxVaryings:B,maxFragmentUniforms:L,vertexTextures:O,maxSamples:U}}function WZ(n){const e=this;let t=null,i=0,r=!1,a=!1;const o=new qc,c=new en,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const b=g.length!==0||v||i!==0||r;return r=v,i=g.length,b},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,b){const S=g.clippingPlanes,E=g.clipIntersection,M=g.clipShadows,A=n.get(g);if(!r||S===null||S.length===0||a&&!M)a?m(null):h();else{const z=a?0:i,B=z*4;let L=A.clippingState||null;u.value=L,L=m(S,v,B,b);for(let O=0;O!==B;++O)L[O]=t[O];A.clippingState=L,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=z}};function h(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,v,b,S){const E=g!==null?g.length:0;let M=null;if(E!==0){if(M=u.value,S!==!0||M===null){const A=b+E*4,z=v.matrixWorldInverse;c.getNormalMatrix(z),(M===null||M.length<A)&&(M=new Float32Array(A));for(let B=0,L=b;B!==E;++B,L+=4)o.copy(g[B]).applyMatrix4(z,c),o.normal.toArray(M,L),M[L+3]=o.constant}u.value=M,u.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,M}}function YZ(n){let e=new WeakMap;function t(o,c){return c===S0?o.mapping=uu:c===A0&&(o.mapping=_f),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===S0||c===A0)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const h=new BN(u.height);return h.fromEquirectangularTexture(n,o),e.set(o,h),o.addEventListener("dispose",r),t(h.texture,o.mapping)}else return null}}return o}function r(o){const c=o.target;c.removeEventListener("dispose",r);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const dm=4,AD=[.125,.215,.35,.446,.526,.582],Wd=20,s1=new sl,_D=new bt;let o1=null,l1=0,c1=0,u1=!1;const Xd=(1+Math.sqrt(5))/2,qp=1/Xd,MD=[new Z(-Xd,qp,0),new Z(Xd,qp,0),new Z(-qp,0,Xd),new Z(qp,0,Xd),new Z(0,Xd,-qp),new Z(0,Xd,qp),new Z(-1,1,-1),new Z(1,1,-1),new Z(-1,1,1),new Z(1,1,1)],KZ=new Z;class DE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:o=256,position:c=KZ}=a;o1=this._renderer.getRenderTarget(),l1=this._renderer.getActiveCubeFace(),c1=this._renderer.getActiveMipmapLevel(),u1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,c),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=CD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(o1,l1,c1),this._renderer.xr.enabled=u1,e.scissorTest=!1,Fb(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===uu||e.mapping===_f?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),o1=this._renderer.getRenderTarget(),l1=this._renderer.getActiveCubeFace(),c1=this._renderer.getActiveMipmapLevel(),u1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Hi,minFilter:Hi,generateMipmaps:!1,type:Ah,format:ba,colorSpace:Ef,depthBuffer:!1},r=ED(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ED(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qZ(a)),this._blurMaterial=JZ(a,e,t)}return r}_compileMaterial(e){const t=new nr(this._lodPlanes[0],e);this._renderer.compile(t,s1)}_sceneToCubeUV(e,t,i,r,a){const u=new Ti(90,1,t,i),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,b=g.toneMapping;g.getClearColor(_D),g.toneMapping=rc,g.autoClear=!1;const S=new Os({name:"PMREM.Background",side:Ga,depthWrite:!1,depthTest:!1}),E=new nr(new Mh,S);let M=!1;const A=e.background;A?A.isColor&&(S.color.copy(A),e.background=null,M=!0):(S.color.copy(_D),M=!0);for(let z=0;z<6;z++){const B=z%3;B===0?(u.up.set(0,h[z],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+m[z],a.y,a.z)):B===1?(u.up.set(0,0,h[z]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+m[z],a.z)):(u.up.set(0,h[z],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+m[z]));const L=this._cubeSize;Fb(r,B*L,z>2?L:0,L,L),g.setRenderTarget(r),M&&g.render(E,u),g.render(e,u)}E.geometry.dispose(),E.material.dispose(),g.toneMapping=b,g.autoClear=v,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===uu||e.mapping===_f;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=TD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=CD());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new nr(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=e;const u=this._cubeSize;Fb(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(o,s1)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=MD[(r-a-1)%MD.length];this._blur(e,a-1,a,o,c)}t.autoClear=i}_blur(e,t,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,o,c){const u=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new nr(this._lodPlanes[r],h),v=h.uniforms,b=this._sizeLods[i]-1,S=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*Wd-1),E=a/S,M=isFinite(a)?1+Math.floor(m*E):Wd;M>Wd&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Wd}`);const A=[];let z=0;for(let k=0;k<Wd;++k){const F=k/E,P=Math.exp(-F*F/2);A.push(P),k===0?z+=P:k<M&&(z+=2*P)}for(let k=0;k<A.length;k++)A[k]=A[k]/z;v.envMap.value=e.texture,v.samples.value=M,v.weights.value=A,v.latitudinal.value=o==="latitudinal",c&&(v.poleAxis.value=c);const{_lodMax:B}=this;v.dTheta.value=S,v.mipInt.value=B-i;const L=this._sizeLods[r],O=3*L*(r>B-dm?r-B+dm:0),U=4*(this._cubeSize-L);Fb(t,O,U,3*L,2*L),u.setRenderTarget(t),u.render(g,s1)}}function qZ(n){const e=[],t=[],i=[];let r=n;const a=n-dm+1+AD.length;for(let o=0;o<a;o++){const c=Math.pow(2,r);t.push(c);let u=1/c;o>n-dm?u=AD[o-n+dm-1]:o===0&&(u=0),i.push(u);const h=1/(c-2),m=-h,g=1+h,v=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,S=6,E=3,M=2,A=1,z=new Float32Array(E*S*b),B=new Float32Array(M*S*b),L=new Float32Array(A*S*b);for(let U=0;U<b;U++){const k=U%3*2/3-1,F=U>2?0:-1,P=[k,F,0,k+2/3,F,0,k+2/3,F+1,0,k,F,0,k+2/3,F+1,0,k,F+1,0];z.set(P,E*S*U),B.set(v,M*S*U);const w=[U,U,U,U,U,U];L.set(w,A*S*U)}const O=new tn;O.setAttribute("position",new Pn(z,E)),O.setAttribute("uv",new Pn(B,M)),O.setAttribute("faceIndex",new Pn(L,A)),e.push(O),r>dm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function ED(n,e,t){const i=new ll(n,e,t);return i.texture.mapping=Km,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Fb(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function JZ(n,e,t){const i=new Float32Array(Wd),r=new Z(0,1,0);return new cl({name:"SphericalGaussianBlur",defines:{n:Wd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:IT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:au,depthTest:!1,depthWrite:!1})}function CD(){return new cl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:IT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:au,depthTest:!1,depthWrite:!1})}function TD(){return new cl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:IT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:au,depthTest:!1,depthWrite:!1})}function IT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ZZ(n){let e=new WeakMap,t=null;function i(c){if(c&&c.isTexture){const u=c.mapping,h=u===S0||u===A0,m=u===uu||u===_f;if(h||m){let g=e.get(c);const v=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==v)return t===null&&(t=new DE(n)),g=h?t.fromEquirectangular(c,g):t.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),g.texture;if(g!==void 0)return g.texture;{const b=c.image;return h&&b&&b.height>0||m&&b&&r(b)?(t===null&&(t=new DE(n)),g=h?t.fromEquirectangular(c):t.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),c.addEventListener("dispose",a),g.texture):null}}}return c}function r(c){let u=0;const h=6;for(let m=0;m<h;m++)c[m]!==void 0&&u++;return u===h}function a(c){const u=c.target;u.removeEventListener("dispose",a);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function QZ(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&nS("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function $Z(n,e,t,i){const r={},a=new WeakMap;function o(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const S in v.attributes)e.remove(v.attributes[S]);v.removeEventListener("dispose",o),delete r[v.id];const b=a.get(v);b&&(e.remove(b),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function c(g,v){return r[v.id]===!0||(v.addEventListener("dispose",o),r[v.id]=!0,t.memory.geometries++),v}function u(g){const v=g.attributes;for(const b in v)e.update(v[b],n.ARRAY_BUFFER)}function h(g){const v=[],b=g.index,S=g.attributes.position;let E=0;if(b!==null){const z=b.array;E=b.version;for(let B=0,L=z.length;B<L;B+=3){const O=z[B+0],U=z[B+1],k=z[B+2];v.push(O,U,U,k,k,O)}}else if(S!==void 0){const z=S.array;E=S.version;for(let B=0,L=z.length/3-1;B<L;B+=3){const O=B+0,U=B+1,k=B+2;v.push(O,U,U,k,k,O)}}else return;const M=new(_N(v)?cT:lT)(v,1);M.version=E;const A=a.get(g);A&&e.remove(A),a.set(g,M)}function m(g){const v=a.get(g);if(v){const b=g.index;b!==null&&v.version<b.version&&h(g)}else h(g);return a.get(g)}return{get:c,update:u,getWireframeAttribute:m}}function eQ(n,e,t){let i;function r(v){i=v}let a,o;function c(v){a=v.type,o=v.bytesPerElement}function u(v,b){n.drawElements(i,b,a,v*o),t.update(b,i,1)}function h(v,b,S){S!==0&&(n.drawElementsInstanced(i,b,a,v*o,S),t.update(b,i,S))}function m(v,b,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,v,0,S);let M=0;for(let A=0;A<S;A++)M+=b[A];t.update(M,i,1)}function g(v,b,S,E){if(S===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let A=0;A<v.length;A++)h(v[A]/o,b[A],E[A]);else{M.multiDrawElementsInstancedWEBGL(i,b,0,a,v,0,E,0,S);let A=0;for(let z=0;z<S;z++)A+=b[z]*E[z];t.update(A,i,1)}}this.setMode=r,this.setIndex=c,this.render=u,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function tQ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,c){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=c*(a/3);break;case n.LINES:t.lines+=c*(a/2);break;case n.LINE_STRIP:t.lines+=c*(a-1);break;case n.LINE_LOOP:t.lines+=c*a;break;case n.POINTS:t.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function nQ(n,e,t){const i=new WeakMap,r=new Un;function a(o,c,u){const h=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let v=i.get(c);if(v===void 0||v.count!==g){let w=function(){F.dispose(),i.delete(c),c.removeEventListener("dispose",w)};var b=w;v!==void 0&&v.texture.dispose();const S=c.morphAttributes.position!==void 0,E=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,A=c.morphAttributes.position||[],z=c.morphAttributes.normal||[],B=c.morphAttributes.color||[];let L=0;S===!0&&(L=1),E===!0&&(L=2),M===!0&&(L=3);let O=c.attributes.position.count*L,U=1;O>e.maxTextureSize&&(U=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const k=new Float32Array(O*U*4*g),F=new q0(k,O,U,g);F.type=Ha,F.needsUpdate=!0;const P=L*4;for(let G=0;G<g;G++){const ee=A[G],q=z[G],$=B[G],ae=O*U*4*G;for(let J=0;J<ee.count;J++){const re=J*P;S===!0&&(r.fromBufferAttribute(ee,J),k[ae+re+0]=r.x,k[ae+re+1]=r.y,k[ae+re+2]=r.z,k[ae+re+3]=0),E===!0&&(r.fromBufferAttribute(q,J),k[ae+re+4]=r.x,k[ae+re+5]=r.y,k[ae+re+6]=r.z,k[ae+re+7]=0),M===!0&&(r.fromBufferAttribute($,J),k[ae+re+8]=r.x,k[ae+re+9]=r.y,k[ae+re+10]=r.z,k[ae+re+11]=$.itemSize===4?r.w:1)}}v={count:g,texture:F,size:new qe(O,U)},i.set(c,v),c.addEventListener("dispose",w)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let S=0;for(let M=0;M<h.length;M++)S+=h[M];const E=c.morphTargetsRelative?1:1-S;u.getUniforms().setValue(n,"morphTargetBaseInfluence",E),u.getUniforms().setValue(n,"morphTargetInfluences",h)}u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:a}}function iQ(n,e,t,i){let r=new WeakMap;function a(u){const h=i.render.frame,m=u.geometry,g=e.get(u,m);if(r.get(g)!==h&&(e.update(g),r.set(g,h)),u.isInstancedMesh&&(u.hasEventListener("dispose",c)===!1&&u.addEventListener("dispose",c),r.get(u)!==h&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),r.set(u,h))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==h&&(v.update(),r.set(v,h))}return g}function o(){r=new WeakMap}function c(u){const h=u.target;h.removeEventListener("dispose",c),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:a,dispose:o}}const _U=new wi,wD=new QA(1,1),MU=new q0,EU=new VA,CU=new J0,RD=[],BD=[],DD=new Float32Array(16),zD=new Float32Array(9),LD=new Float32Array(4);function $m(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=RD[r];if(a===void 0&&(a=new Float32Array(r),RD[r]=a),e!==0){i.toArray(a,0);for(let o=1,c=0;o!==e;++o)c+=t,n[o].toArray(a,c)}return a}function Mr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Er(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function h_(n,e){let t=BD[e];t===void 0&&(t=new Int32Array(e),BD[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function rQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function aQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Mr(t,e))return;n.uniform2fv(this.addr,e),Er(t,e)}}function sQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Mr(t,e))return;n.uniform3fv(this.addr,e),Er(t,e)}}function oQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Mr(t,e))return;n.uniform4fv(this.addr,e),Er(t,e)}}function lQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Mr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Er(t,e)}else{if(Mr(t,i))return;LD.set(i),n.uniformMatrix2fv(this.addr,!1,LD),Er(t,i)}}function cQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Mr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Er(t,e)}else{if(Mr(t,i))return;zD.set(i),n.uniformMatrix3fv(this.addr,!1,zD),Er(t,i)}}function uQ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Mr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Er(t,e)}else{if(Mr(t,i))return;DD.set(i),n.uniformMatrix4fv(this.addr,!1,DD),Er(t,i)}}function fQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function dQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Mr(t,e))return;n.uniform2iv(this.addr,e),Er(t,e)}}function hQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Mr(t,e))return;n.uniform3iv(this.addr,e),Er(t,e)}}function pQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Mr(t,e))return;n.uniform4iv(this.addr,e),Er(t,e)}}function mQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function gQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Mr(t,e))return;n.uniform2uiv(this.addr,e),Er(t,e)}}function yQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Mr(t,e))return;n.uniform3uiv(this.addr,e),Er(t,e)}}function vQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Mr(t,e))return;n.uniform4uiv(this.addr,e),Er(t,e)}}function xQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(wD.compareFunction=sT,a=wD):a=_U,t.setTexture2D(e||a,r)}function bQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||EU,r)}function SQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||CU,r)}function AQ(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||MU,r)}function _Q(n){switch(n){case 5126:return rQ;case 35664:return aQ;case 35665:return sQ;case 35666:return oQ;case 35674:return lQ;case 35675:return cQ;case 35676:return uQ;case 5124:case 35670:return fQ;case 35667:case 35671:return dQ;case 35668:case 35672:return hQ;case 35669:case 35673:return pQ;case 5125:return mQ;case 36294:return gQ;case 36295:return yQ;case 36296:return vQ;case 35678:case 36198:case 36298:case 36306:case 35682:return xQ;case 35679:case 36299:case 36307:return bQ;case 35680:case 36300:case 36308:case 36293:return SQ;case 36289:case 36303:case 36311:case 36292:return AQ}}function MQ(n,e){n.uniform1fv(this.addr,e)}function EQ(n,e){const t=$m(e,this.size,2);n.uniform2fv(this.addr,t)}function CQ(n,e){const t=$m(e,this.size,3);n.uniform3fv(this.addr,t)}function TQ(n,e){const t=$m(e,this.size,4);n.uniform4fv(this.addr,t)}function wQ(n,e){const t=$m(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function RQ(n,e){const t=$m(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function BQ(n,e){const t=$m(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function DQ(n,e){n.uniform1iv(this.addr,e)}function zQ(n,e){n.uniform2iv(this.addr,e)}function LQ(n,e){n.uniform3iv(this.addr,e)}function OQ(n,e){n.uniform4iv(this.addr,e)}function NQ(n,e){n.uniform1uiv(this.addr,e)}function UQ(n,e){n.uniform2uiv(this.addr,e)}function PQ(n,e){n.uniform3uiv(this.addr,e)}function IQ(n,e){n.uniform4uiv(this.addr,e)}function kQ(n,e,t){const i=this.cache,r=e.length,a=h_(t,r);Mr(i,a)||(n.uniform1iv(this.addr,a),Er(i,a));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||_U,a[o])}function FQ(n,e,t){const i=this.cache,r=e.length,a=h_(t,r);Mr(i,a)||(n.uniform1iv(this.addr,a),Er(i,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||EU,a[o])}function HQ(n,e,t){const i=this.cache,r=e.length,a=h_(t,r);Mr(i,a)||(n.uniform1iv(this.addr,a),Er(i,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||CU,a[o])}function jQ(n,e,t){const i=this.cache,r=e.length,a=h_(t,r);Mr(i,a)||(n.uniform1iv(this.addr,a),Er(i,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||MU,a[o])}function GQ(n){switch(n){case 5126:return MQ;case 35664:return EQ;case 35665:return CQ;case 35666:return TQ;case 35674:return wQ;case 35675:return RQ;case 35676:return BQ;case 5124:case 35670:return DQ;case 35667:case 35671:return zQ;case 35668:case 35672:return LQ;case 35669:case 35673:return OQ;case 5125:return NQ;case 36294:return UQ;case 36295:return PQ;case 36296:return IQ;case 35678:case 36198:case 36298:case 36306:case 35682:return kQ;case 35679:case 36299:case 36307:return FQ;case 35680:case 36300:case 36308:case 36293:return HQ;case 36289:case 36303:case 36311:case 36292:return jQ}}class VQ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=_Q(t.type)}}class XQ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=GQ(t.type)}}class WQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const c=r[a];c.setValue(e,t[c.id],i)}}}const f1=/(\w+)(\])?(\[|\.)?/g;function OD(n,e){n.seq.push(e),n.map[e.id]=e}function YQ(n,e,t){const i=n.name,r=i.length;for(f1.lastIndex=0;;){const a=f1.exec(i),o=f1.lastIndex;let c=a[1];const u=a[2]==="]",h=a[3];if(u&&(c=c|0),h===void 0||h==="["&&o+2===r){OD(t,h===void 0?new VQ(c,n,e):new XQ(c,n,e));break}else{let g=t.map[c];g===void 0&&(g=new WQ(c),OD(t,g)),t=g}}}class rS{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),o=e.getUniformLocation(t,a.name);YQ(a,o,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,o=t.length;a!==o;++a){const c=t[a],u=i[c.id];u.needsUpdate!==!1&&c.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function ND(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const KQ=37297;let qQ=0;function JQ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const c=o+1;i.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return i.join(`
`)}const UD=new en;function ZQ(n){Dn._getMatrix(UD,Dn.workingColorSpace,n);const e=`mat3( ${UD.elements.map(t=>t.toFixed(4))} )`;switch(Dn.getTransfer(n)){case M0:return[e,"LinearTransferOETF"];case $n:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function PD(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+JQ(n.getShaderSource(e),o)}else return r}function QQ(n,e){const t=ZQ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function $Q(n,e){let t;switch(e){case tN:t="Linear";break;case nN:t="Reinhard";break;case iN:t="Cineon";break;case KC:t="ACESFilmic";break;case aN:t="AgX";break;case sN:t="Neutral";break;case rN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Hb=new Z;function e$(){Dn.getLuminanceCoefficients(Hb);const n=Hb.x.toFixed(4),e=Hb.y.toFixed(4),t=Hb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function t$(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Fy).join(`
`)}function n$(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function i$(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),o=a.name;let c=1;a.type===n.FLOAT_MAT2&&(c=2),a.type===n.FLOAT_MAT3&&(c=3),a.type===n.FLOAT_MAT4&&(c=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:c}}return t}function Fy(n){return n!==""}function ID(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const r$=/^[ \t]*#include +<([\w\d./]+)>/gm;function zE(n){return n.replace(r$,s$)}const a$=new Map;function s$(n,e){let t=ln[e];if(t===void 0){const i=a$.get(e);if(i!==void 0)t=ln[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return zE(t)}const o$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function FD(n){return n.replace(o$,l$)}function l$(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function HD(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function c$(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===LA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ky?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===el&&(e="SHADOWMAP_TYPE_VSM"),e}function u$(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case uu:case _f:e="ENVMAP_TYPE_CUBE";break;case Km:e="ENVMAP_TYPE_CUBE_UV";break}return e}function f$(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case _f:e="ENVMAP_MODE_REFRACTION";break}return e}function d$(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Y0:e="ENVMAP_BLENDING_MULTIPLY";break;case $O:e="ENVMAP_BLENDING_MIX";break;case eN:e="ENVMAP_BLENDING_ADD";break}return e}function h$(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function p$(n,e,t,i){const r=n.getContext(),a=t.defines;let o=t.vertexShader,c=t.fragmentShader;const u=c$(t),h=u$(t),m=f$(t),g=d$(t),v=h$(t),b=t$(t),S=n$(a),E=r.createProgram();let M,A,z=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Fy).join(`
`),M.length>0&&(M+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Fy).join(`
`),A.length>0&&(A+=`
`)):(M=[HD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fy).join(`
`),A=[HD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==rc?"#define TONE_MAPPING":"",t.toneMapping!==rc?ln.tonemapping_pars_fragment:"",t.toneMapping!==rc?$Q("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,QQ("linearToOutputTexel",t.outputColorSpace),e$(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fy).join(`
`)),o=zE(o),o=ID(o,t),o=kD(o,t),c=zE(c),c=ID(c,t),c=kD(c,t),o=FD(o),c=FD(c),t.isRawShaderMaterial!==!0&&(z=`#version 300 es
`,M=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,A=["#define varying in",t.glslVersion===_E?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_E?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const B=z+M+o,L=z+A+c,O=ND(r,r.VERTEX_SHADER,B),U=ND(r,r.FRAGMENT_SHADER,L);r.attachShader(E,O),r.attachShader(E,U),t.index0AttributeName!==void 0?r.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E);function k(G){if(n.debug.checkShaderErrors){const ee=r.getProgramInfoLog(E).trim(),q=r.getShaderInfoLog(O).trim(),$=r.getShaderInfoLog(U).trim();let ae=!0,J=!0;if(r.getProgramParameter(E,r.LINK_STATUS)===!1)if(ae=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,E,O,U);else{const re=PD(r,O,"vertex"),Q=PD(r,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,r.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+ee+`
`+re+`
`+Q)}else ee!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ee):(q===""||$==="")&&(J=!1);J&&(G.diagnostics={runnable:ae,programLog:ee,vertexShader:{log:q,prefix:M},fragmentShader:{log:$,prefix:A}})}r.deleteShader(O),r.deleteShader(U),F=new rS(r,E),P=i$(r,E)}let F;this.getUniforms=function(){return F===void 0&&k(this),F};let P;this.getAttributes=function(){return P===void 0&&k(this),P};let w=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(E,KQ)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=qQ++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=O,this.fragmentShader=U,this}let m$=0;class g${constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new y$(e),t.set(e,i)),i}}class y${constructor(e){this.id=m$++,this.code=e,this.usedTimes=0}}function v$(n,e,t,i,r,a,o){const c=new Pm,u=new g$,h=new Set,m=[],g=r.logarithmicDepthBuffer,v=r.vertexTextures;let b=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(P){return h.add(P),P===0?"uv":`uv${P}`}function M(P,w,G,ee,q){const $=ee.fog,ae=q.geometry,J=P.isMeshStandardMaterial?ee.environment:null,re=(P.isMeshStandardMaterial?t:e).get(P.envMap||J),Q=re&&re.mapping===Km?re.image.height:null,de=S[P.type];P.precision!==null&&(b=r.getMaxPrecision(P.precision),b!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",b,"instead."));const Y=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,te=Y!==void 0?Y.length:0;let Ce=0;ae.morphAttributes.position!==void 0&&(Ce=1),ae.morphAttributes.normal!==void 0&&(Ce=2),ae.morphAttributes.color!==void 0&&(Ce=3);let He,se,we,Ae;if(de){const $t=tl[de];He=$t.vertexShader,se=$t.fragmentShader}else He=P.vertexShader,se=P.fragmentShader,u.update(P),we=u.getVertexShaderID(P),Ae=u.getFragmentShaderID(P);const Xe=n.getRenderTarget(),Ge=n.state.buffers.depth.getReversed(),vt=q.isInstancedMesh===!0,Ze=q.isBatchedMesh===!0,at=!!P.map,Et=!!P.matcap,ht=!!re,ne=!!P.aoMap,Yt=!!P.lightMap,ke=!!P.bumpMap,De=!!P.normalMap,Te=!!P.displacementMap,$e=!!P.emissiveMap,ze=!!P.metalnessMap,K=!!P.roughnessMap,j=P.anisotropy>0,pe=P.clearcoat>0,Ee=P.dispersion>0,ce=P.iridescence>0,fe=P.sheen>0,Fe=P.transmission>0,Pe=j&&!!P.anisotropyMap,Je=pe&&!!P.clearcoatMap,et=pe&&!!P.clearcoatNormalMap,We=pe&&!!P.clearcoatRoughnessMap,it=ce&&!!P.iridescenceMap,ct=ce&&!!P.iridescenceThicknessMap,ft=fe&&!!P.sheenColorMap,gt=fe&&!!P.sheenRoughnessMap,ue=!!P.specularMap,Ie=!!P.specularColorMap,yt=!!P.specularIntensityMap,le=Fe&&!!P.transmissionMap,st=Fe&&!!P.thicknessMap,Oe=!!P.gradientMap,Ue=!!P.alphaMap,rt=P.alphaTest>0,dt=!!P.alphaHash,wt=!!P.extensions;let Xt=rc;P.toneMapped&&(Xe===null||Xe.isXRRenderTarget===!0)&&(Xt=n.toneMapping);const Fn={shaderID:de,shaderType:P.type,shaderName:P.name,vertexShader:He,fragmentShader:se,defines:P.defines,customVertexShaderID:we,customFragmentShaderID:Ae,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:b,batching:Ze,batchingColor:Ze&&q._colorsTexture!==null,instancing:vt,instancingColor:vt&&q.instanceColor!==null,instancingMorph:vt&&q.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Xe===null?n.outputColorSpace:Xe.isXRRenderTarget===!0?Xe.texture.colorSpace:Ef,alphaToCoverage:!!P.alphaToCoverage,map:at,matcap:Et,envMap:ht,envMapMode:ht&&re.mapping,envMapCubeUVHeight:Q,aoMap:ne,lightMap:Yt,bumpMap:ke,normalMap:De,displacementMap:v&&Te,emissiveMap:$e,normalMapObjectSpace:De&&P.normalMapType===pN,normalMapTangentSpace:De&&P.normalMapType===Df,metalnessMap:ze,roughnessMap:K,anisotropy:j,anisotropyMap:Pe,clearcoat:pe,clearcoatMap:Je,clearcoatNormalMap:et,clearcoatRoughnessMap:We,dispersion:Ee,iridescence:ce,iridescenceMap:it,iridescenceThicknessMap:ct,sheen:fe,sheenColorMap:ft,sheenRoughnessMap:gt,specularMap:ue,specularColorMap:Ie,specularIntensityMap:yt,transmission:Fe,transmissionMap:le,thicknessMap:st,gradientMap:Oe,opaque:P.transparent===!1&&P.blending===oh&&P.alphaToCoverage===!1,alphaMap:Ue,alphaTest:rt,alphaHash:dt,combine:P.combine,mapUv:at&&E(P.map.channel),aoMapUv:ne&&E(P.aoMap.channel),lightMapUv:Yt&&E(P.lightMap.channel),bumpMapUv:ke&&E(P.bumpMap.channel),normalMapUv:De&&E(P.normalMap.channel),displacementMapUv:Te&&E(P.displacementMap.channel),emissiveMapUv:$e&&E(P.emissiveMap.channel),metalnessMapUv:ze&&E(P.metalnessMap.channel),roughnessMapUv:K&&E(P.roughnessMap.channel),anisotropyMapUv:Pe&&E(P.anisotropyMap.channel),clearcoatMapUv:Je&&E(P.clearcoatMap.channel),clearcoatNormalMapUv:et&&E(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:We&&E(P.clearcoatRoughnessMap.channel),iridescenceMapUv:it&&E(P.iridescenceMap.channel),iridescenceThicknessMapUv:ct&&E(P.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&E(P.sheenColorMap.channel),sheenRoughnessMapUv:gt&&E(P.sheenRoughnessMap.channel),specularMapUv:ue&&E(P.specularMap.channel),specularColorMapUv:Ie&&E(P.specularColorMap.channel),specularIntensityMapUv:yt&&E(P.specularIntensityMap.channel),transmissionMapUv:le&&E(P.transmissionMap.channel),thicknessMapUv:st&&E(P.thicknessMap.channel),alphaMapUv:Ue&&E(P.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(De||j),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!ae.attributes.uv&&(at||Ue),fog:!!$,useFog:P.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Ge,skinning:q.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:Ce,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:Xt,decodeVideoTexture:at&&P.map.isVideoTexture===!0&&Dn.getTransfer(P.map.colorSpace)===$n,decodeVideoTextureEmissive:$e&&P.emissiveMap.isVideoTexture===!0&&Dn.getTransfer(P.emissiveMap.colorSpace)===$n,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===lo,flipSided:P.side===Ga,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:wt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(wt&&P.extensions.multiDraw===!0||Ze)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Fn.vertexUv1s=h.has(1),Fn.vertexUv2s=h.has(2),Fn.vertexUv3s=h.has(3),h.clear(),Fn}function A(P){const w=[];if(P.shaderID?w.push(P.shaderID):(w.push(P.customVertexShaderID),w.push(P.customFragmentShaderID)),P.defines!==void 0)for(const G in P.defines)w.push(G),w.push(P.defines[G]);return P.isRawShaderMaterial===!1&&(z(w,P),B(w,P),w.push(n.outputColorSpace)),w.push(P.customProgramCacheKey),w.join()}function z(P,w){P.push(w.precision),P.push(w.outputColorSpace),P.push(w.envMapMode),P.push(w.envMapCubeUVHeight),P.push(w.mapUv),P.push(w.alphaMapUv),P.push(w.lightMapUv),P.push(w.aoMapUv),P.push(w.bumpMapUv),P.push(w.normalMapUv),P.push(w.displacementMapUv),P.push(w.emissiveMapUv),P.push(w.metalnessMapUv),P.push(w.roughnessMapUv),P.push(w.anisotropyMapUv),P.push(w.clearcoatMapUv),P.push(w.clearcoatNormalMapUv),P.push(w.clearcoatRoughnessMapUv),P.push(w.iridescenceMapUv),P.push(w.iridescenceThicknessMapUv),P.push(w.sheenColorMapUv),P.push(w.sheenRoughnessMapUv),P.push(w.specularMapUv),P.push(w.specularColorMapUv),P.push(w.specularIntensityMapUv),P.push(w.transmissionMapUv),P.push(w.thicknessMapUv),P.push(w.combine),P.push(w.fogExp2),P.push(w.sizeAttenuation),P.push(w.morphTargetsCount),P.push(w.morphAttributeCount),P.push(w.numDirLights),P.push(w.numPointLights),P.push(w.numSpotLights),P.push(w.numSpotLightMaps),P.push(w.numHemiLights),P.push(w.numRectAreaLights),P.push(w.numDirLightShadows),P.push(w.numPointLightShadows),P.push(w.numSpotLightShadows),P.push(w.numSpotLightShadowsWithMaps),P.push(w.numLightProbes),P.push(w.shadowMapType),P.push(w.toneMapping),P.push(w.numClippingPlanes),P.push(w.numClipIntersection),P.push(w.depthPacking)}function B(P,w){c.disableAll(),w.supportsVertexTextures&&c.enable(0),w.instancing&&c.enable(1),w.instancingColor&&c.enable(2),w.instancingMorph&&c.enable(3),w.matcap&&c.enable(4),w.envMap&&c.enable(5),w.normalMapObjectSpace&&c.enable(6),w.normalMapTangentSpace&&c.enable(7),w.clearcoat&&c.enable(8),w.iridescence&&c.enable(9),w.alphaTest&&c.enable(10),w.vertexColors&&c.enable(11),w.vertexAlphas&&c.enable(12),w.vertexUv1s&&c.enable(13),w.vertexUv2s&&c.enable(14),w.vertexUv3s&&c.enable(15),w.vertexTangents&&c.enable(16),w.anisotropy&&c.enable(17),w.alphaHash&&c.enable(18),w.batching&&c.enable(19),w.dispersion&&c.enable(20),w.batchingColor&&c.enable(21),P.push(c.mask),c.disableAll(),w.fog&&c.enable(0),w.useFog&&c.enable(1),w.flatShading&&c.enable(2),w.logarithmicDepthBuffer&&c.enable(3),w.reverseDepthBuffer&&c.enable(4),w.skinning&&c.enable(5),w.morphTargets&&c.enable(6),w.morphNormals&&c.enable(7),w.morphColors&&c.enable(8),w.premultipliedAlpha&&c.enable(9),w.shadowMapEnabled&&c.enable(10),w.doubleSided&&c.enable(11),w.flipSided&&c.enable(12),w.useDepthPacking&&c.enable(13),w.dithering&&c.enable(14),w.transmission&&c.enable(15),w.sheen&&c.enable(16),w.opaque&&c.enable(17),w.pointsUvs&&c.enable(18),w.decodeVideoTexture&&c.enable(19),w.decodeVideoTextureEmissive&&c.enable(20),w.alphaToCoverage&&c.enable(21),P.push(c.mask)}function L(P){const w=S[P.type];let G;if(w){const ee=tl[w];G=wN.clone(ee.uniforms)}else G=P.uniforms;return G}function O(P,w){let G;for(let ee=0,q=m.length;ee<q;ee++){const $=m[ee];if($.cacheKey===w){G=$,++G.usedTimes;break}}return G===void 0&&(G=new p$(n,w,P,a),m.push(G)),G}function U(P){if(--P.usedTimes===0){const w=m.indexOf(P);m[w]=m[m.length-1],m.pop(),P.destroy()}}function k(P){u.remove(P)}function F(){u.dispose()}return{getParameters:M,getProgramCacheKey:A,getUniforms:L,acquireProgram:O,releaseProgram:U,releaseShaderCache:k,programs:m,dispose:F}}function x$(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function r(o,c,u){n.get(o)[c]=u}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function b$(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function jD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function GD(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function o(g,v,b,S,E,M){let A=n[e];return A===void 0?(A={id:g.id,object:g,geometry:v,material:b,groupOrder:S,renderOrder:g.renderOrder,z:E,group:M},n[e]=A):(A.id=g.id,A.object=g,A.geometry=v,A.material=b,A.groupOrder=S,A.renderOrder=g.renderOrder,A.z=E,A.group=M),e++,A}function c(g,v,b,S,E,M){const A=o(g,v,b,S,E,M);b.transmission>0?i.push(A):b.transparent===!0?r.push(A):t.push(A)}function u(g,v,b,S,E,M){const A=o(g,v,b,S,E,M);b.transmission>0?i.unshift(A):b.transparent===!0?r.unshift(A):t.unshift(A)}function h(g,v){t.length>1&&t.sort(g||b$),i.length>1&&i.sort(v||jD),r.length>1&&r.sort(v||jD)}function m(){for(let g=e,v=n.length;g<v;g++){const b=n[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:c,unshift:u,finish:m,sort:h}}function S$(){let n=new WeakMap;function e(i,r){const a=n.get(i);let o;return a===void 0?(o=new GD,n.set(i,[o])):r>=a.length?(o=new GD,a.push(o)):o=a[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function A$(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new bt};break;case"SpotLight":t={position:new Z,direction:new Z,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new bt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":t={color:new bt,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function _$(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let M$=0;function E$(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function C$(n){const e=new A$,t=_$(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new Z);const r=new Z,a=new Pt,o=new Pt;function c(h){let m=0,g=0,v=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let b=0,S=0,E=0,M=0,A=0,z=0,B=0,L=0,O=0,U=0,k=0;h.sort(E$);for(let P=0,w=h.length;P<w;P++){const G=h[P],ee=G.color,q=G.intensity,$=G.distance,ae=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=ee.r*q,g+=ee.g*q,v+=ee.b*q;else if(G.isLightProbe){for(let J=0;J<9;J++)i.probe[J].addScaledVector(G.sh.coefficients[J],q);k++}else if(G.isDirectionalLight){const J=e.get(G);if(J.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const re=G.shadow,Q=t.get(G);Q.shadowIntensity=re.intensity,Q.shadowBias=re.bias,Q.shadowNormalBias=re.normalBias,Q.shadowRadius=re.radius,Q.shadowMapSize=re.mapSize,i.directionalShadow[b]=Q,i.directionalShadowMap[b]=ae,i.directionalShadowMatrix[b]=G.shadow.matrix,z++}i.directional[b]=J,b++}else if(G.isSpotLight){const J=e.get(G);J.position.setFromMatrixPosition(G.matrixWorld),J.color.copy(ee).multiplyScalar(q),J.distance=$,J.coneCos=Math.cos(G.angle),J.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),J.decay=G.decay,i.spot[E]=J;const re=G.shadow;if(G.map&&(i.spotLightMap[O]=G.map,O++,re.updateMatrices(G),G.castShadow&&U++),i.spotLightMatrix[E]=re.matrix,G.castShadow){const Q=t.get(G);Q.shadowIntensity=re.intensity,Q.shadowBias=re.bias,Q.shadowNormalBias=re.normalBias,Q.shadowRadius=re.radius,Q.shadowMapSize=re.mapSize,i.spotShadow[E]=Q,i.spotShadowMap[E]=ae,L++}E++}else if(G.isRectAreaLight){const J=e.get(G);J.color.copy(ee).multiplyScalar(q),J.halfWidth.set(G.width*.5,0,0),J.halfHeight.set(0,G.height*.5,0),i.rectArea[M]=J,M++}else if(G.isPointLight){const J=e.get(G);if(J.color.copy(G.color).multiplyScalar(G.intensity),J.distance=G.distance,J.decay=G.decay,G.castShadow){const re=G.shadow,Q=t.get(G);Q.shadowIntensity=re.intensity,Q.shadowBias=re.bias,Q.shadowNormalBias=re.normalBias,Q.shadowRadius=re.radius,Q.shadowMapSize=re.mapSize,Q.shadowCameraNear=re.camera.near,Q.shadowCameraFar=re.camera.far,i.pointShadow[S]=Q,i.pointShadowMap[S]=ae,i.pointShadowMatrix[S]=G.shadow.matrix,B++}i.point[S]=J,S++}else if(G.isHemisphereLight){const J=e.get(G);J.skyColor.copy(G.color).multiplyScalar(q),J.groundColor.copy(G.groundColor).multiplyScalar(q),i.hemi[A]=J,A++}}M>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=_t.LTC_FLOAT_1,i.rectAreaLTC2=_t.LTC_FLOAT_2):(i.rectAreaLTC1=_t.LTC_HALF_1,i.rectAreaLTC2=_t.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=v;const F=i.hash;(F.directionalLength!==b||F.pointLength!==S||F.spotLength!==E||F.rectAreaLength!==M||F.hemiLength!==A||F.numDirectionalShadows!==z||F.numPointShadows!==B||F.numSpotShadows!==L||F.numSpotMaps!==O||F.numLightProbes!==k)&&(i.directional.length=b,i.spot.length=E,i.rectArea.length=M,i.point.length=S,i.hemi.length=A,i.directionalShadow.length=z,i.directionalShadowMap.length=z,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=z,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=L+O-U,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=k,F.directionalLength=b,F.pointLength=S,F.spotLength=E,F.rectAreaLength=M,F.hemiLength=A,F.numDirectionalShadows=z,F.numPointShadows=B,F.numSpotShadows=L,F.numSpotMaps=O,F.numLightProbes=k,i.version=M$++)}function u(h,m){let g=0,v=0,b=0,S=0,E=0;const M=m.matrixWorldInverse;for(let A=0,z=h.length;A<z;A++){const B=h[A];if(B.isDirectionalLight){const L=i.directional[g];L.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(M),g++}else if(B.isSpotLight){const L=i.spot[b];L.position.setFromMatrixPosition(B.matrixWorld),L.position.applyMatrix4(M),L.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(M),b++}else if(B.isRectAreaLight){const L=i.rectArea[S];L.position.setFromMatrixPosition(B.matrixWorld),L.position.applyMatrix4(M),o.identity(),a.copy(B.matrixWorld),a.premultiply(M),o.extractRotation(a),L.halfWidth.set(B.width*.5,0,0),L.halfHeight.set(0,B.height*.5,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),S++}else if(B.isPointLight){const L=i.point[v];L.position.setFromMatrixPosition(B.matrixWorld),L.position.applyMatrix4(M),v++}else if(B.isHemisphereLight){const L=i.hemi[E];L.direction.setFromMatrixPosition(B.matrixWorld),L.direction.transformDirection(M),E++}}}return{setup:c,setupView:u,state:i}}function VD(n){const e=new C$(n),t=[],i=[];function r(m){h.camera=m,t.length=0,i.length=0}function a(m){t.push(m)}function o(m){i.push(m)}function c(){e.setup(t)}function u(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:c,setupLightsView:u,pushLight:a,pushShadow:o}}function T$(n){let e=new WeakMap;function t(r,a=0){const o=e.get(r);let c;return o===void 0?(c=new VD(n),e.set(r,[c])):a>=o.length?(c=new VD(n),o.push(c)):c=o[a],c}function i(){e=new WeakMap}return{get:t,dispose:i}}const w$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,R$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function B$(n,e,t){let i=new $0;const r=new qe,a=new qe,o=new Un,c=new ST({depthPacking:hN}),u=new AT,h={},m=t.maxTextureSize,g={[oc]:Ga,[Ga]:oc,[lo]:lo},v=new cl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:w$,fragmentShader:R$}),b=v.clone();b.defines.HORIZONTAL_PASS=1;const S=new tn;S.setAttribute("position",new Pn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new nr(S,v),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=LA;let A=this.type;this.render=function(U,k,F){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||U.length===0)return;const P=n.getRenderTarget(),w=n.getActiveCubeFace(),G=n.getActiveMipmapLevel(),ee=n.state;ee.setBlending(au),ee.buffers.color.setClear(1,1,1,1),ee.buffers.depth.setTest(!0),ee.setScissorTest(!1);const q=A!==el&&this.type===el,$=A===el&&this.type!==el;for(let ae=0,J=U.length;ae<J;ae++){const re=U[ae],Q=re.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const de=Q.getFrameExtents();if(r.multiply(de),a.copy(Q.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/de.x),r.x=a.x*de.x,Q.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/de.y),r.y=a.y*de.y,Q.mapSize.y=a.y)),Q.map===null||q===!0||$===!0){const te=this.type!==el?{minFilter:kr,magFilter:kr}:{};Q.map!==null&&Q.map.dispose(),Q.map=new ll(r.x,r.y,te),Q.map.texture.name=re.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const Y=Q.getViewportCount();for(let te=0;te<Y;te++){const Ce=Q.getViewport(te);o.set(a.x*Ce.x,a.y*Ce.y,a.x*Ce.z,a.y*Ce.w),ee.viewport(o),Q.updateMatrices(re,te),i=Q.getFrustum(),L(k,F,Q.camera,re,this.type)}Q.isPointLightShadow!==!0&&this.type===el&&z(Q,F),Q.needsUpdate=!1}A=this.type,M.needsUpdate=!1,n.setRenderTarget(P,w,G)};function z(U,k){const F=e.update(E);v.defines.VSM_SAMPLES!==U.blurSamples&&(v.defines.VSM_SAMPLES=U.blurSamples,b.defines.VSM_SAMPLES=U.blurSamples,v.needsUpdate=!0,b.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new ll(r.x,r.y)),v.uniforms.shadow_pass.value=U.map.texture,v.uniforms.resolution.value=U.mapSize,v.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(k,null,F,v,E,null),b.uniforms.shadow_pass.value=U.mapPass.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(k,null,F,b,E,null)}function B(U,k,F,P){let w=null;const G=F.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(G!==void 0)w=G;else if(w=F.isPointLight===!0?u:c,n.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0){const ee=w.uuid,q=k.uuid;let $=h[ee];$===void 0&&($={},h[ee]=$);let ae=$[q];ae===void 0&&(ae=w.clone(),$[q]=ae,k.addEventListener("dispose",O)),w=ae}if(w.visible=k.visible,w.wireframe=k.wireframe,P===el?w.side=k.shadowSide!==null?k.shadowSide:k.side:w.side=k.shadowSide!==null?k.shadowSide:g[k.side],w.alphaMap=k.alphaMap,w.alphaTest=k.alphaTest,w.map=k.map,w.clipShadows=k.clipShadows,w.clippingPlanes=k.clippingPlanes,w.clipIntersection=k.clipIntersection,w.displacementMap=k.displacementMap,w.displacementScale=k.displacementScale,w.displacementBias=k.displacementBias,w.wireframeLinewidth=k.wireframeLinewidth,w.linewidth=k.linewidth,F.isPointLight===!0&&w.isMeshDistanceMaterial===!0){const ee=n.properties.get(w);ee.light=F}return w}function L(U,k,F,P,w){if(U.visible===!1)return;if(U.layers.test(k.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&w===el)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,U.matrixWorld);const q=e.update(U),$=U.material;if(Array.isArray($)){const ae=q.groups;for(let J=0,re=ae.length;J<re;J++){const Q=ae[J],de=$[Q.materialIndex];if(de&&de.visible){const Y=B(U,de,P,w);U.onBeforeShadow(n,U,k,F,q,Y,Q),n.renderBufferDirect(F,null,q,Y,U,Q),U.onAfterShadow(n,U,k,F,q,Y,Q)}}}else if($.visible){const ae=B(U,$,P,w);U.onBeforeShadow(n,U,k,F,q,ae,null),n.renderBufferDirect(F,null,q,ae,U,null),U.onAfterShadow(n,U,k,F,q,ae,null)}}const ee=U.children;for(let q=0,$=ee.length;q<$;q++)L(ee[q],k,F,P,w)}function O(U){U.target.removeEventListener("dispose",O);for(const F in h){const P=h[F],w=U.target.uuid;w in P&&(P[w].dispose(),delete P[w])}}}const D$={[SS]:AS,[_S]:CS,[MS]:TS,[hh]:ES,[AS]:SS,[CS]:_S,[TS]:MS,[ES]:hh};function z$(n,e){function t(){let le=!1;const st=new Un;let Oe=null;const Ue=new Un(0,0,0,0);return{setMask:function(rt){Oe!==rt&&!le&&(n.colorMask(rt,rt,rt,rt),Oe=rt)},setLocked:function(rt){le=rt},setClear:function(rt,dt,wt,Xt,Fn){Fn===!0&&(rt*=Xt,dt*=Xt,wt*=Xt),st.set(rt,dt,wt,Xt),Ue.equals(st)===!1&&(n.clearColor(rt,dt,wt,Xt),Ue.copy(st))},reset:function(){le=!1,Oe=null,Ue.set(-1,0,0,0)}}}function i(){let le=!1,st=!1,Oe=null,Ue=null,rt=null;return{setReversed:function(dt){if(st!==dt){const wt=e.get("EXT_clip_control");dt?wt.clipControlEXT(wt.LOWER_LEFT_EXT,wt.ZERO_TO_ONE_EXT):wt.clipControlEXT(wt.LOWER_LEFT_EXT,wt.NEGATIVE_ONE_TO_ONE_EXT),st=dt;const Xt=rt;rt=null,this.setClear(Xt)}},getReversed:function(){return st},setTest:function(dt){dt?Xe(n.DEPTH_TEST):Ge(n.DEPTH_TEST)},setMask:function(dt){Oe!==dt&&!le&&(n.depthMask(dt),Oe=dt)},setFunc:function(dt){if(st&&(dt=D$[dt]),Ue!==dt){switch(dt){case SS:n.depthFunc(n.NEVER);break;case AS:n.depthFunc(n.ALWAYS);break;case _S:n.depthFunc(n.LESS);break;case hh:n.depthFunc(n.LEQUAL);break;case MS:n.depthFunc(n.EQUAL);break;case ES:n.depthFunc(n.GEQUAL);break;case CS:n.depthFunc(n.GREATER);break;case TS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ue=dt}},setLocked:function(dt){le=dt},setClear:function(dt){rt!==dt&&(st&&(dt=1-dt),n.clearDepth(dt),rt=dt)},reset:function(){le=!1,Oe=null,Ue=null,rt=null,st=!1}}}function r(){let le=!1,st=null,Oe=null,Ue=null,rt=null,dt=null,wt=null,Xt=null,Fn=null;return{setTest:function($t){le||($t?Xe(n.STENCIL_TEST):Ge(n.STENCIL_TEST))},setMask:function($t){st!==$t&&!le&&(n.stencilMask($t),st=$t)},setFunc:function($t,bi,Ri){(Oe!==$t||Ue!==bi||rt!==Ri)&&(n.stencilFunc($t,bi,Ri),Oe=$t,Ue=bi,rt=Ri)},setOp:function($t,bi,Ri){(dt!==$t||wt!==bi||Xt!==Ri)&&(n.stencilOp($t,bi,Ri),dt=$t,wt=bi,Xt=Ri)},setLocked:function($t){le=$t},setClear:function($t){Fn!==$t&&(n.clearStencil($t),Fn=$t)},reset:function(){le=!1,st=null,Oe=null,Ue=null,rt=null,dt=null,wt=null,Xt=null,Fn=null}}}const a=new t,o=new i,c=new r,u=new WeakMap,h=new WeakMap;let m={},g={},v=new WeakMap,b=[],S=null,E=!1,M=null,A=null,z=null,B=null,L=null,O=null,U=null,k=new bt(0,0,0),F=0,P=!1,w=null,G=null,ee=null,q=null,$=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,re=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(Q)[1]),J=re>=1):Q.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),J=re>=2);let de=null,Y={};const te=n.getParameter(n.SCISSOR_BOX),Ce=n.getParameter(n.VIEWPORT),He=new Un().fromArray(te),se=new Un().fromArray(Ce);function we(le,st,Oe,Ue){const rt=new Uint8Array(4),dt=n.createTexture();n.bindTexture(le,dt),n.texParameteri(le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let wt=0;wt<Oe;wt++)le===n.TEXTURE_3D||le===n.TEXTURE_2D_ARRAY?n.texImage3D(st,0,n.RGBA,1,1,Ue,0,n.RGBA,n.UNSIGNED_BYTE,rt):n.texImage2D(st+wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,rt);return dt}const Ae={};Ae[n.TEXTURE_2D]=we(n.TEXTURE_2D,n.TEXTURE_2D,1),Ae[n.TEXTURE_CUBE_MAP]=we(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ae[n.TEXTURE_2D_ARRAY]=we(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ae[n.TEXTURE_3D]=we(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),Xe(n.DEPTH_TEST),o.setFunc(hh),ke(!1),De(yE),Xe(n.CULL_FACE),ne(au);function Xe(le){m[le]!==!0&&(n.enable(le),m[le]=!0)}function Ge(le){m[le]!==!1&&(n.disable(le),m[le]=!1)}function vt(le,st){return g[le]!==st?(n.bindFramebuffer(le,st),g[le]=st,le===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=st),le===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=st),!0):!1}function Ze(le,st){let Oe=b,Ue=!1;if(le){Oe=v.get(st),Oe===void 0&&(Oe=[],v.set(st,Oe));const rt=le.textures;if(Oe.length!==rt.length||Oe[0]!==n.COLOR_ATTACHMENT0){for(let dt=0,wt=rt.length;dt<wt;dt++)Oe[dt]=n.COLOR_ATTACHMENT0+dt;Oe.length=rt.length,Ue=!0}}else Oe[0]!==n.BACK&&(Oe[0]=n.BACK,Ue=!0);Ue&&n.drawBuffers(Oe)}function at(le){return S!==le?(n.useProgram(le),S=le,!0):!1}const Et={[ff]:n.FUNC_ADD,[UO]:n.FUNC_SUBTRACT,[PO]:n.FUNC_REVERSE_SUBTRACT};Et[IO]=n.MIN,Et[kO]=n.MAX;const ht={[FO]:n.ZERO,[HO]:n.ONE,[jO]:n.SRC_COLOR,[xS]:n.SRC_ALPHA,[KO]:n.SRC_ALPHA_SATURATE,[WO]:n.DST_COLOR,[VO]:n.DST_ALPHA,[GO]:n.ONE_MINUS_SRC_COLOR,[bS]:n.ONE_MINUS_SRC_ALPHA,[YO]:n.ONE_MINUS_DST_COLOR,[XO]:n.ONE_MINUS_DST_ALPHA,[qO]:n.CONSTANT_COLOR,[JO]:n.ONE_MINUS_CONSTANT_COLOR,[ZO]:n.CONSTANT_ALPHA,[QO]:n.ONE_MINUS_CONSTANT_ALPHA};function ne(le,st,Oe,Ue,rt,dt,wt,Xt,Fn,$t){if(le===au){E===!0&&(Ge(n.BLEND),E=!1);return}if(E===!1&&(Xe(n.BLEND),E=!0),le!==NO){if(le!==M||$t!==P){if((A!==ff||L!==ff)&&(n.blendEquation(n.FUNC_ADD),A=ff,L=ff),$t)switch(le){case oh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case vE:n.blendFunc(n.ONE,n.ONE);break;case xE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case bE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case oh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case vE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case xE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case bE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}z=null,B=null,O=null,U=null,k.set(0,0,0),F=0,M=le,P=$t}return}rt=rt||st,dt=dt||Oe,wt=wt||Ue,(st!==A||rt!==L)&&(n.blendEquationSeparate(Et[st],Et[rt]),A=st,L=rt),(Oe!==z||Ue!==B||dt!==O||wt!==U)&&(n.blendFuncSeparate(ht[Oe],ht[Ue],ht[dt],ht[wt]),z=Oe,B=Ue,O=dt,U=wt),(Xt.equals(k)===!1||Fn!==F)&&(n.blendColor(Xt.r,Xt.g,Xt.b,Fn),k.copy(Xt),F=Fn),M=le,P=!1}function Yt(le,st){le.side===lo?Ge(n.CULL_FACE):Xe(n.CULL_FACE);let Oe=le.side===Ga;st&&(Oe=!Oe),ke(Oe),le.blending===oh&&le.transparent===!1?ne(au):ne(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),o.setFunc(le.depthFunc),o.setTest(le.depthTest),o.setMask(le.depthWrite),a.setMask(le.colorWrite);const Ue=le.stencilWrite;c.setTest(Ue),Ue&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),$e(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Xe(n.SAMPLE_ALPHA_TO_COVERAGE):Ge(n.SAMPLE_ALPHA_TO_COVERAGE)}function ke(le){w!==le&&(le?n.frontFace(n.CW):n.frontFace(n.CCW),w=le)}function De(le){le!==zO?(Xe(n.CULL_FACE),le!==G&&(le===yE?n.cullFace(n.BACK):le===LO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ge(n.CULL_FACE),G=le}function Te(le){le!==ee&&(J&&n.lineWidth(le),ee=le)}function $e(le,st,Oe){le?(Xe(n.POLYGON_OFFSET_FILL),(q!==st||$!==Oe)&&(n.polygonOffset(st,Oe),q=st,$=Oe)):Ge(n.POLYGON_OFFSET_FILL)}function ze(le){le?Xe(n.SCISSOR_TEST):Ge(n.SCISSOR_TEST)}function K(le){le===void 0&&(le=n.TEXTURE0+ae-1),de!==le&&(n.activeTexture(le),de=le)}function j(le,st,Oe){Oe===void 0&&(de===null?Oe=n.TEXTURE0+ae-1:Oe=de);let Ue=Y[Oe];Ue===void 0&&(Ue={type:void 0,texture:void 0},Y[Oe]=Ue),(Ue.type!==le||Ue.texture!==st)&&(de!==Oe&&(n.activeTexture(Oe),de=Oe),n.bindTexture(le,st||Ae[le]),Ue.type=le,Ue.texture=st)}function pe(){const le=Y[de];le!==void 0&&le.type!==void 0&&(n.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function Ee(){try{n.compressedTexImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ce(){try{n.compressedTexImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function fe(){try{n.texSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Fe(){try{n.texSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Pe(){try{n.compressedTexSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Je(){try{n.compressedTexSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function et(){try{n.texStorage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function We(){try{n.texStorage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function it(){try{n.texImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ct(){try{n.texImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ft(le){He.equals(le)===!1&&(n.scissor(le.x,le.y,le.z,le.w),He.copy(le))}function gt(le){se.equals(le)===!1&&(n.viewport(le.x,le.y,le.z,le.w),se.copy(le))}function ue(le,st){let Oe=h.get(st);Oe===void 0&&(Oe=new WeakMap,h.set(st,Oe));let Ue=Oe.get(le);Ue===void 0&&(Ue=n.getUniformBlockIndex(st,le.name),Oe.set(le,Ue))}function Ie(le,st){const Ue=h.get(st).get(le);u.get(st)!==Ue&&(n.uniformBlockBinding(st,Ue,le.__bindingPointIndex),u.set(st,Ue))}function yt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},de=null,Y={},g={},v=new WeakMap,b=[],S=null,E=!1,M=null,A=null,z=null,B=null,L=null,O=null,U=null,k=new bt(0,0,0),F=0,P=!1,w=null,G=null,ee=null,q=null,$=null,He.set(0,0,n.canvas.width,n.canvas.height),se.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:Xe,disable:Ge,bindFramebuffer:vt,drawBuffers:Ze,useProgram:at,setBlending:ne,setMaterial:Yt,setFlipSided:ke,setCullFace:De,setLineWidth:Te,setPolygonOffset:$e,setScissorTest:ze,activeTexture:K,bindTexture:j,unbindTexture:pe,compressedTexImage2D:Ee,compressedTexImage3D:ce,texImage2D:it,texImage3D:ct,updateUBOMapping:ue,uniformBlockBinding:Ie,texStorage2D:et,texStorage3D:We,texSubImage2D:fe,texSubImage3D:Fe,compressedTexSubImage2D:Pe,compressedTexSubImage3D:Je,scissor:ft,viewport:gt,reset:yt}}function L$(n,e,t,i,r,a,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new qe,m=new WeakMap;let g;const v=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(K,j){return b?new OffscreenCanvas(K,j):T0("canvas")}function E(K,j,pe){let Ee=1;const ce=ze(K);if((ce.width>pe||ce.height>pe)&&(Ee=pe/Math.max(ce.width,ce.height)),Ee<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const fe=Math.floor(Ee*ce.width),Fe=Math.floor(Ee*ce.height);g===void 0&&(g=S(fe,Fe));const Pe=j?S(fe,Fe):g;return Pe.width=fe,Pe.height=Fe,Pe.getContext("2d").drawImage(K,0,0,fe,Fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ce.width+"x"+ce.height+") to ("+fe+"x"+Fe+")."),Pe}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ce.width+"x"+ce.height+")."),K;return K}function M(K){return K.generateMipmaps}function A(K){n.generateMipmap(K)}function z(K){return K.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?n.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B(K,j,pe,Ee,ce=!1){if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let fe=j;if(j===n.RED&&(pe===n.FLOAT&&(fe=n.R32F),pe===n.HALF_FLOAT&&(fe=n.R16F),pe===n.UNSIGNED_BYTE&&(fe=n.R8)),j===n.RED_INTEGER&&(pe===n.UNSIGNED_BYTE&&(fe=n.R8UI),pe===n.UNSIGNED_SHORT&&(fe=n.R16UI),pe===n.UNSIGNED_INT&&(fe=n.R32UI),pe===n.BYTE&&(fe=n.R8I),pe===n.SHORT&&(fe=n.R16I),pe===n.INT&&(fe=n.R32I)),j===n.RG&&(pe===n.FLOAT&&(fe=n.RG32F),pe===n.HALF_FLOAT&&(fe=n.RG16F),pe===n.UNSIGNED_BYTE&&(fe=n.RG8)),j===n.RG_INTEGER&&(pe===n.UNSIGNED_BYTE&&(fe=n.RG8UI),pe===n.UNSIGNED_SHORT&&(fe=n.RG16UI),pe===n.UNSIGNED_INT&&(fe=n.RG32UI),pe===n.BYTE&&(fe=n.RG8I),pe===n.SHORT&&(fe=n.RG16I),pe===n.INT&&(fe=n.RG32I)),j===n.RGB_INTEGER&&(pe===n.UNSIGNED_BYTE&&(fe=n.RGB8UI),pe===n.UNSIGNED_SHORT&&(fe=n.RGB16UI),pe===n.UNSIGNED_INT&&(fe=n.RGB32UI),pe===n.BYTE&&(fe=n.RGB8I),pe===n.SHORT&&(fe=n.RGB16I),pe===n.INT&&(fe=n.RGB32I)),j===n.RGBA_INTEGER&&(pe===n.UNSIGNED_BYTE&&(fe=n.RGBA8UI),pe===n.UNSIGNED_SHORT&&(fe=n.RGBA16UI),pe===n.UNSIGNED_INT&&(fe=n.RGBA32UI),pe===n.BYTE&&(fe=n.RGBA8I),pe===n.SHORT&&(fe=n.RGBA16I),pe===n.INT&&(fe=n.RGBA32I)),j===n.RGB&&pe===n.UNSIGNED_INT_5_9_9_9_REV&&(fe=n.RGB9_E5),j===n.RGBA){const Fe=ce?M0:Dn.getTransfer(Ee);pe===n.FLOAT&&(fe=n.RGBA32F),pe===n.HALF_FLOAT&&(fe=n.RGBA16F),pe===n.UNSIGNED_BYTE&&(fe=Fe===$n?n.SRGB8_ALPHA8:n.RGBA8),pe===n.UNSIGNED_SHORT_4_4_4_4&&(fe=n.RGBA4),pe===n.UNSIGNED_SHORT_5_5_5_1&&(fe=n.RGB5_A1)}return(fe===n.R16F||fe===n.R32F||fe===n.RG16F||fe===n.RG32F||fe===n.RGBA16F||fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),fe}function L(K,j){let pe;return K?j===null||j===fu||j===Dm?pe=n.DEPTH24_STENCIL8:j===Ha?pe=n.DEPTH32F_STENCIL8:j===Bm&&(pe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===fu||j===Dm?pe=n.DEPTH_COMPONENT24:j===Ha?pe=n.DEPTH_COMPONENT32F:j===Bm&&(pe=n.DEPTH_COMPONENT16),pe}function O(K,j){return M(K)===!0||K.isFramebufferTexture&&K.minFilter!==kr&&K.minFilter!==Hi?Math.log2(Math.max(j.width,j.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?j.mipmaps.length:1}function U(K){const j=K.target;j.removeEventListener("dispose",U),F(j),j.isVideoTexture&&m.delete(j)}function k(K){const j=K.target;j.removeEventListener("dispose",k),w(j)}function F(K){const j=i.get(K);if(j.__webglInit===void 0)return;const pe=K.source,Ee=v.get(pe);if(Ee){const ce=Ee[j.__cacheKey];ce.usedTimes--,ce.usedTimes===0&&P(K),Object.keys(Ee).length===0&&v.delete(pe)}i.remove(K)}function P(K){const j=i.get(K);n.deleteTexture(j.__webglTexture);const pe=K.source,Ee=v.get(pe);delete Ee[j.__cacheKey],o.memory.textures--}function w(K){const j=i.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),i.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++){if(Array.isArray(j.__webglFramebuffer[Ee]))for(let ce=0;ce<j.__webglFramebuffer[Ee].length;ce++)n.deleteFramebuffer(j.__webglFramebuffer[Ee][ce]);else n.deleteFramebuffer(j.__webglFramebuffer[Ee]);j.__webglDepthbuffer&&n.deleteRenderbuffer(j.__webglDepthbuffer[Ee])}else{if(Array.isArray(j.__webglFramebuffer))for(let Ee=0;Ee<j.__webglFramebuffer.length;Ee++)n.deleteFramebuffer(j.__webglFramebuffer[Ee]);else n.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&n.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&n.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let Ee=0;Ee<j.__webglColorRenderbuffer.length;Ee++)j.__webglColorRenderbuffer[Ee]&&n.deleteRenderbuffer(j.__webglColorRenderbuffer[Ee]);j.__webglDepthRenderbuffer&&n.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const pe=K.textures;for(let Ee=0,ce=pe.length;Ee<ce;Ee++){const fe=i.get(pe[Ee]);fe.__webglTexture&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),i.remove(pe[Ee])}i.remove(K)}let G=0;function ee(){G=0}function q(){const K=G;return K>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+r.maxTextures),G+=1,K}function $(K){const j=[];return j.push(K.wrapS),j.push(K.wrapT),j.push(K.wrapR||0),j.push(K.magFilter),j.push(K.minFilter),j.push(K.anisotropy),j.push(K.internalFormat),j.push(K.format),j.push(K.type),j.push(K.generateMipmaps),j.push(K.premultiplyAlpha),j.push(K.flipY),j.push(K.unpackAlignment),j.push(K.colorSpace),j.join()}function ae(K,j){const pe=i.get(K);if(K.isVideoTexture&&Te(K),K.isRenderTargetTexture===!1&&K.version>0&&pe.__version!==K.version){const Ee=K.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(pe,K,j);return}}t.bindTexture(n.TEXTURE_2D,pe.__webglTexture,n.TEXTURE0+j)}function J(K,j){const pe=i.get(K);if(K.version>0&&pe.__version!==K.version){se(pe,K,j);return}t.bindTexture(n.TEXTURE_2D_ARRAY,pe.__webglTexture,n.TEXTURE0+j)}function re(K,j){const pe=i.get(K);if(K.version>0&&pe.__version!==K.version){se(pe,K,j);return}t.bindTexture(n.TEXTURE_3D,pe.__webglTexture,n.TEXTURE0+j)}function Q(K,j){const pe=i.get(K);if(K.version>0&&pe.__version!==K.version){we(pe,K,j);return}t.bindTexture(n.TEXTURE_CUBE_MAP,pe.__webglTexture,n.TEXTURE0+j)}const de={[Mf]:n.REPEAT,[Ls]:n.CLAMP_TO_EDGE,[Rm]:n.MIRRORED_REPEAT},Y={[kr]:n.NEAREST,[NA]:n.NEAREST_MIPMAP_NEAREST,[Jd]:n.NEAREST_MIPMAP_LINEAR,[Hi]:n.LINEAR,[ym]:n.LINEAR_MIPMAP_NEAREST,[ho]:n.LINEAR_MIPMAP_LINEAR},te={[mN]:n.NEVER,[SN]:n.ALWAYS,[gN]:n.LESS,[sT]:n.LEQUAL,[yN]:n.EQUAL,[bN]:n.GEQUAL,[vN]:n.GREATER,[xN]:n.NOTEQUAL};function Ce(K,j){if(j.type===Ha&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===Hi||j.magFilter===ym||j.magFilter===Jd||j.magFilter===ho||j.minFilter===Hi||j.minFilter===ym||j.minFilter===Jd||j.minFilter===ho)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(K,n.TEXTURE_WRAP_S,de[j.wrapS]),n.texParameteri(K,n.TEXTURE_WRAP_T,de[j.wrapT]),(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)&&n.texParameteri(K,n.TEXTURE_WRAP_R,de[j.wrapR]),n.texParameteri(K,n.TEXTURE_MAG_FILTER,Y[j.magFilter]),n.texParameteri(K,n.TEXTURE_MIN_FILTER,Y[j.minFilter]),j.compareFunction&&(n.texParameteri(K,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(K,n.TEXTURE_COMPARE_FUNC,te[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===kr||j.minFilter!==Jd&&j.minFilter!==ho||j.type===Ha&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||i.get(j).__currentAnisotropy){const pe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(K,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,r.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy}}}function He(K,j){let pe=!1;K.__webglInit===void 0&&(K.__webglInit=!0,j.addEventListener("dispose",U));const Ee=j.source;let ce=v.get(Ee);ce===void 0&&(ce={},v.set(Ee,ce));const fe=$(j);if(fe!==K.__cacheKey){ce[fe]===void 0&&(ce[fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,pe=!0),ce[fe].usedTimes++;const Fe=ce[K.__cacheKey];Fe!==void 0&&(ce[K.__cacheKey].usedTimes--,Fe.usedTimes===0&&P(j)),K.__cacheKey=fe,K.__webglTexture=ce[fe].texture}return pe}function se(K,j,pe){let Ee=n.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ee=n.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ee=n.TEXTURE_3D);const ce=He(K,j),fe=j.source;t.bindTexture(Ee,K.__webglTexture,n.TEXTURE0+pe);const Fe=i.get(fe);if(fe.version!==Fe.__version||ce===!0){t.activeTexture(n.TEXTURE0+pe);const Pe=Dn.getPrimaries(Dn.workingColorSpace),Je=j.colorSpace===Jc?null:Dn.getPrimaries(j.colorSpace),et=j.colorSpace===Jc||Pe===Je?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);let We=E(j.image,!1,r.maxTextureSize);We=$e(j,We);const it=a.convert(j.format,j.colorSpace),ct=a.convert(j.type);let ft=B(j.internalFormat,it,ct,j.colorSpace,j.isVideoTexture);Ce(Ee,j);let gt;const ue=j.mipmaps,Ie=j.isVideoTexture!==!0,yt=Fe.__version===void 0||ce===!0,le=fe.dataReady,st=O(j,We);if(j.isDepthTexture)ft=L(j.format===Lm,j.type),yt&&(Ie?t.texStorage2D(n.TEXTURE_2D,1,ft,We.width,We.height):t.texImage2D(n.TEXTURE_2D,0,ft,We.width,We.height,0,it,ct,null));else if(j.isDataTexture)if(ue.length>0){Ie&&yt&&t.texStorage2D(n.TEXTURE_2D,st,ft,ue[0].width,ue[0].height);for(let Oe=0,Ue=ue.length;Oe<Ue;Oe++)gt=ue[Oe],Ie?le&&t.texSubImage2D(n.TEXTURE_2D,Oe,0,0,gt.width,gt.height,it,ct,gt.data):t.texImage2D(n.TEXTURE_2D,Oe,ft,gt.width,gt.height,0,it,ct,gt.data);j.generateMipmaps=!1}else Ie?(yt&&t.texStorage2D(n.TEXTURE_2D,st,ft,We.width,We.height),le&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,We.width,We.height,it,ct,We.data)):t.texImage2D(n.TEXTURE_2D,0,ft,We.width,We.height,0,it,ct,We.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Ie&&yt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,st,ft,ue[0].width,ue[0].height,We.depth);for(let Oe=0,Ue=ue.length;Oe<Ue;Oe++)if(gt=ue[Oe],j.format!==ba)if(it!==null)if(Ie){if(le)if(j.layerUpdates.size>0){const rt=BE(gt.width,gt.height,j.format,j.type);for(const dt of j.layerUpdates){const wt=gt.data.subarray(dt*rt/gt.data.BYTES_PER_ELEMENT,(dt+1)*rt/gt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Oe,0,0,dt,gt.width,gt.height,1,it,wt)}j.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Oe,0,0,0,gt.width,gt.height,We.depth,it,gt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Oe,ft,gt.width,gt.height,We.depth,0,gt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ie?le&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Oe,0,0,0,gt.width,gt.height,We.depth,it,ct,gt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Oe,ft,gt.width,gt.height,We.depth,0,it,ct,gt.data)}else{Ie&&yt&&t.texStorage2D(n.TEXTURE_2D,st,ft,ue[0].width,ue[0].height);for(let Oe=0,Ue=ue.length;Oe<Ue;Oe++)gt=ue[Oe],j.format!==ba?it!==null?Ie?le&&t.compressedTexSubImage2D(n.TEXTURE_2D,Oe,0,0,gt.width,gt.height,it,gt.data):t.compressedTexImage2D(n.TEXTURE_2D,Oe,ft,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ie?le&&t.texSubImage2D(n.TEXTURE_2D,Oe,0,0,gt.width,gt.height,it,ct,gt.data):t.texImage2D(n.TEXTURE_2D,Oe,ft,gt.width,gt.height,0,it,ct,gt.data)}else if(j.isDataArrayTexture)if(Ie){if(yt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,st,ft,We.width,We.height,We.depth),le)if(j.layerUpdates.size>0){const Oe=BE(We.width,We.height,j.format,j.type);for(const Ue of j.layerUpdates){const rt=We.data.subarray(Ue*Oe/We.data.BYTES_PER_ELEMENT,(Ue+1)*Oe/We.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ue,We.width,We.height,1,it,ct,rt)}j.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,it,ct,We.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ft,We.width,We.height,We.depth,0,it,ct,We.data);else if(j.isData3DTexture)Ie?(yt&&t.texStorage3D(n.TEXTURE_3D,st,ft,We.width,We.height,We.depth),le&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,it,ct,We.data)):t.texImage3D(n.TEXTURE_3D,0,ft,We.width,We.height,We.depth,0,it,ct,We.data);else if(j.isFramebufferTexture){if(yt)if(Ie)t.texStorage2D(n.TEXTURE_2D,st,ft,We.width,We.height);else{let Oe=We.width,Ue=We.height;for(let rt=0;rt<st;rt++)t.texImage2D(n.TEXTURE_2D,rt,ft,Oe,Ue,0,it,ct,null),Oe>>=1,Ue>>=1}}else if(ue.length>0){if(Ie&&yt){const Oe=ze(ue[0]);t.texStorage2D(n.TEXTURE_2D,st,ft,Oe.width,Oe.height)}for(let Oe=0,Ue=ue.length;Oe<Ue;Oe++)gt=ue[Oe],Ie?le&&t.texSubImage2D(n.TEXTURE_2D,Oe,0,0,it,ct,gt):t.texImage2D(n.TEXTURE_2D,Oe,ft,it,ct,gt);j.generateMipmaps=!1}else if(Ie){if(yt){const Oe=ze(We);t.texStorage2D(n.TEXTURE_2D,st,ft,Oe.width,Oe.height)}le&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,it,ct,We)}else t.texImage2D(n.TEXTURE_2D,0,ft,it,ct,We);M(j)&&A(Ee),Fe.__version=fe.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function we(K,j,pe){if(j.image.length!==6)return;const Ee=He(K,j),ce=j.source;t.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture,n.TEXTURE0+pe);const fe=i.get(ce);if(ce.version!==fe.__version||Ee===!0){t.activeTexture(n.TEXTURE0+pe);const Fe=Dn.getPrimaries(Dn.workingColorSpace),Pe=j.colorSpace===Jc?null:Dn.getPrimaries(j.colorSpace),Je=j.colorSpace===Jc||Fe===Pe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Je);const et=j.isCompressedTexture||j.image[0].isCompressedTexture,We=j.image[0]&&j.image[0].isDataTexture,it=[];for(let Ue=0;Ue<6;Ue++)!et&&!We?it[Ue]=E(j.image[Ue],!0,r.maxCubemapSize):it[Ue]=We?j.image[Ue].image:j.image[Ue],it[Ue]=$e(j,it[Ue]);const ct=it[0],ft=a.convert(j.format,j.colorSpace),gt=a.convert(j.type),ue=B(j.internalFormat,ft,gt,j.colorSpace),Ie=j.isVideoTexture!==!0,yt=fe.__version===void 0||Ee===!0,le=ce.dataReady;let st=O(j,ct);Ce(n.TEXTURE_CUBE_MAP,j);let Oe;if(et){Ie&&yt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,st,ue,ct.width,ct.height);for(let Ue=0;Ue<6;Ue++){Oe=it[Ue].mipmaps;for(let rt=0;rt<Oe.length;rt++){const dt=Oe[rt];j.format!==ba?ft!==null?Ie?le&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt,0,0,dt.width,dt.height,ft,dt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt,ue,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ie?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt,0,0,dt.width,dt.height,ft,gt,dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt,ue,dt.width,dt.height,0,ft,gt,dt.data)}}}else{if(Oe=j.mipmaps,Ie&&yt){Oe.length>0&&st++;const Ue=ze(it[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,st,ue,Ue.width,Ue.height)}for(let Ue=0;Ue<6;Ue++)if(We){Ie?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,it[Ue].width,it[Ue].height,ft,gt,it[Ue].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,ue,it[Ue].width,it[Ue].height,0,ft,gt,it[Ue].data);for(let rt=0;rt<Oe.length;rt++){const wt=Oe[rt].image[Ue].image;Ie?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt+1,0,0,wt.width,wt.height,ft,gt,wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt+1,ue,wt.width,wt.height,0,ft,gt,wt.data)}}else{Ie?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,ft,gt,it[Ue]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,ue,ft,gt,it[Ue]);for(let rt=0;rt<Oe.length;rt++){const dt=Oe[rt];Ie?le&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt+1,0,0,ft,gt,dt.image[Ue]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,rt+1,ue,ft,gt,dt.image[Ue])}}}M(j)&&A(n.TEXTURE_CUBE_MAP),fe.__version=ce.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function Ae(K,j,pe,Ee,ce,fe){const Fe=a.convert(pe.format,pe.colorSpace),Pe=a.convert(pe.type),Je=B(pe.internalFormat,Fe,Pe,pe.colorSpace),et=i.get(j),We=i.get(pe);if(We.__renderTarget=j,!et.__hasExternalTextures){const it=Math.max(1,j.width>>fe),ct=Math.max(1,j.height>>fe);ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY?t.texImage3D(ce,fe,Je,it,ct,j.depth,0,Fe,Pe,null):t.texImage2D(ce,fe,Je,it,ct,0,Fe,Pe,null)}t.bindFramebuffer(n.FRAMEBUFFER,K),De(j)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ee,ce,We.__webglTexture,0,ke(j)):(ce===n.TEXTURE_2D||ce>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ce<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ee,ce,We.__webglTexture,fe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Xe(K,j,pe){if(n.bindRenderbuffer(n.RENDERBUFFER,K),j.depthBuffer){const Ee=j.depthTexture,ce=Ee&&Ee.isDepthTexture?Ee.type:null,fe=L(j.stencilBuffer,ce),Fe=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Pe=ke(j);De(j)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Pe,fe,j.width,j.height):pe?n.renderbufferStorageMultisample(n.RENDERBUFFER,Pe,fe,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,fe,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Fe,n.RENDERBUFFER,K)}else{const Ee=j.textures;for(let ce=0;ce<Ee.length;ce++){const fe=Ee[ce],Fe=a.convert(fe.format,fe.colorSpace),Pe=a.convert(fe.type),Je=B(fe.internalFormat,Fe,Pe,fe.colorSpace),et=ke(j);pe&&De(j)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,et,Je,j.width,j.height):De(j)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,Je,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,Je,j.width,j.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ge(K,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,K),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ee=i.get(j.depthTexture);Ee.__renderTarget=j,(!Ee.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),ae(j.depthTexture,0);const ce=Ee.__webglTexture,fe=ke(j);if(j.depthTexture.format===zm)De(j)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ce,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ce,0);else if(j.depthTexture.format===Lm)De(j)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ce,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ce,0);else throw new Error("Unknown depthTexture format")}function vt(K){const j=i.get(K),pe=K.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==K.depthTexture){const Ee=K.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),Ee){const ce=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,Ee.removeEventListener("dispose",ce)};Ee.addEventListener("dispose",ce),j.__depthDisposeCallback=ce}j.__boundDepthTexture=Ee}if(K.depthTexture&&!j.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");Ge(j.__webglFramebuffer,K)}else if(pe){j.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)if(t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[Ee]),j.__webglDepthbuffer[Ee]===void 0)j.__webglDepthbuffer[Ee]=n.createRenderbuffer(),Xe(j.__webglDepthbuffer[Ee],K,!1);else{const ce=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=j.__webglDepthbuffer[Ee];n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ce,n.RENDERBUFFER,fe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=n.createRenderbuffer(),Xe(j.__webglDepthbuffer,K,!1);else{const Ee=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ce=j.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ce),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ee,n.RENDERBUFFER,ce)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ze(K,j,pe){const Ee=i.get(K);j!==void 0&&Ae(Ee.__webglFramebuffer,K,K.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),pe!==void 0&&vt(K)}function at(K){const j=K.texture,pe=i.get(K),Ee=i.get(j);K.addEventListener("dispose",k);const ce=K.textures,fe=K.isWebGLCubeRenderTarget===!0,Fe=ce.length>1;if(Fe||(Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture()),Ee.__version=j.version,o.memory.textures++),fe){pe.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)if(j.mipmaps&&j.mipmaps.length>0){pe.__webglFramebuffer[Pe]=[];for(let Je=0;Je<j.mipmaps.length;Je++)pe.__webglFramebuffer[Pe][Je]=n.createFramebuffer()}else pe.__webglFramebuffer[Pe]=n.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){pe.__webglFramebuffer=[];for(let Pe=0;Pe<j.mipmaps.length;Pe++)pe.__webglFramebuffer[Pe]=n.createFramebuffer()}else pe.__webglFramebuffer=n.createFramebuffer();if(Fe)for(let Pe=0,Je=ce.length;Pe<Je;Pe++){const et=i.get(ce[Pe]);et.__webglTexture===void 0&&(et.__webglTexture=n.createTexture(),o.memory.textures++)}if(K.samples>0&&De(K)===!1){pe.__webglMultisampledFramebuffer=n.createFramebuffer(),pe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,pe.__webglMultisampledFramebuffer);for(let Pe=0;Pe<ce.length;Pe++){const Je=ce[Pe];pe.__webglColorRenderbuffer[Pe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,pe.__webglColorRenderbuffer[Pe]);const et=a.convert(Je.format,Je.colorSpace),We=a.convert(Je.type),it=B(Je.internalFormat,et,We,Je.colorSpace,K.isXRRenderTarget===!0),ct=ke(K);n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,it,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Pe,n.RENDERBUFFER,pe.__webglColorRenderbuffer[Pe])}n.bindRenderbuffer(n.RENDERBUFFER,null),K.depthBuffer&&(pe.__webglDepthRenderbuffer=n.createRenderbuffer(),Xe(pe.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture),Ce(n.TEXTURE_CUBE_MAP,j);for(let Pe=0;Pe<6;Pe++)if(j.mipmaps&&j.mipmaps.length>0)for(let Je=0;Je<j.mipmaps.length;Je++)Ae(pe.__webglFramebuffer[Pe][Je],K,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je);else Ae(pe.__webglFramebuffer[Pe],K,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0);M(j)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Fe){for(let Pe=0,Je=ce.length;Pe<Je;Pe++){const et=ce[Pe],We=i.get(et);t.bindTexture(n.TEXTURE_2D,We.__webglTexture),Ce(n.TEXTURE_2D,et),Ae(pe.__webglFramebuffer,K,et,n.COLOR_ATTACHMENT0+Pe,n.TEXTURE_2D,0),M(et)&&A(n.TEXTURE_2D)}t.unbindTexture()}else{let Pe=n.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(Pe=K.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Pe,Ee.__webglTexture),Ce(Pe,j),j.mipmaps&&j.mipmaps.length>0)for(let Je=0;Je<j.mipmaps.length;Je++)Ae(pe.__webglFramebuffer[Je],K,j,n.COLOR_ATTACHMENT0,Pe,Je);else Ae(pe.__webglFramebuffer,K,j,n.COLOR_ATTACHMENT0,Pe,0);M(j)&&A(Pe),t.unbindTexture()}K.depthBuffer&&vt(K)}function Et(K){const j=K.textures;for(let pe=0,Ee=j.length;pe<Ee;pe++){const ce=j[pe];if(M(ce)){const fe=z(K),Fe=i.get(ce).__webglTexture;t.bindTexture(fe,Fe),A(fe),t.unbindTexture()}}}const ht=[],ne=[];function Yt(K){if(K.samples>0){if(De(K)===!1){const j=K.textures,pe=K.width,Ee=K.height;let ce=n.COLOR_BUFFER_BIT;const fe=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Fe=i.get(K),Pe=j.length>1;if(Pe)for(let Je=0;Je<j.length;Je++)t.bindFramebuffer(n.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Je,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Fe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Je,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Fe.__webglFramebuffer);for(let Je=0;Je<j.length;Je++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(ce|=n.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(ce|=n.STENCIL_BUFFER_BIT)),Pe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Fe.__webglColorRenderbuffer[Je]);const et=i.get(j[Je]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,et,0)}n.blitFramebuffer(0,0,pe,Ee,0,0,pe,Ee,ce,n.NEAREST),u===!0&&(ht.length=0,ne.length=0,ht.push(n.COLOR_ATTACHMENT0+Je),K.depthBuffer&&K.resolveDepthBuffer===!1&&(ht.push(fe),ne.push(fe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ne)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ht))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Pe)for(let Je=0;Je<j.length;Je++){t.bindFramebuffer(n.FRAMEBUFFER,Fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Je,n.RENDERBUFFER,Fe.__webglColorRenderbuffer[Je]);const et=i.get(j[Je]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Fe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Je,n.TEXTURE_2D,et,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Fe.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&u){const j=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[j])}}}function ke(K){return Math.min(r.maxSamples,K.samples)}function De(K){const j=i.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function Te(K){const j=o.render.frame;m.get(K)!==j&&(m.set(K,j),K.update())}function $e(K,j){const pe=K.colorSpace,Ee=K.format,ce=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||pe!==Ef&&pe!==Jc&&(Dn.getTransfer(pe)===$n?(Ee!==ba||ce!==ol)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pe)),j}function ze(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(h.width=K.naturalWidth||K.width,h.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(h.width=K.displayWidth,h.height=K.displayHeight):(h.width=K.width,h.height=K.height),h}this.allocateTextureUnit=q,this.resetTextureUnits=ee,this.setTexture2D=ae,this.setTexture2DArray=J,this.setTexture3D=re,this.setTextureCube=Q,this.rebindTextures=Ze,this.setupRenderTarget=at,this.updateRenderTargetMipmap=Et,this.updateMultisampleRenderTarget=Yt,this.setupDepthRenderbuffer=vt,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=De}function TU(n,e){function t(i,r=Jc){let a;const o=Dn.getTransfer(r);if(i===ol)return n.UNSIGNED_BYTE;if(i===PA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===IA)return n.UNSIGNED_SHORT_5_5_5_1;if(i===ZC)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===qC)return n.BYTE;if(i===JC)return n.SHORT;if(i===Bm)return n.UNSIGNED_SHORT;if(i===UA)return n.INT;if(i===fu)return n.UNSIGNED_INT;if(i===Ha)return n.FLOAT;if(i===Ah)return n.HALF_FLOAT;if(i===QC)return n.ALPHA;if(i===$C)return n.RGB;if(i===ba)return n.RGBA;if(i===eT)return n.LUMINANCE;if(i===tT)return n.LUMINANCE_ALPHA;if(i===zm)return n.DEPTH_COMPONENT;if(i===Lm)return n.DEPTH_STENCIL;if(i===kA)return n.RED;if(i===K0)return n.RED_INTEGER;if(i===nT)return n.RG;if(i===FA)return n.RG_INTEGER;if(i===HA)return n.RGBA_INTEGER;if(i===qy||i===Jy||i===Zy||i===Qy)if(o===$n)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===qy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Jy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Zy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Qy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===qy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Jy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Zy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Qy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===wS||i===RS||i===BS||i===DS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===wS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===RS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===BS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===DS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===zS||i===LS||i===OS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===zS||i===LS)return o===$n?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===OS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===NS||i===US||i===PS||i===IS||i===kS||i===FS||i===HS||i===jS||i===GS||i===VS||i===XS||i===WS||i===YS||i===KS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===NS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===US)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===PS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===IS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===kS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===FS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===HS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===jS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===GS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===VS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===XS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===WS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===YS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===KS)return o===$n?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===$y||i===qS||i===JS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===$y)return o===$n?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===qS)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===JS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===iT||i===ZS||i===QS||i===$S)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===$y)return a.COMPRESSED_RED_RGTC1_EXT;if(i===ZS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===QS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===$S)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Dm?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const O$=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,N$=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class U${constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new wi,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new cl({vertexShader:O$,fragmentShader:N$,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new nr(new Jm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class P$ extends lc{constructor(e,t){super();const i=this;let r=null,a=1,o=null,c="local-floor",u=1,h=null,m=null,g=null,v=null,b=null,S=null;const E=new U$,M=t.getContextAttributes();let A=null,z=null;const B=[],L=[],O=new qe;let U=null;const k=new Ti;k.viewport=new Un;const F=new Ti;F.viewport=new Un;const P=[k,F],w=new yU;let G=null,ee=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let we=B[se];return we===void 0&&(we=new iS,B[se]=we),we.getTargetRaySpace()},this.getControllerGrip=function(se){let we=B[se];return we===void 0&&(we=new iS,B[se]=we),we.getGripSpace()},this.getHand=function(se){let we=B[se];return we===void 0&&(we=new iS,B[se]=we),we.getHandSpace()};function q(se){const we=L.indexOf(se.inputSource);if(we===-1)return;const Ae=B[we];Ae!==void 0&&(Ae.update(se.inputSource,se.frame,h||o),Ae.dispatchEvent({type:se.type,data:se.inputSource}))}function $(){r.removeEventListener("select",q),r.removeEventListener("selectstart",q),r.removeEventListener("selectend",q),r.removeEventListener("squeeze",q),r.removeEventListener("squeezestart",q),r.removeEventListener("squeezeend",q),r.removeEventListener("end",$),r.removeEventListener("inputsourceschange",ae);for(let se=0;se<B.length;se++){const we=L[se];we!==null&&(L[se]=null,B[se].disconnect(we))}G=null,ee=null,E.reset(),e.setRenderTarget(A),b=null,v=null,g=null,r=null,z=null,He.stop(),i.isPresenting=!1,e.setPixelRatio(U),e.setSize(O.width,O.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){a=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){c=se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(se){h=se},this.getBaseLayer=function(){return v!==null?v:b},this.getBinding=function(){return g},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",q),r.addEventListener("selectstart",q),r.addEventListener("selectend",q),r.addEventListener("squeeze",q),r.addEventListener("squeezestart",q),r.addEventListener("squeezeend",q),r.addEventListener("end",$),r.addEventListener("inputsourceschange",ae),M.xrCompatible!==!0&&await t.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ae=null,Xe=null,Ge=null;M.depth&&(Ge=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ae=M.stencil?Lm:zm,Xe=M.stencil?Dm:fu);const vt={colorFormat:t.RGBA8,depthFormat:Ge,scaleFactor:a};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(vt),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),z=new ll(v.textureWidth,v.textureHeight,{format:ba,type:ol,depthTexture:new QA(v.textureWidth,v.textureHeight,Xe,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Ae={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,t,Ae),r.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),z=new ll(b.framebufferWidth,b.framebufferHeight,{format:ba,type:ol,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}z.isXRRenderTarget=!0,this.setFoveation(u),h=null,o=await r.requestReferenceSpace(c),He.setContext(r),He.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function ae(se){for(let we=0;we<se.removed.length;we++){const Ae=se.removed[we],Xe=L.indexOf(Ae);Xe>=0&&(L[Xe]=null,B[Xe].disconnect(Ae))}for(let we=0;we<se.added.length;we++){const Ae=se.added[we];let Xe=L.indexOf(Ae);if(Xe===-1){for(let vt=0;vt<B.length;vt++)if(vt>=L.length){L.push(Ae),Xe=vt;break}else if(L[vt]===null){L[vt]=Ae,Xe=vt;break}if(Xe===-1)break}const Ge=B[Xe];Ge&&Ge.connect(Ae)}}const J=new Z,re=new Z;function Q(se,we,Ae){J.setFromMatrixPosition(we.matrixWorld),re.setFromMatrixPosition(Ae.matrixWorld);const Xe=J.distanceTo(re),Ge=we.projectionMatrix.elements,vt=Ae.projectionMatrix.elements,Ze=Ge[14]/(Ge[10]-1),at=Ge[14]/(Ge[10]+1),Et=(Ge[9]+1)/Ge[5],ht=(Ge[9]-1)/Ge[5],ne=(Ge[8]-1)/Ge[0],Yt=(vt[8]+1)/vt[0],ke=Ze*ne,De=Ze*Yt,Te=Xe/(-ne+Yt),$e=Te*-ne;if(we.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX($e),se.translateZ(Te),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Ge[10]===-1)se.projectionMatrix.copy(we.projectionMatrix),se.projectionMatrixInverse.copy(we.projectionMatrixInverse);else{const ze=Ze+Te,K=at+Te,j=ke-$e,pe=De+(Xe-$e),Ee=Et*at/K*ze,ce=ht*at/K*ze;se.projectionMatrix.makePerspective(j,pe,Ee,ce,ze,K),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function de(se,we){we===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(we.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;let we=se.near,Ae=se.far;E.texture!==null&&(E.depthNear>0&&(we=E.depthNear),E.depthFar>0&&(Ae=E.depthFar)),w.near=F.near=k.near=we,w.far=F.far=k.far=Ae,(G!==w.near||ee!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),G=w.near,ee=w.far),k.layers.mask=se.layers.mask|2,F.layers.mask=se.layers.mask|4,w.layers.mask=k.layers.mask|F.layers.mask;const Xe=se.parent,Ge=w.cameras;de(w,Xe);for(let vt=0;vt<Ge.length;vt++)de(Ge[vt],Xe);Ge.length===2?Q(w,k,F):w.projectionMatrix.copy(k.projectionMatrix),Y(se,w,Xe)};function Y(se,we,Ae){Ae===null?se.matrix.copy(we.matrixWorld):(se.matrix.copy(Ae.matrixWorld),se.matrix.invert(),se.matrix.multiply(we.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(we.projectionMatrix),se.projectionMatrixInverse.copy(we.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Um*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return w},this.getFoveation=function(){if(!(v===null&&b===null))return u},this.setFoveation=function(se){u=se,v!==null&&(v.fixedFoveation=se),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=se)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(w)};let te=null;function Ce(se,we){if(m=we.getViewerPose(h||o),S=we,m!==null){const Ae=m.views;b!==null&&(e.setRenderTargetFramebuffer(z,b.framebuffer),e.setRenderTarget(z));let Xe=!1;Ae.length!==w.cameras.length&&(w.cameras.length=0,Xe=!0);for(let Ze=0;Ze<Ae.length;Ze++){const at=Ae[Ze];let Et=null;if(b!==null)Et=b.getViewport(at);else{const ne=g.getViewSubImage(v,at);Et=ne.viewport,Ze===0&&(e.setRenderTargetTextures(z,ne.colorTexture,ne.depthStencilTexture),e.setRenderTarget(z))}let ht=P[Ze];ht===void 0&&(ht=new Ti,ht.layers.enable(Ze),ht.viewport=new Un,P[Ze]=ht),ht.matrix.fromArray(at.transform.matrix),ht.matrix.decompose(ht.position,ht.quaternion,ht.scale),ht.projectionMatrix.fromArray(at.projectionMatrix),ht.projectionMatrixInverse.copy(ht.projectionMatrix).invert(),ht.viewport.set(Et.x,Et.y,Et.width,Et.height),Ze===0&&(w.matrix.copy(ht.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),Xe===!0&&w.cameras.push(ht)}const Ge=r.enabledFeatures;if(Ge&&Ge.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const Ze=g.getDepthInformation(Ae[0]);Ze&&Ze.isValid&&Ze.texture&&E.init(e,Ze,r.renderState)}}for(let Ae=0;Ae<B.length;Ae++){const Xe=L[Ae],Ge=B[Ae];Xe!==null&&Ge!==void 0&&Ge.update(Xe,we,h||o)}te&&te(se,we),we.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:we}),S=null}const He=new AU;He.setAnimationLoop(Ce),this.setAnimationLoop=function(se){te=se},this.dispose=function(){}}}const Pd=new Is,I$=new Pt;function k$(n,e){function t(M,A){M.matrixAutoUpdate===!0&&M.updateMatrix(),A.value.copy(M.matrix)}function i(M,A){A.color.getRGB(M.fogColor.value,TN(n)),A.isFog?(M.fogNear.value=A.near,M.fogFar.value=A.far):A.isFogExp2&&(M.fogDensity.value=A.density)}function r(M,A,z,B,L){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(M,A):A.isMeshToonMaterial?(a(M,A),g(M,A)):A.isMeshPhongMaterial?(a(M,A),m(M,A)):A.isMeshStandardMaterial?(a(M,A),v(M,A),A.isMeshPhysicalMaterial&&b(M,A,L)):A.isMeshMatcapMaterial?(a(M,A),S(M,A)):A.isMeshDepthMaterial?a(M,A):A.isMeshDistanceMaterial?(a(M,A),E(M,A)):A.isMeshNormalMaterial?a(M,A):A.isLineBasicMaterial?(o(M,A),A.isLineDashedMaterial&&c(M,A)):A.isPointsMaterial?u(M,A,z,B):A.isSpriteMaterial?h(M,A):A.isShadowMaterial?(M.color.value.copy(A.color),M.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(M,A){M.opacity.value=A.opacity,A.color&&M.diffuse.value.copy(A.color),A.emissive&&M.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(M.map.value=A.map,t(A.map,M.mapTransform)),A.alphaMap&&(M.alphaMap.value=A.alphaMap,t(A.alphaMap,M.alphaMapTransform)),A.bumpMap&&(M.bumpMap.value=A.bumpMap,t(A.bumpMap,M.bumpMapTransform),M.bumpScale.value=A.bumpScale,A.side===Ga&&(M.bumpScale.value*=-1)),A.normalMap&&(M.normalMap.value=A.normalMap,t(A.normalMap,M.normalMapTransform),M.normalScale.value.copy(A.normalScale),A.side===Ga&&M.normalScale.value.negate()),A.displacementMap&&(M.displacementMap.value=A.displacementMap,t(A.displacementMap,M.displacementMapTransform),M.displacementScale.value=A.displacementScale,M.displacementBias.value=A.displacementBias),A.emissiveMap&&(M.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,M.emissiveMapTransform)),A.specularMap&&(M.specularMap.value=A.specularMap,t(A.specularMap,M.specularMapTransform)),A.alphaTest>0&&(M.alphaTest.value=A.alphaTest);const z=e.get(A),B=z.envMap,L=z.envMapRotation;B&&(M.envMap.value=B,Pd.copy(L),Pd.x*=-1,Pd.y*=-1,Pd.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Pd.y*=-1,Pd.z*=-1),M.envMapRotation.value.setFromMatrix4(I$.makeRotationFromEuler(Pd)),M.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=A.reflectivity,M.ior.value=A.ior,M.refractionRatio.value=A.refractionRatio),A.lightMap&&(M.lightMap.value=A.lightMap,M.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,M.lightMapTransform)),A.aoMap&&(M.aoMap.value=A.aoMap,M.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,M.aoMapTransform))}function o(M,A){M.diffuse.value.copy(A.color),M.opacity.value=A.opacity,A.map&&(M.map.value=A.map,t(A.map,M.mapTransform))}function c(M,A){M.dashSize.value=A.dashSize,M.totalSize.value=A.dashSize+A.gapSize,M.scale.value=A.scale}function u(M,A,z,B){M.diffuse.value.copy(A.color),M.opacity.value=A.opacity,M.size.value=A.size*z,M.scale.value=B*.5,A.map&&(M.map.value=A.map,t(A.map,M.uvTransform)),A.alphaMap&&(M.alphaMap.value=A.alphaMap,t(A.alphaMap,M.alphaMapTransform)),A.alphaTest>0&&(M.alphaTest.value=A.alphaTest)}function h(M,A){M.diffuse.value.copy(A.color),M.opacity.value=A.opacity,M.rotation.value=A.rotation,A.map&&(M.map.value=A.map,t(A.map,M.mapTransform)),A.alphaMap&&(M.alphaMap.value=A.alphaMap,t(A.alphaMap,M.alphaMapTransform)),A.alphaTest>0&&(M.alphaTest.value=A.alphaTest)}function m(M,A){M.specular.value.copy(A.specular),M.shininess.value=Math.max(A.shininess,1e-4)}function g(M,A){A.gradientMap&&(M.gradientMap.value=A.gradientMap)}function v(M,A){M.metalness.value=A.metalness,A.metalnessMap&&(M.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,M.metalnessMapTransform)),M.roughness.value=A.roughness,A.roughnessMap&&(M.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,M.roughnessMapTransform)),A.envMap&&(M.envMapIntensity.value=A.envMapIntensity)}function b(M,A,z){M.ior.value=A.ior,A.sheen>0&&(M.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),M.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(M.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,M.sheenColorMapTransform)),A.sheenRoughnessMap&&(M.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,M.sheenRoughnessMapTransform))),A.clearcoat>0&&(M.clearcoat.value=A.clearcoat,M.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(M.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,M.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(M.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===Ga&&M.clearcoatNormalScale.value.negate())),A.dispersion>0&&(M.dispersion.value=A.dispersion),A.iridescence>0&&(M.iridescence.value=A.iridescence,M.iridescenceIOR.value=A.iridescenceIOR,M.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(M.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,M.iridescenceMapTransform)),A.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),A.transmission>0&&(M.transmission.value=A.transmission,M.transmissionSamplerMap.value=z.texture,M.transmissionSamplerSize.value.set(z.width,z.height),A.transmissionMap&&(M.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,M.transmissionMapTransform)),M.thickness.value=A.thickness,A.thicknessMap&&(M.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=A.attenuationDistance,M.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(M.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(M.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=A.specularIntensity,M.specularColor.value.copy(A.specularColor),A.specularColorMap&&(M.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,M.specularColorMapTransform)),A.specularIntensityMap&&(M.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,M.specularIntensityMapTransform))}function S(M,A){A.matcap&&(M.matcap.value=A.matcap)}function E(M,A){const z=e.get(A).light;M.referencePosition.value.setFromMatrixPosition(z.matrixWorld),M.nearDistance.value=z.shadow.camera.near,M.farDistance.value=z.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function F$(n,e,t,i){let r={},a={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(z,B){const L=B.program;i.uniformBlockBinding(z,L)}function h(z,B){let L=r[z.id];L===void 0&&(S(z),L=m(z),r[z.id]=L,z.addEventListener("dispose",M));const O=B.program;i.updateUBOMapping(z,O);const U=e.render.frame;a[z.id]!==U&&(v(z),a[z.id]=U)}function m(z){const B=g();z.__bindingPointIndex=B;const L=n.createBuffer(),O=z.__size,U=z.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,O,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,L),L}function g(){for(let z=0;z<c;z++)if(o.indexOf(z)===-1)return o.push(z),z;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(z){const B=r[z.id],L=z.uniforms,O=z.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let U=0,k=L.length;U<k;U++){const F=Array.isArray(L[U])?L[U]:[L[U]];for(let P=0,w=F.length;P<w;P++){const G=F[P];if(b(G,U,P,O)===!0){const ee=G.__offset,q=Array.isArray(G.value)?G.value:[G.value];let $=0;for(let ae=0;ae<q.length;ae++){const J=q[ae],re=E(J);typeof J=="number"||typeof J=="boolean"?(G.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,ee+$,G.__data)):J.isMatrix3?(G.__data[0]=J.elements[0],G.__data[1]=J.elements[1],G.__data[2]=J.elements[2],G.__data[3]=0,G.__data[4]=J.elements[3],G.__data[5]=J.elements[4],G.__data[6]=J.elements[5],G.__data[7]=0,G.__data[8]=J.elements[6],G.__data[9]=J.elements[7],G.__data[10]=J.elements[8],G.__data[11]=0):(J.toArray(G.__data,$),$+=re.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ee,G.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(z,B,L,O){const U=z.value,k=B+"_"+L;if(O[k]===void 0)return typeof U=="number"||typeof U=="boolean"?O[k]=U:O[k]=U.clone(),!0;{const F=O[k];if(typeof U=="number"||typeof U=="boolean"){if(F!==U)return O[k]=U,!0}else if(F.equals(U)===!1)return F.copy(U),!0}return!1}function S(z){const B=z.uniforms;let L=0;const O=16;for(let k=0,F=B.length;k<F;k++){const P=Array.isArray(B[k])?B[k]:[B[k]];for(let w=0,G=P.length;w<G;w++){const ee=P[w],q=Array.isArray(ee.value)?ee.value:[ee.value];for(let $=0,ae=q.length;$<ae;$++){const J=q[$],re=E(J),Q=L%O,de=Q%re.boundary,Y=Q+de;L+=de,Y!==0&&O-Y<re.storage&&(L+=O-Y),ee.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),ee.__offset=L,L+=re.storage}}}const U=L%O;return U>0&&(L+=O-U),z.__size=L,z.__cache={},this}function E(z){const B={boundary:0,storage:0};return typeof z=="number"||typeof z=="boolean"?(B.boundary=4,B.storage=4):z.isVector2?(B.boundary=8,B.storage=8):z.isVector3||z.isColor?(B.boundary=16,B.storage=12):z.isVector4?(B.boundary=16,B.storage=16):z.isMatrix3?(B.boundary=48,B.storage=48):z.isMatrix4?(B.boundary=64,B.storage=64):z.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",z),B}function M(z){const B=z.target;B.removeEventListener("dispose",M);const L=o.indexOf(B.__bindingPointIndex);o.splice(L,1),n.deleteBuffer(r[B.id]),delete r[B.id],delete a[B.id]}function A(){for(const z in r)n.deleteBuffer(r[z]);o=[],r={},a={}}return{bind:u,update:h,dispose:A}}class wU{constructor(e={}){const{canvas:t=MN(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const S=new Uint32Array(4),E=new Int32Array(4);let M=null,A=null;const z=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=rc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const L=this;let O=!1;this._outputColorSpace=ya;let U=0,k=0,F=null,P=-1,w=null;const G=new Un,ee=new Un;let q=null;const $=new bt(0);let ae=0,J=t.width,re=t.height,Q=1,de=null,Y=null;const te=new Un(0,0,J,re),Ce=new Un(0,0,J,re);let He=!1;const se=new $0;let we=!1,Ae=!1;const Xe=new Pt,Ge=new Pt,vt=new Z,Ze=new Un,at={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Et=!1;function ht(){return F===null?Q:1}let ne=i;function Yt(V,he){return t.getContext(V,he)}try{const V={alpha:!0,depth:r,stencil:a,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${W0}`),t.addEventListener("webglcontextlost",Ue,!1),t.addEventListener("webglcontextrestored",rt,!1),t.addEventListener("webglcontextcreationerror",dt,!1),ne===null){const he="webgl2";if(ne=Yt(he,V),ne===null)throw Yt(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let ke,De,Te,$e,ze,K,j,pe,Ee,ce,fe,Fe,Pe,Je,et,We,it,ct,ft,gt,ue,Ie,yt,le;function st(){ke=new QZ(ne),ke.init(),Ie=new TU(ne,ke),De=new XZ(ne,ke,e,Ie),Te=new z$(ne,ke),De.reverseDepthBuffer&&v&&Te.buffers.depth.setReversed(!0),$e=new tQ(ne),ze=new x$,K=new L$(ne,ke,Te,ze,De,Ie,$e),j=new YZ(L),pe=new ZZ(L),Ee=new oq(ne),yt=new GZ(ne,Ee),ce=new $Z(ne,Ee,$e,yt),fe=new iQ(ne,ce,Ee,$e),ft=new nQ(ne,De,K),We=new WZ(ze),Fe=new v$(L,j,pe,ke,De,yt,We),Pe=new k$(L,ze),Je=new S$,et=new T$(ke),ct=new jZ(L,j,pe,Te,fe,b,u),it=new B$(L,fe,De),le=new F$(ne,$e,De,Te),gt=new VZ(ne,ke,$e),ue=new eQ(ne,ke,$e),$e.programs=Fe.programs,L.capabilities=De,L.extensions=ke,L.properties=ze,L.renderLists=Je,L.shadowMap=it,L.state=Te,L.info=$e}st();const Oe=new P$(L,ne);this.xr=Oe,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const V=ke.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=ke.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(V){V!==void 0&&(Q=V,this.setSize(J,re,!1))},this.getSize=function(V){return V.set(J,re)},this.setSize=function(V,he,Re=!0){if(Oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=V,re=he,t.width=Math.floor(V*Q),t.height=Math.floor(he*Q),Re===!0&&(t.style.width=V+"px",t.style.height=he+"px"),this.setViewport(0,0,V,he)},this.getDrawingBufferSize=function(V){return V.set(J*Q,re*Q).floor()},this.setDrawingBufferSize=function(V,he,Re){J=V,re=he,Q=Re,t.width=Math.floor(V*Re),t.height=Math.floor(he*Re),this.setViewport(0,0,V,he)},this.getCurrentViewport=function(V){return V.copy(G)},this.getViewport=function(V){return V.copy(te)},this.setViewport=function(V,he,Re,_e){V.isVector4?te.set(V.x,V.y,V.z,V.w):te.set(V,he,Re,_e),Te.viewport(G.copy(te).multiplyScalar(Q).round())},this.getScissor=function(V){return V.copy(Ce)},this.setScissor=function(V,he,Re,_e){V.isVector4?Ce.set(V.x,V.y,V.z,V.w):Ce.set(V,he,Re,_e),Te.scissor(ee.copy(Ce).multiplyScalar(Q).round())},this.getScissorTest=function(){return He},this.setScissorTest=function(V){Te.setScissorTest(He=V)},this.setOpaqueSort=function(V){de=V},this.setTransparentSort=function(V){Y=V},this.getClearColor=function(V){return V.copy(ct.getClearColor())},this.setClearColor=function(){ct.setClearColor(...arguments)},this.getClearAlpha=function(){return ct.getClearAlpha()},this.setClearAlpha=function(){ct.setClearAlpha(...arguments)},this.clear=function(V=!0,he=!0,Re=!0){let _e=0;if(V){let ve=!1;if(F!==null){const tt=F.texture.format;ve=tt===HA||tt===FA||tt===K0}if(ve){const tt=F.texture.type,pt=tt===ol||tt===fu||tt===Bm||tt===Dm||tt===PA||tt===IA,St=ct.getClearColor(),xt=ct.getClearAlpha(),Ht=St.r,It=St.g,Lt=St.b;pt?(S[0]=Ht,S[1]=It,S[2]=Lt,S[3]=xt,ne.clearBufferuiv(ne.COLOR,0,S)):(E[0]=Ht,E[1]=It,E[2]=Lt,E[3]=xt,ne.clearBufferiv(ne.COLOR,0,E))}else _e|=ne.COLOR_BUFFER_BIT}he&&(_e|=ne.DEPTH_BUFFER_BIT),Re&&(_e|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(_e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ue,!1),t.removeEventListener("webglcontextrestored",rt,!1),t.removeEventListener("webglcontextcreationerror",dt,!1),ct.dispose(),Je.dispose(),et.dispose(),ze.dispose(),j.dispose(),pe.dispose(),fe.dispose(),yt.dispose(),le.dispose(),Fe.dispose(),Oe.dispose(),Oe.removeEventListener("sessionstart",Of),Oe.removeEventListener("sessionend",cc),Xa.stop()};function Ue(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function rt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const V=$e.autoReset,he=it.enabled,Re=it.autoUpdate,_e=it.needsUpdate,ve=it.type;st(),$e.autoReset=V,it.enabled=he,it.autoUpdate=Re,it.needsUpdate=_e,it.type=ve}function dt(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function wt(V){const he=V.target;he.removeEventListener("dispose",wt),Xt(he)}function Xt(V){Fn(V),ze.remove(V)}function Fn(V){const he=ze.get(V).programs;he!==void 0&&(he.forEach(function(Re){Fe.releaseProgram(Re)}),V.isShaderMaterial&&Fe.releaseShaderCache(V))}this.renderBufferDirect=function(V,he,Re,_e,ve,tt){he===null&&(he=at);const pt=ve.isMesh&&ve.matrixWorld.determinant()<0,St=wh(V,he,Re,_e,ve);Te.setMaterial(_e,pt);let xt=Re.index,Ht=1;if(_e.wireframe===!0){if(xt=ce.getWireframeAttribute(Re),xt===void 0)return;Ht=2}const It=Re.drawRange,Lt=Re.attributes.position;let mn=It.start*Ht,gn=(It.start+It.count)*Ht;tt!==null&&(mn=Math.max(mn,tt.start*Ht),gn=Math.min(gn,(tt.start+tt.count)*Ht)),xt!==null?(mn=Math.max(mn,0),gn=Math.min(gn,xt.count)):Lt!=null&&(mn=Math.max(mn,0),gn=Math.min(gn,Lt.count));const ei=gn-mn;if(ei<0||ei===1/0)return;yt.setup(ve,_e,St,Re,xt);let Mn,Wt=gt;if(xt!==null&&(Mn=Ee.get(xt),Wt=ue,Wt.setIndex(Mn)),ve.isMesh)_e.wireframe===!0?(Te.setLineWidth(_e.wireframeLinewidth*ht()),Wt.setMode(ne.LINES)):Wt.setMode(ne.TRIANGLES);else if(ve.isLine){let Ot=_e.linewidth;Ot===void 0&&(Ot=1),Te.setLineWidth(Ot*ht()),ve.isLineSegments?Wt.setMode(ne.LINES):ve.isLineLoop?Wt.setMode(ne.LINE_LOOP):Wt.setMode(ne.LINE_STRIP)}else ve.isPoints?Wt.setMode(ne.POINTS):ve.isSprite&&Wt.setMode(ne.TRIANGLES);if(ve.isBatchedMesh)if(ve._multiDrawInstances!==null)nS("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Wt.renderMultiDrawInstances(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount,ve._multiDrawInstances);else if(ke.get("WEBGL_multi_draw"))Wt.renderMultiDraw(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount);else{const Ot=ve._multiDrawStarts,ji=ve._multiDrawCounts,yn=ve._multiDrawCount,Fr=xt?Ee.get(xt).bytesPerElement:1,Ea=ze.get(_e).currentProgram.getUniforms();for(let Cr=0;Cr<yn;Cr++)Ea.setValue(ne,"_gl_DrawID",Cr),Wt.render(Ot[Cr]/Fr,ji[Cr])}else if(ve.isInstancedMesh)Wt.renderInstances(mn,ei,ve.count);else if(Re.isInstancedBufferGeometry){const Ot=Re._maxInstanceCount!==void 0?Re._maxInstanceCount:1/0,ji=Math.min(Re.instanceCount,Ot);Wt.renderInstances(mn,ei,ji)}else Wt.render(mn,ei)};function $t(V,he,Re){V.transparent===!0&&V.side===lo&&V.forceSinglePass===!1?(V.side=Ga,V.needsUpdate=!0,rn(V,he,Re),V.side=oc,V.needsUpdate=!0,rn(V,he,Re),V.side=lo):rn(V,he,Re)}this.compile=function(V,he,Re=null){Re===null&&(Re=V),A=et.get(Re),A.init(he),B.push(A),Re.traverseVisible(function(ve){ve.isLight&&ve.layers.test(he.layers)&&(A.pushLight(ve),ve.castShadow&&A.pushShadow(ve))}),V!==Re&&V.traverseVisible(function(ve){ve.isLight&&ve.layers.test(he.layers)&&(A.pushLight(ve),ve.castShadow&&A.pushShadow(ve))}),A.setupLights();const _e=new Set;return V.traverse(function(ve){if(!(ve.isMesh||ve.isPoints||ve.isLine||ve.isSprite))return;const tt=ve.material;if(tt)if(Array.isArray(tt))for(let pt=0;pt<tt.length;pt++){const St=tt[pt];$t(St,Re,ve),_e.add(St)}else $t(tt,Re,ve),_e.add(tt)}),A=B.pop(),_e},this.compileAsync=function(V,he,Re=null){const _e=this.compile(V,he,Re);return new Promise(ve=>{function tt(){if(_e.forEach(function(pt){ze.get(pt).currentProgram.isReady()&&_e.delete(pt)}),_e.size===0){ve(V);return}setTimeout(tt,10)}ke.get("KHR_parallel_shader_compile")!==null?tt():setTimeout(tt,10)})};let bi=null;function Ri(V){bi&&bi(V)}function Of(){Xa.stop()}function cc(){Xa.start()}const Xa=new AU;Xa.setAnimationLoop(Ri),typeof self<"u"&&Xa.setContext(self),this.setAnimationLoop=function(V){bi=V,Oe.setAnimationLoop(V),V===null?Xa.stop():Xa.start()},Oe.addEventListener("sessionstart",Of),Oe.addEventListener("sessionend",cc),this.render=function(V,he){if(he!==void 0&&he.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),he.parent===null&&he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),Oe.enabled===!0&&Oe.isPresenting===!0&&(Oe.cameraAutoUpdate===!0&&Oe.updateCamera(he),he=Oe.getCamera()),V.isScene===!0&&V.onBeforeRender(L,V,he,F),A=et.get(V,B.length),A.init(he),B.push(A),Ge.multiplyMatrices(he.projectionMatrix,he.matrixWorldInverse),se.setFromProjectionMatrix(Ge),Ae=this.localClippingEnabled,we=We.init(this.clippingPlanes,Ae),M=Je.get(V,z.length),M.init(),z.push(M),Oe.enabled===!0&&Oe.isPresenting===!0){const tt=L.xr.getDepthSensingMesh();tt!==null&&Ma(tt,he,-1/0,L.sortObjects)}Ma(V,he,0,L.sortObjects),M.finish(),L.sortObjects===!0&&M.sort(de,Y),Et=Oe.enabled===!1||Oe.isPresenting===!1||Oe.hasDepthSensing()===!1,Et&&ct.addToRenderList(M,V),this.info.render.frame++,we===!0&&We.beginShadows();const Re=A.state.shadowsArray;it.render(Re,V,he),we===!0&&We.endShadows(),this.info.autoReset===!0&&this.info.reset();const _e=M.opaque,ve=M.transmissive;if(A.setupLights(),he.isArrayCamera){const tt=he.cameras;if(ve.length>0)for(let pt=0,St=tt.length;pt<St;pt++){const xt=tt[pt];ps(_e,ve,V,xt)}Et&&ct.render(V);for(let pt=0,St=tt.length;pt<St;pt++){const xt=tt[pt];hu(M,V,xt,xt.viewport)}}else ve.length>0&&ps(_e,ve,V,he),Et&&ct.render(V),hu(M,V,he);F!==null&&k===0&&(K.updateMultisampleRenderTarget(F),K.updateRenderTargetMipmap(F)),V.isScene===!0&&V.onAfterRender(L,V,he),yt.resetDefaultState(),P=-1,w=null,B.pop(),B.length>0?(A=B[B.length-1],we===!0&&We.setGlobalState(L.clippingPlanes,A.state.camera)):A=null,z.pop(),z.length>0?M=z[z.length-1]:M=null};function Ma(V,he,Re,_e){if(V.visible===!1)return;if(V.layers.test(he.layers)){if(V.isGroup)Re=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(he);else if(V.isLight)A.pushLight(V),V.castShadow&&A.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||se.intersectsSprite(V)){_e&&Ze.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Ge);const pt=fe.update(V),St=V.material;St.visible&&M.push(V,pt,St,Re,Ze.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||se.intersectsObject(V))){const pt=fe.update(V),St=V.material;if(_e&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),Ze.copy(V.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),Ze.copy(pt.boundingSphere.center)),Ze.applyMatrix4(V.matrixWorld).applyMatrix4(Ge)),Array.isArray(St)){const xt=pt.groups;for(let Ht=0,It=xt.length;Ht<It;Ht++){const Lt=xt[Ht],mn=St[Lt.materialIndex];mn&&mn.visible&&M.push(V,pt,mn,Re,Ze.z,Lt)}}else St.visible&&M.push(V,pt,St,Re,Ze.z,null)}}const tt=V.children;for(let pt=0,St=tt.length;pt<St;pt++)Ma(tt[pt],he,Re,_e)}function hu(V,he,Re,_e){const ve=V.opaque,tt=V.transmissive,pt=V.transparent;A.setupLightsView(Re),we===!0&&We.setGlobalState(L.clippingPlanes,Re),_e&&Te.viewport(G.copy(_e)),ve.length>0&&Bi(ve,he,Re),tt.length>0&&Bi(tt,he,Re),pt.length>0&&Bi(pt,he,Re),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function ps(V,he,Re,_e){if((Re.isScene===!0?Re.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[_e.id]===void 0&&(A.state.transmissionRenderTarget[_e.id]=new ll(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")||ke.has("EXT_color_buffer_float")?Ah:ol,minFilter:ho,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Dn.workingColorSpace}));const tt=A.state.transmissionRenderTarget[_e.id],pt=_e.viewport||G;tt.setSize(pt.z*L.transmissionResolutionScale,pt.w*L.transmissionResolutionScale);const St=L.getRenderTarget();L.setRenderTarget(tt),L.getClearColor($),ae=L.getClearAlpha(),ae<1&&L.setClearColor(16777215,.5),L.clear(),Et&&ct.render(Re);const xt=L.toneMapping;L.toneMapping=rc;const Ht=_e.viewport;if(_e.viewport!==void 0&&(_e.viewport=void 0),A.setupLightsView(_e),we===!0&&We.setGlobalState(L.clippingPlanes,_e),Bi(V,Re,_e),K.updateMultisampleRenderTarget(tt),K.updateRenderTargetMipmap(tt),ke.has("WEBGL_multisampled_render_to_texture")===!1){let It=!1;for(let Lt=0,mn=he.length;Lt<mn;Lt++){const gn=he[Lt],ei=gn.object,Mn=gn.geometry,Wt=gn.material,Ot=gn.group;if(Wt.side===lo&&ei.layers.test(_e.layers)){const ji=Wt.side;Wt.side=Ga,Wt.needsUpdate=!0,Si(ei,Re,_e,Mn,Wt,Ot),Wt.side=ji,Wt.needsUpdate=!0,It=!0}}It===!0&&(K.updateMultisampleRenderTarget(tt),K.updateRenderTargetMipmap(tt))}L.setRenderTarget(St),L.setClearColor($,ae),Ht!==void 0&&(_e.viewport=Ht),L.toneMapping=xt}function Bi(V,he,Re){const _e=he.isScene===!0?he.overrideMaterial:null;for(let ve=0,tt=V.length;ve<tt;ve++){const pt=V[ve],St=pt.object,xt=pt.geometry,Ht=pt.group;let It=pt.material;It.allowOverride===!0&&_e!==null&&(It=_e),St.layers.test(Re.layers)&&Si(St,he,Re,xt,It,Ht)}}function Si(V,he,Re,_e,ve,tt){V.onBeforeRender(L,he,Re,_e,ve,tt),V.modelViewMatrix.multiplyMatrices(Re.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),ve.onBeforeRender(L,he,Re,_e,V,tt),ve.transparent===!0&&ve.side===lo&&ve.forceSinglePass===!1?(ve.side=Ga,ve.needsUpdate=!0,L.renderBufferDirect(Re,he,_e,ve,V,tt),ve.side=oc,ve.needsUpdate=!0,L.renderBufferDirect(Re,he,_e,ve,V,tt),ve.side=lo):L.renderBufferDirect(Re,he,_e,ve,V,tt),V.onAfterRender(L,he,Re,_e,ve,tt)}function rn(V,he,Re){he.isScene!==!0&&(he=at);const _e=ze.get(V),ve=A.state.lights,tt=A.state.shadowsArray,pt=ve.state.version,St=Fe.getParameters(V,ve.state,tt,he,Re),xt=Fe.getProgramCacheKey(St);let Ht=_e.programs;_e.environment=V.isMeshStandardMaterial?he.environment:null,_e.fog=he.fog,_e.envMap=(V.isMeshStandardMaterial?pe:j).get(V.envMap||_e.environment),_e.envMapRotation=_e.environment!==null&&V.envMap===null?he.environmentRotation:V.envMapRotation,Ht===void 0&&(V.addEventListener("dispose",wt),Ht=new Map,_e.programs=Ht);let It=Ht.get(xt);if(It!==void 0){if(_e.currentProgram===It&&_e.lightsStateVersion===pt)return hl(V,St),It}else St.uniforms=Fe.getUniforms(V),V.onBeforeCompile(St,L),It=Fe.acquireProgram(St,xt),Ht.set(xt,It),_e.uniforms=St.uniforms;const Lt=_e.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Lt.clippingPlanes=We.uniform),hl(V,St),_e.needsLights=Bh(V),_e.lightsStateVersion=pt,_e.needsLights&&(Lt.ambientLightColor.value=ve.state.ambient,Lt.lightProbe.value=ve.state.probe,Lt.directionalLights.value=ve.state.directional,Lt.directionalLightShadows.value=ve.state.directionalShadow,Lt.spotLights.value=ve.state.spot,Lt.spotLightShadows.value=ve.state.spotShadow,Lt.rectAreaLights.value=ve.state.rectArea,Lt.ltc_1.value=ve.state.rectAreaLTC1,Lt.ltc_2.value=ve.state.rectAreaLTC2,Lt.pointLights.value=ve.state.point,Lt.pointLightShadows.value=ve.state.pointShadow,Lt.hemisphereLights.value=ve.state.hemi,Lt.directionalShadowMap.value=ve.state.directionalShadowMap,Lt.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,Lt.spotShadowMap.value=ve.state.spotShadowMap,Lt.spotLightMatrix.value=ve.state.spotLightMatrix,Lt.spotLightMap.value=ve.state.spotLightMap,Lt.pointShadowMap.value=ve.state.pointShadowMap,Lt.pointShadowMatrix.value=ve.state.pointShadowMatrix),_e.currentProgram=It,_e.uniformsList=null,It}function ms(V){if(V.uniformsList===null){const he=V.currentProgram.getUniforms();V.uniformsList=rS.seqWithValue(he.seq,V.uniforms)}return V.uniformsList}function hl(V,he){const Re=ze.get(V);Re.outputColorSpace=he.outputColorSpace,Re.batching=he.batching,Re.batchingColor=he.batchingColor,Re.instancing=he.instancing,Re.instancingColor=he.instancingColor,Re.instancingMorph=he.instancingMorph,Re.skinning=he.skinning,Re.morphTargets=he.morphTargets,Re.morphNormals=he.morphNormals,Re.morphColors=he.morphColors,Re.morphTargetsCount=he.morphTargetsCount,Re.numClippingPlanes=he.numClippingPlanes,Re.numIntersection=he.numClipIntersection,Re.vertexAlphas=he.vertexAlphas,Re.vertexTangents=he.vertexTangents,Re.toneMapping=he.toneMapping}function wh(V,he,Re,_e,ve){he.isScene!==!0&&(he=at),K.resetTextureUnits();const tt=he.fog,pt=_e.isMeshStandardMaterial?he.environment:null,St=F===null?L.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Ef,xt=(_e.isMeshStandardMaterial?pe:j).get(_e.envMap||pt),Ht=_e.vertexColors===!0&&!!Re.attributes.color&&Re.attributes.color.itemSize===4,It=!!Re.attributes.tangent&&(!!_e.normalMap||_e.anisotropy>0),Lt=!!Re.morphAttributes.position,mn=!!Re.morphAttributes.normal,gn=!!Re.morphAttributes.color;let ei=rc;_e.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(ei=L.toneMapping);const Mn=Re.morphAttributes.position||Re.morphAttributes.normal||Re.morphAttributes.color,Wt=Mn!==void 0?Mn.length:0,Ot=ze.get(_e),ji=A.state.lights;if(we===!0&&(Ae===!0||V!==w)){const Ai=V===w&&_e.id===P;We.setState(_e,V,Ai)}let yn=!1;_e.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==ji.state.version||Ot.outputColorSpace!==St||ve.isBatchedMesh&&Ot.batching===!1||!ve.isBatchedMesh&&Ot.batching===!0||ve.isBatchedMesh&&Ot.batchingColor===!0&&ve.colorTexture===null||ve.isBatchedMesh&&Ot.batchingColor===!1&&ve.colorTexture!==null||ve.isInstancedMesh&&Ot.instancing===!1||!ve.isInstancedMesh&&Ot.instancing===!0||ve.isSkinnedMesh&&Ot.skinning===!1||!ve.isSkinnedMesh&&Ot.skinning===!0||ve.isInstancedMesh&&Ot.instancingColor===!0&&ve.instanceColor===null||ve.isInstancedMesh&&Ot.instancingColor===!1&&ve.instanceColor!==null||ve.isInstancedMesh&&Ot.instancingMorph===!0&&ve.morphTexture===null||ve.isInstancedMesh&&Ot.instancingMorph===!1&&ve.morphTexture!==null||Ot.envMap!==xt||_e.fog===!0&&Ot.fog!==tt||Ot.numClippingPlanes!==void 0&&(Ot.numClippingPlanes!==We.numPlanes||Ot.numIntersection!==We.numIntersection)||Ot.vertexAlphas!==Ht||Ot.vertexTangents!==It||Ot.morphTargets!==Lt||Ot.morphNormals!==mn||Ot.morphColors!==gn||Ot.toneMapping!==ei||Ot.morphTargetsCount!==Wt)&&(yn=!0):(yn=!0,Ot.__version=_e.version);let Fr=Ot.currentProgram;yn===!0&&(Fr=rn(_e,he,ve));let Ea=!1,Cr=!1,ir=!1;const Hn=Fr.getUniforms(),Tr=Ot.uniforms;if(Te.useProgram(Fr.program)&&(Ea=!0,Cr=!0,ir=!0),_e.id!==P&&(P=_e.id,Cr=!0),Ea||w!==V){Te.buffers.depth.getReversed()?(Xe.copy(V.projectionMatrix),zW(Xe),LW(Xe),Hn.setValue(ne,"projectionMatrix",Xe)):Hn.setValue(ne,"projectionMatrix",V.projectionMatrix),Hn.setValue(ne,"viewMatrix",V.matrixWorldInverse);const fr=Hn.map.cameraPosition;fr!==void 0&&fr.setValue(ne,vt.setFromMatrixPosition(V.matrixWorld)),De.logarithmicDepthBuffer&&Hn.setValue(ne,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial)&&Hn.setValue(ne,"isOrthographic",V.isOrthographicCamera===!0),w!==V&&(w=V,Cr=!0,ir=!0)}if(ve.isSkinnedMesh){Hn.setOptional(ne,ve,"bindMatrix"),Hn.setOptional(ne,ve,"bindMatrixInverse");const Ai=ve.skeleton;Ai&&(Ai.boneTexture===null&&Ai.computeBoneTexture(),Hn.setValue(ne,"boneTexture",Ai.boneTexture,K))}ve.isBatchedMesh&&(Hn.setOptional(ne,ve,"batchingTexture"),Hn.setValue(ne,"batchingTexture",ve._matricesTexture,K),Hn.setOptional(ne,ve,"batchingIdTexture"),Hn.setValue(ne,"batchingIdTexture",ve._indirectTexture,K),Hn.setOptional(ne,ve,"batchingColorTexture"),ve._colorsTexture!==null&&Hn.setValue(ne,"batchingColorTexture",ve._colorsTexture,K));const vr=Re.morphAttributes;if((vr.position!==void 0||vr.normal!==void 0||vr.color!==void 0)&&ft.update(ve,Re,Fr),(Cr||Ot.receiveShadow!==ve.receiveShadow)&&(Ot.receiveShadow=ve.receiveShadow,Hn.setValue(ne,"receiveShadow",ve.receiveShadow)),_e.isMeshGouraudMaterial&&_e.envMap!==null&&(Tr.envMap.value=xt,Tr.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),_e.isMeshStandardMaterial&&_e.envMap===null&&he.environment!==null&&(Tr.envMapIntensity.value=he.environmentIntensity),Cr&&(Hn.setValue(ne,"toneMappingExposure",L.toneMappingExposure),Ot.needsLights&&Rh(Tr,ir),tt&&_e.fog===!0&&Pe.refreshFogUniforms(Tr,tt),Pe.refreshMaterialUniforms(Tr,_e,Q,re,A.state.transmissionRenderTarget[V.id]),rS.upload(ne,ms(Ot),Tr,K)),_e.isShaderMaterial&&_e.uniformsNeedUpdate===!0&&(rS.upload(ne,ms(Ot),Tr,K),_e.uniformsNeedUpdate=!1),_e.isSpriteMaterial&&Hn.setValue(ne,"center",ve.center),Hn.setValue(ne,"modelViewMatrix",ve.modelViewMatrix),Hn.setValue(ne,"normalMatrix",ve.normalMatrix),Hn.setValue(ne,"modelMatrix",ve.matrixWorld),_e.isShaderMaterial||_e.isRawShaderMaterial){const Ai=_e.uniformsGroups;for(let fr=0,ys=Ai.length;fr<ys;fr++){const Hr=Ai[fr];le.update(Hr,Fr),le.bind(Hr,Fr)}}return Fr}function Rh(V,he){V.ambientLightColor.needsUpdate=he,V.lightProbe.needsUpdate=he,V.directionalLights.needsUpdate=he,V.directionalLightShadows.needsUpdate=he,V.pointLights.needsUpdate=he,V.pointLightShadows.needsUpdate=he,V.spotLights.needsUpdate=he,V.spotLightShadows.needsUpdate=he,V.rectAreaLights.needsUpdate=he,V.hemisphereLights.needsUpdate=he}function Bh(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(V,he,Re){const _e=ze.get(V);_e.__autoAllocateDepthBuffer=V.resolveDepthBuffer===!1,_e.__autoAllocateDepthBuffer===!1&&(_e.__useRenderToTexture=!1),ze.get(V.texture).__webglTexture=he,ze.get(V.depthTexture).__webglTexture=_e.__autoAllocateDepthBuffer?void 0:Re,_e.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(V,he){const Re=ze.get(V);Re.__webglFramebuffer=he,Re.__useDefaultFramebuffer=he===void 0};const yo=ne.createFramebuffer();this.setRenderTarget=function(V,he=0,Re=0){F=V,U=he,k=Re;let _e=!0,ve=null,tt=!1,pt=!1;if(V){const xt=ze.get(V);if(xt.__useDefaultFramebuffer!==void 0)Te.bindFramebuffer(ne.FRAMEBUFFER,null),_e=!1;else if(xt.__webglFramebuffer===void 0)K.setupRenderTarget(V);else if(xt.__hasExternalTextures)K.rebindTextures(V,ze.get(V.texture).__webglTexture,ze.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const Lt=V.depthTexture;if(xt.__boundDepthTexture!==Lt){if(Lt!==null&&ze.has(Lt)&&(V.width!==Lt.image.width||V.height!==Lt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");K.setupDepthRenderbuffer(V)}}const Ht=V.texture;(Ht.isData3DTexture||Ht.isDataArrayTexture||Ht.isCompressedArrayTexture)&&(pt=!0);const It=ze.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(It[he])?ve=It[he][Re]:ve=It[he],tt=!0):V.samples>0&&K.useMultisampledRTT(V)===!1?ve=ze.get(V).__webglMultisampledFramebuffer:Array.isArray(It)?ve=It[Re]:ve=It,G.copy(V.viewport),ee.copy(V.scissor),q=V.scissorTest}else G.copy(te).multiplyScalar(Q).floor(),ee.copy(Ce).multiplyScalar(Q).floor(),q=He;if(Re!==0&&(ve=yo),Te.bindFramebuffer(ne.FRAMEBUFFER,ve)&&_e&&Te.drawBuffers(V,ve),Te.viewport(G),Te.scissor(ee),Te.setScissorTest(q),tt){const xt=ze.get(V.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+he,xt.__webglTexture,Re)}else if(pt){const xt=ze.get(V.texture),Ht=he;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,xt.__webglTexture,Re,Ht)}else if(V!==null&&Re!==0){const xt=ze.get(V.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,xt.__webglTexture,Re)}P=-1},this.readRenderTargetPixels=function(V,he,Re,_e,ve,tt,pt){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let St=ze.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&pt!==void 0&&(St=St[pt]),St){Te.bindFramebuffer(ne.FRAMEBUFFER,St);try{const xt=V.texture,Ht=xt.format,It=xt.type;if(!De.textureFormatReadable(Ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!De.textureTypeReadable(It)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}he>=0&&he<=V.width-_e&&Re>=0&&Re<=V.height-ve&&ne.readPixels(he,Re,_e,ve,Ie.convert(Ht),Ie.convert(It),tt)}finally{const xt=F!==null?ze.get(F).__webglFramebuffer:null;Te.bindFramebuffer(ne.FRAMEBUFFER,xt)}}},this.readRenderTargetPixelsAsync=async function(V,he,Re,_e,ve,tt,pt){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let St=ze.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&pt!==void 0&&(St=St[pt]),St)if(he>=0&&he<=V.width-_e&&Re>=0&&Re<=V.height-ve){Te.bindFramebuffer(ne.FRAMEBUFFER,St);const xt=V.texture,Ht=xt.format,It=xt.type;if(!De.textureFormatReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!De.textureTypeReadable(It))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Lt=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Lt),ne.bufferData(ne.PIXEL_PACK_BUFFER,tt.byteLength,ne.STREAM_READ),ne.readPixels(he,Re,_e,ve,Ie.convert(Ht),Ie.convert(It),0);const mn=F!==null?ze.get(F).__webglFramebuffer:null;Te.bindFramebuffer(ne.FRAMEBUFFER,mn);const gn=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await DW(ne,gn,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Lt),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,tt),ne.deleteBuffer(Lt),ne.deleteSync(gn),tt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(V,he=null,Re=0){const _e=Math.pow(2,-Re),ve=Math.floor(V.image.width*_e),tt=Math.floor(V.image.height*_e),pt=he!==null?he.x:0,St=he!==null?he.y:0;K.setTexture2D(V,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,Re,0,0,pt,St,ve,tt),Te.unbindTexture()};const uc=ne.createFramebuffer(),gs=ne.createFramebuffer();this.copyTextureToTexture=function(V,he,Re=null,_e=null,ve=0,tt=null){tt===null&&(ve!==0?(nS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),tt=ve,ve=0):tt=0);let pt,St,xt,Ht,It,Lt,mn,gn,ei;const Mn=V.isCompressedTexture?V.mipmaps[tt]:V.image;if(Re!==null)pt=Re.max.x-Re.min.x,St=Re.max.y-Re.min.y,xt=Re.isBox3?Re.max.z-Re.min.z:1,Ht=Re.min.x,It=Re.min.y,Lt=Re.isBox3?Re.min.z:0;else{const vr=Math.pow(2,-ve);pt=Math.floor(Mn.width*vr),St=Math.floor(Mn.height*vr),V.isDataArrayTexture?xt=Mn.depth:V.isData3DTexture?xt=Math.floor(Mn.depth*vr):xt=1,Ht=0,It=0,Lt=0}_e!==null?(mn=_e.x,gn=_e.y,ei=_e.z):(mn=0,gn=0,ei=0);const Wt=Ie.convert(he.format),Ot=Ie.convert(he.type);let ji;he.isData3DTexture?(K.setTexture3D(he,0),ji=ne.TEXTURE_3D):he.isDataArrayTexture||he.isCompressedArrayTexture?(K.setTexture2DArray(he,0),ji=ne.TEXTURE_2D_ARRAY):(K.setTexture2D(he,0),ji=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,he.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,he.unpackAlignment);const yn=ne.getParameter(ne.UNPACK_ROW_LENGTH),Fr=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),Ea=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Cr=ne.getParameter(ne.UNPACK_SKIP_ROWS),ir=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Mn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Mn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Ht),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,It),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Lt);const Hn=V.isDataArrayTexture||V.isData3DTexture,Tr=he.isDataArrayTexture||he.isData3DTexture;if(V.isDepthTexture){const vr=ze.get(V),Ai=ze.get(he),fr=ze.get(vr.__renderTarget),ys=ze.get(Ai.__renderTarget);Te.bindFramebuffer(ne.READ_FRAMEBUFFER,fr.__webglFramebuffer),Te.bindFramebuffer(ne.DRAW_FRAMEBUFFER,ys.__webglFramebuffer);for(let Hr=0;Hr<xt;Hr++)Hn&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ze.get(V).__webglTexture,ve,Lt+Hr),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ze.get(he).__webglTexture,tt,ei+Hr)),ne.blitFramebuffer(Ht,It,pt,St,mn,gn,pt,St,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Te.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Te.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(ve!==0||V.isRenderTargetTexture||ze.has(V)){const vr=ze.get(V),Ai=ze.get(he);Te.bindFramebuffer(ne.READ_FRAMEBUFFER,uc),Te.bindFramebuffer(ne.DRAW_FRAMEBUFFER,gs);for(let fr=0;fr<xt;fr++)Hn?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,vr.__webglTexture,ve,Lt+fr):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,vr.__webglTexture,ve),Tr?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ai.__webglTexture,tt,ei+fr):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Ai.__webglTexture,tt),ve!==0?ne.blitFramebuffer(Ht,It,pt,St,mn,gn,pt,St,ne.COLOR_BUFFER_BIT,ne.NEAREST):Tr?ne.copyTexSubImage3D(ji,tt,mn,gn,ei+fr,Ht,It,pt,St):ne.copyTexSubImage2D(ji,tt,mn,gn,Ht,It,pt,St);Te.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Te.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else Tr?V.isDataTexture||V.isData3DTexture?ne.texSubImage3D(ji,tt,mn,gn,ei,pt,St,xt,Wt,Ot,Mn.data):he.isCompressedArrayTexture?ne.compressedTexSubImage3D(ji,tt,mn,gn,ei,pt,St,xt,Wt,Mn.data):ne.texSubImage3D(ji,tt,mn,gn,ei,pt,St,xt,Wt,Ot,Mn):V.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,tt,mn,gn,pt,St,Wt,Ot,Mn.data):V.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,tt,mn,gn,Mn.width,Mn.height,Wt,Mn.data):ne.texSubImage2D(ne.TEXTURE_2D,tt,mn,gn,pt,St,Wt,Ot,Mn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,yn),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Fr),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Ea),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Cr),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,ir),tt===0&&he.generateMipmaps&&ne.generateMipmap(ji),Te.unbindTexture()},this.copyTextureToTexture3D=function(V,he,Re=null,_e=null,ve=0){return nS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,he,Re,_e,ve)},this.initRenderTarget=function(V){ze.get(V).__webglFramebuffer===void 0&&K.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?K.setTextureCube(V,0):V.isData3DTexture?K.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?K.setTexture2DArray(V,0):K.setTexture2D(V,0),Te.unbindTexture()},this.resetState=function(){U=0,k=0,F=null,Te.reset(),yt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return il}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Dn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Dn._getUnpackColorSpace()}}const H$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KC,AddEquation:ff,AddOperation:eN,AdditiveAnimationBlendMode:rT,AdditiveBlending:vE,AgXToneMapping:aN,AlphaFormat:QC,AlwaysCompare:SN,AlwaysDepth:AS,AlwaysStencilFunc:AE,AmbientLight:uU,AnimationAction:bU,AnimationClip:Fm,AnimationLoader:iK,AnimationMixer:BK,AnimationObjectGroup:wK,AnimationUtils:$Y,ArcCurve:PN,ArrayCamera:yU,ArrowHelper:QK,AttachedBindMode:SE,Audio:vU,AudioAnalyser:vK,AudioContext:DT,AudioListener:mK,AudioLoader:dK,AxesHelper:$K,BackSide:Ga,BasicDepthPacking:dN,BasicShadowMap:OO,BatchedMesh:ON,Bone:qA,BooleanKeyframeTrack:Eh,Box2:IK,Box3:Sa,Box3Helper:JK,BoxGeometry:Mh,BoxHelper:qK,BufferAttribute:Pn,BufferGeometry:tn,BufferGeometryLoader:mU,ByteType:qC,Cache:eu,Camera:XA,CameraHelper:KK,CanvasTexture:UN,CapsuleGeometry:e_,CatmullRomCurve3:IN,CineonToneMapping:iN,CircleGeometry:t_,ClampToEdgeWrapping:Ls,Clock:zT,Color:bt,ColorKeyframeTrack:ET,ColorManagement:Dn,CompressedArrayTexture:SY,CompressedCubeTexture:AY,CompressedTexture:ZA,CompressedTextureLoader:rK,ConeGeometry:n_,ConstantAlphaFactor:ZO,ConstantColorFactor:qO,Controls:tq,CubeCamera:RN,CubeReflectionMapping:uu,CubeRefractionMapping:_f,CubeTexture:J0,CubeTextureLoader:aK,CubeUVReflectionMapping:Km,CubicBezierCurve:gT,CubicBezierCurve3:kN,CubicInterpolant:rU,CullFaceBack:yE,CullFaceFront:LO,CullFaceFrontBack:UX,CullFaceNone:zO,Curve:dl,CurvePath:HN,CustomBlending:NO,CustomToneMapping:rN,CylinderGeometry:qm,Cylindrical:PK,Data3DTexture:VA,DataArrayTexture:q0,DataTexture:ac,DataTextureLoader:sK,DataUtils:KW,DecrementStencilOp:YX,DecrementWrapStencilOp:qX,DefaultLoadingManager:oU,DepthFormat:zm,DepthStencilFormat:Lm,DepthTexture:QA,DetachedBindMode:oN,DirectionalLight:BT,DirectionalLightHelper:YK,DiscreteInterpolant:aU,DodecahedronGeometry:i_,DoubleSide:lo,DstAlphaFactor:VO,DstColorFactor:WO,DynamicCopyUsage:uW,DynamicDrawUsage:rW,DynamicReadUsage:oW,EdgesGeometry:jN,EllipseCurve:$A,EqualCompare:yN,EqualDepth:MS,EqualStencilFunc:$X,EquirectangularReflectionMapping:S0,EquirectangularRefractionMapping:A0,Euler:Is,EventDispatcher:lc,ExtrudeGeometry:r_,FileLoader:ks,Float16BufferAttribute:tY,Float32BufferAttribute:Bt,FloatType:Ha,Fog:YA,FogExp2:WA,FramebufferTexture:bY,FrontSide:oc,Frustum:$0,GLBufferAttribute:UK,GLSL1:dW,GLSL3:_E,GreaterCompare:vN,GreaterDepth:CS,GreaterEqualCompare:bN,GreaterEqualDepth:ES,GreaterEqualStencilFunc:iW,GreaterStencilFunc:tW,GridHelper:XK,Group:$c,HalfFloatType:Ah,HemisphereLight:cU,HemisphereLightHelper:VK,IcosahedronGeometry:a_,ImageBitmapLoader:gU,ImageLoader:z0,ImageUtils:EN,IncrementStencilOp:WX,IncrementWrapStencilOp:KX,InstancedBufferAttribute:ph,InstancedBufferGeometry:pU,InstancedInterleavedBuffer:NK,InstancedMesh:dT,Int16BufferAttribute:$W,Int32BufferAttribute:eY,Int8BufferAttribute:JW,IntType:UA,InterleavedBuffer:Z0,InterleavedBufferAttribute:Cf,Interpolant:Qm,InterpolateDiscrete:Om,InterpolateLinear:Nm,InterpolateSmooth:tS,InvertStencilOp:JX,KeepStencilOp:Vd,KeyframeTrack:go,LOD:LN,LatheGeometry:ev,Layers:Pm,LessCompare:gN,LessDepth:_S,LessEqualCompare:sT,LessEqualDepth:hh,LessEqualStencilFunc:eW,LessStencilFunc:QX,Light:Lf,LightProbe:hU,Line:du,Line3:kK,LineBasicMaterial:Aa,LineCurve:yT,LineCurve3:FN,LineDashedMaterial:tU,LineLoop:hT,LineSegments:fl,LinearFilter:Hi,LinearInterpolant:MT,LinearMipMapLinearFilter:FX,LinearMipMapNearestFilter:kX,LinearMipmapLinearFilter:ho,LinearMipmapNearestFilter:ym,LinearSRGBColorSpace:Ef,LinearToneMapping:tN,LinearTransfer:M0,Loader:_a,LoaderUtils:vf,LoadingManager:CT,LoopOnce:lN,LoopPingPong:uN,LoopRepeat:cN,LuminanceAlphaFormat:tT,LuminanceFormat:eT,MOUSE:jd,Material:_r,MaterialLoader:d_,MathUtils:AN,Matrix2:PT,Matrix3:en,Matrix4:Pt,MaxEquation:kO,Mesh:nr,MeshBasicMaterial:Os,MeshDepthMaterial:ST,MeshDistanceMaterial:AT,MeshLambertMaterial:$N,MeshMatcapMaterial:eU,MeshNormalMaterial:QN,MeshPhongMaterial:JN,MeshPhysicalMaterial:mo,MeshStandardMaterial:Zm,MeshToonMaterial:ZN,MinEquation:IO,MirroredRepeatWrapping:Rm,MixOperation:$O,MultiplyBlending:bE,MultiplyOperation:Y0,NearestFilter:kr,NearestMipMapLinearFilter:IX,NearestMipMapNearestFilter:PX,NearestMipmapLinearFilter:Jd,NearestMipmapNearestFilter:NA,NeutralToneMapping:sN,NeverCompare:mN,NeverDepth:SS,NeverStencilFunc:ZX,NoBlending:au,NoColorSpace:Jc,NoToneMapping:rc,NormalAnimationBlendMode:jA,NormalBlending:oh,NotEqualCompare:xN,NotEqualDepth:TS,NotEqualStencilFunc:nW,NumberKeyframeTrack:gh,Object3D:En,ObjectLoader:uK,ObjectSpaceNormalMap:pN,OctahedronGeometry:tv,OneFactor:HO,OneMinusConstantAlphaFactor:QO,OneMinusConstantColorFactor:JO,OneMinusDstAlphaFactor:XO,OneMinusDstColorFactor:YO,OneMinusSrcAlphaFactor:bS,OneMinusSrcColorFactor:GO,OrthographicCamera:sl,PCFShadowMap:LA,PCFSoftShadowMap:Ky,PMREMGenerator:DE,Path:w0,PerspectiveCamera:Ti,Plane:qc,PlaneGeometry:Jm,PlaneHelper:ZK,PointLight:RT,PointLightHelper:jK,Points:pT,PointsMaterial:JA,PolarGridHelper:WK,PolyhedronGeometry:zf,PositionalAudio:yK,PropertyBinding:Nn,PropertyMixer:xU,QuadraticBezierCurve:vT,QuadraticBezierCurve3:xT,Quaternion:yr,QuaternionKeyframeTrack:yh,QuaternionLinearInterpolant:sU,RED_GREEN_RGTC2_Format:QS,RED_RGTC1_Format:iT,REVISION:W0,RGBADepthPacking:hN,RGBAFormat:ba,RGBAIntegerFormat:HA,RGBA_ASTC_10x10_Format:WS,RGBA_ASTC_10x5_Format:GS,RGBA_ASTC_10x6_Format:VS,RGBA_ASTC_10x8_Format:XS,RGBA_ASTC_12x10_Format:YS,RGBA_ASTC_12x12_Format:KS,RGBA_ASTC_4x4_Format:NS,RGBA_ASTC_5x4_Format:US,RGBA_ASTC_5x5_Format:PS,RGBA_ASTC_6x5_Format:IS,RGBA_ASTC_6x6_Format:kS,RGBA_ASTC_8x5_Format:FS,RGBA_ASTC_8x6_Format:HS,RGBA_ASTC_8x8_Format:jS,RGBA_BPTC_Format:$y,RGBA_ETC2_EAC_Format:OS,RGBA_PVRTC_2BPPV1_Format:DS,RGBA_PVRTC_4BPPV1_Format:BS,RGBA_S3TC_DXT1_Format:Jy,RGBA_S3TC_DXT3_Format:Zy,RGBA_S3TC_DXT5_Format:Qy,RGBDepthPacking:jX,RGBFormat:$C,RGBIntegerFormat:HX,RGB_BPTC_SIGNED_Format:qS,RGB_BPTC_UNSIGNED_Format:JS,RGB_ETC1_Format:zS,RGB_ETC2_Format:LS,RGB_PVRTC_2BPPV1_Format:RS,RGB_PVRTC_4BPPV1_Format:wS,RGB_S3TC_DXT1_Format:qy,RGDepthPacking:GX,RGFormat:nT,RGIntegerFormat:FA,RawShaderMaterial:qN,Ray:_h,Raycaster:UT,RectAreaLight:fU,RedFormat:kA,RedIntegerFormat:K0,ReinhardToneMapping:nN,RenderTarget:GA,RenderTarget3D:DK,RenderTargetArray:zK,RepeatWrapping:Mf,ReplaceStencilOp:XX,ReverseSubtractEquation:PO,RingGeometry:s_,SIGNED_RED_GREEN_RGTC2_Format:$S,SIGNED_RED_RGTC1_Format:ZS,SRGBColorSpace:ya,SRGBTransfer:$n,Scene:KA,ShaderChunk:ln,ShaderLib:tl,ShaderMaterial:cl,ShadowMaterial:KN,Shape:ch,ShapeGeometry:o_,ShapePath:eq,ShapeUtils:sc,ShortType:JC,Skeleton:Q0,SkeletonHelper:HK,SkinnedMesh:fT,Source:gf,Sphere:$r,SphereGeometry:nv,Spherical:RE,SphericalHarmonics3:dU,SplineCurve:bT,SpotLight:wT,SpotLightHelper:FK,Sprite:zN,SpriteMaterial:uT,SrcAlphaFactor:xS,SrcAlphaSaturateFactor:KO,SrcColorFactor:jO,StaticCopyUsage:cW,StaticDrawUsage:E0,StaticReadUsage:sW,StereoCamera:hK,StreamCopyUsage:fW,StreamDrawUsage:aW,StreamReadUsage:lW,StringKeyframeTrack:Ch,SubtractEquation:UO,SubtractiveBlending:xE,TOUCH:Gd,TangentSpaceNormalMap:Df,TetrahedronGeometry:l_,Texture:wi,TextureLoader:lU,TextureUtils:sq,TimestampQuery:hW,TorusGeometry:c_,TorusKnotGeometry:u_,Triangle:ls,TriangleFanDrawMode:eA,TriangleStripDrawMode:aT,TrianglesDrawMode:fN,TubeGeometry:f_,UVMapping:OA,Uint16BufferAttribute:lT,Uint32BufferAttribute:cT,Uint8BufferAttribute:ZW,Uint8ClampedBufferAttribute:QW,Uniform:NT,UniformsGroup:OK,UniformsLib:_t,UniformsUtils:wN,UnsignedByteType:ol,UnsignedInt248Type:Dm,UnsignedInt5999Type:ZC,UnsignedIntType:fu,UnsignedShort4444Type:PA,UnsignedShort5551Type:IA,UnsignedShortType:Bm,VSMShadowMap:el,Vector2:qe,Vector3:Z,Vector4:Un,VectorKeyframeTrack:vh,VideoFrameTexture:xY,VideoTexture:NN,WebGL3DRenderTarget:IW,WebGLArrayRenderTarget:PW,WebGLCoordinateSystem:il,WebGLCubeRenderTarget:BN,WebGLRenderTarget:ll,WebGLRenderer:wU,WebGLUtils:TU,WebGPUCoordinateSystem:C0,WebXRController:iS,WireframeGeometry:YN,WrapAroundEnding:_0,ZeroCurvatureEnding:Zd,ZeroFactor:FO,ZeroSlopeEnding:Qd,ZeroStencilOp:VX,createCanvasElement:MN},Symbol.toStringTag,{value:"Module"}));var d1={exports:{}},Wc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function j$(){return XD||(XD=1,Wc.ConcurrentRoot=1,Wc.ContinuousEventPriority=8,Wc.DefaultEventPriority=32,Wc.DiscreteEventPriority=2,Wc.IdleEventPriority=268435456,Wc.LegacyRoot=0,Wc.NoEventPriority=0),Wc}var WD;function G$(){return WD||(WD=1,d1.exports=j$()),d1.exports}var aS=G$(),h1={exports:{}},p1={},m1={exports:{}},g1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function V$(){if(YD)return g1;YD=1;var n=jm();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function c(g,v){var b=v(),S=i({inst:{value:b,getSnapshot:v}}),E=S[0].inst,M=S[1];return a(function(){E.value=b,E.getSnapshot=v,u(E)&&M({inst:E})},[g,b,v]),r(function(){return u(E)&&M({inst:E}),g(function(){u(E)&&M({inst:E})})},[g]),o(b),b}function u(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!t(g,b)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return g1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,g1}var KD;function X$(){return KD||(KD=1,m1.exports=V$()),m1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function W$(){if(qD)return p1;qD=1;var n=jm(),e=X$();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,c=n.useMemo,u=n.useDebugValue;return p1.useSyncExternalStoreWithSelector=function(h,m,g,v,b){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function A(U){if(!z){if(z=!0,B=U,U=v(U),b!==void 0&&E.hasValue){var k=E.value;if(b(k,U))return L=k}return L=U}if(k=L,i(B,U))return k;var F=v(U);return b!==void 0&&b(k,F)?(B=U,k):(B=U,L=F)}var z=!1,B,L,O=g===void 0?null:g;return[function(){return A(m())},O===null?void 0:function(){return A(O())}]},[m,g,v,b]);var M=r(h,S[0],S[1]);return o(function(){E.hasValue=!0,E.value=M},[M]),u(M),M},p1}var JD;function Y$(){return JD||(JD=1,h1.exports=W$()),h1.exports}var K$=Y$();const q$=O0(K$),ZD=n=>{let e;const t=new Set,i=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const v=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,v))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=n(i,r,c);return c},J$=n=>n?ZD(n):ZD,{useSyncExternalStoreWithSelector:Z$}=q$,Q$=n=>n;function $$(n,e=Q$,t){const i=Z$(n.subscribe,n.getState,n.getInitialState,e,t);return co.useDebugValue(i),i}const QD=(n,e)=>{const t=J$(n),i=(r,a=e)=>$$(t,r,a);return Object.assign(i,t),i},RU=(n,e)=>n?QD(n,e):QD;var y1={exports:{}},v1={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function eee(){return $D||($D=1,function(n){n.exports=function(e){function t(f,d,x,C){return new Rv(f,d,x,C)}function i(){}function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=jn&&f[jn]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Xi?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Rl:return"Fragment";case Xs:return"Portal";case Bl:return"Profiler";case Ac:return"StrictMode";case Lo:return"Suspense";case cd:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Dl:return(f.displayName||"Context")+".Provider";case Tg:return(f._context.displayName||"Context")+".Consumer";case Qh:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Du:return d=f.displayName||null,d!==null?d:o(f.type)||"Memo";case Oo:d=f._payload,f=f._init;try{return o(f(d))}catch{}}return null}function c(f){if(zl===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);zl=d&&d[1]||"",Ll=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zl+f+Ll}function u(f,d){if(!f||zu)return"";zu=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(Jt){var lt=Jt}Reflect.construct(f,[],At)}else{try{At.call()}catch(Jt){lt=Jt}f.call(At.prototype)}}else{try{throw Error()}catch(Jt){lt=Jt}(At=f())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(Jt){if(Jt&&lt&&typeof Jt.stack=="string")return[Jt.stack,lt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=C.DetermineComponentFrameRoot(),W=N[0],oe=N[1];if(W&&oe){var Se=W.split(`
`),Ye=oe.split(`
`);for(D=C=0;C<Se.length&&!Se[C].includes("DetermineComponentFrameRoot");)C++;for(;D<Ye.length&&!Ye[D].includes("DetermineComponentFrameRoot");)D++;if(C===Se.length||D===Ye.length)for(C=Se.length-1,D=Ye.length-1;1<=C&&0<=D&&Se[C]!==Ye[D];)D--;for(;1<=C&&0<=D;C--,D--)if(Se[C]!==Ye[D]){if(C!==1||D!==1)do if(C--,D--,0>D||Se[C]!==Ye[D]){var ut=`
`+Se[C].replace(" at new "," at ");return f.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",f.displayName)),ut}while(1<=C&&0<=D);break}}}finally{zu=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?c(x):""}function h(f){switch(f.tag){case 26:case 27:case 5:return c(f.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function m(f){try{var d="";do d+=h(f),f=f.return;while(f);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(f){var d=f,x=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(x=d.return),f=d.return;while(f)}return d.tag===3?x:null}function v(f){if(g(f)!==f)throw Error(r(188))}function b(f){var d=f.alternate;if(!d){if(d=g(f),d===null)throw Error(r(188));return d!==f?null:f}for(var x=f,C=d;;){var D=x.return;if(D===null)break;var N=D.alternate;if(N===null){if(C=D.return,C!==null){x=C;continue}break}if(D.child===N.child){for(N=D.child;N;){if(N===x)return v(D),f;if(N===C)return v(D),d;N=N.sibling}throw Error(r(188))}if(x.return!==C.return)x=D,C=N;else{for(var W=!1,oe=D.child;oe;){if(oe===x){W=!0,x=D,C=N;break}if(oe===C){W=!0,C=D,x=N;break}oe=oe.sibling}if(!W){for(oe=N.child;oe;){if(oe===x){W=!0,x=N,C=D;break}if(oe===C){W=!0,C=N,x=D;break}oe=oe.sibling}if(!W)throw Error(r(189))}}if(x.alternate!==C)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?f:d}function S(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=S(f),d!==null)return d;f=f.sibling}return null}function E(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=E(f),d!==null))return d;f=f.sibling}return null}function M(f){return{current:f}}function A(f){0>Pl||(f.current=fp[Pl],fp[Pl]=null,Pl--)}function z(f,d){Pl++,fp[Pl]=f.current,f.current=d}function B(f){return f>>>=0,f===0?32:31-(Zg(f)/C_|0)|0}function L(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function O(f,d){var x=f.pendingLanes;if(x===0)return 0;var C=0,D=f.suspendedLanes,N=f.pingedLanes,W=f.warmLanes;f=f.finishedLanes!==0;var oe=x&134217727;return oe!==0?(x=oe&~D,x!==0?C=L(x):(N&=oe,N!==0?C=L(N):f||(W=oe&~W,W!==0&&(C=L(W))))):(oe=x&~D,oe!==0?C=L(oe):N!==0?C=L(N):f||(W=x&~W,W!==0&&(C=L(W)))),C===0?0:d!==0&&d!==C&&(d&D)===0&&(D=C&-C,W=d&-d,D>=W||D===32&&(W&4194176)!==0)?d:C}function U(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function k(f,d){switch(f){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var f=hd;return hd<<=1,(hd&4194176)===0&&(hd=128),f}function P(){var f=Pu;return Pu<<=1,(Pu&62914560)===0&&(Pu=4194304),f}function w(f){for(var d=[],x=0;31>x;x++)d.push(f);return d}function G(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ee(f,d,x,C,D,N){var W=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var oe=f.entanglements,Se=f.expirationTimes,Ye=f.hiddenUpdates;for(x=W&~x;0<x;){var ut=31-Li(x),At=1<<ut;oe[ut]=0,Se[ut]=-1;var lt=Ye[ut];if(lt!==null)for(Ye[ut]=null,ut=0;ut<lt.length;ut++){var Jt=lt[ut];Jt!==null&&(Jt.lane&=-536870913)}x&=~At}C!==0&&q(f,C,0),N!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=N&~(W&~d))}function q(f,d,x){f.pendingLanes|=d,f.suspendedLanes&=~d;var C=31-Li(d);f.entangledLanes|=d,f.entanglements[C]=f.entanglements[C]|1073741824|x&4194218}function $(f,d){var x=f.entangledLanes|=d;for(f=f.entanglements;x;){var C=31-Li(x),D=1<<C;D&d|f[C]&d&&(f[C]|=d),x&=~D}}function ae(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function J(f){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(ku,f,void 0,(f.current.flags&128)===128)}catch{}}function re(f){if(typeof Br=="function"&&hp(f),Wi&&typeof Wi.setStrictMode=="function")try{Wi.setStrictMode(ku,f)}catch{}}function Q(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function de(f,d){if(typeof f=="object"&&f!==null){var x=pp.get(f);return x!==void 0?x:(d={value:f,source:d,stack:m(d)},pp.set(f,d),d)}return{value:f,source:d,stack:m(d)}}function Y(f,d){Ba[Da++]=Fu,Ba[Da++]=kl,kl=f,Fu=d}function te(f,d,x){oa[Dr++]=qs,oa[Dr++]=Js,oa[Dr++]=As,As=f;var C=qs;f=Js;var D=32-Li(C)-1;C&=~(1<<D),x+=1;var N=32-Li(d)+D;if(30<N){var W=D-D%5;N=(C&(1<<W)-1).toString(32),C>>=W,D-=W,qs=1<<32-Li(d)+D|x<<D|C,Js=N+f}else qs=1<<N|x<<D|C,Js=f}function Ce(f){f.return!==null&&(Y(f,1),te(f,1,0))}function He(f){for(;f===kl;)kl=Ba[--Da],Ba[Da]=null,Fu=Ba[--Da],Ba[Da]=null;for(;f===As;)As=oa[--Dr],oa[Dr]=null,Js=oa[--Dr],oa[Dr]=null,qs=oa[--Dr],oa[Dr]=null}function se(f,d){z(ko,d),z(Ja,f),z(Oi,null),f=wg(d),A(Oi),z(Oi,f)}function we(){A(Oi),A(Ja),A(ko)}function Ae(f){f.memoizedState!==null&&z(md,f);var d=Oi.current,x=Bv(d,f.type);d!==x&&(z(Ja,f),z(Oi,x))}function Xe(f){Ja.current===f&&(A(Oi),A(Ja)),md.current===f&&(A(md),xs?Uo._currentValue=Mc:Uo._currentValue2=Mc)}function Ge(f){var d=Error(r(418,""));throw ht(de(d,f)),gd}function vt(f,d){if(!sa)throw Error(r(175));Tc(f.stateNode,f.type,f.memoizedProps,d,f)||Ge(f)}function Ze(f){for(Ni=f.return;Ni;)switch(Ni.tag){case 3:case 27:_s=!0;return;case 5:case 13:_s=!1;return;default:Ni=Ni.return}}function at(f){if(!sa||f!==Ni)return!1;if(!Rn)return Ze(f),Rn=!0,!1;var d=!1;if(hr?f.tag!==3&&f.tag!==27&&(f.tag!==5||Hg(f.type)&&!Ar(f.type,f.memoizedProps))&&(d=!0):f.tag!==3&&(f.tag!==5||Hg(f.type)&&!Ar(f.type,f.memoizedProps))&&(d=!0),d&&Wn&&Ge(f),Ze(f),f.tag===13){if(!sa)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Wn=lx(f)}else Wn=Ni?Ul(f.stateNode):null;return!0}function Et(){sa&&(Wn=Ni=null,Rn=!1)}function ht(f){Za===null?Za=[f]:Za.push(f)}function ne(){for(var f=Fo,d=Ms=Fo=0;d<f;){var x=la[d];la[d++]=null;var C=la[d];la[d++]=null;var D=la[d];la[d++]=null;var N=la[d];if(la[d++]=null,C!==null&&D!==null){var W=C.pending;W===null?D.next=D:(D.next=W.next,W.next=D),C.pending=D}N!==0&&Te(x,D,N)}}function Yt(f,d,x,C){la[Fo++]=f,la[Fo++]=d,la[Fo++]=x,la[Fo++]=C,Ms|=C,f.lanes|=C,f=f.alternate,f!==null&&(f.lanes|=C)}function ke(f,d,x,C){return Yt(f,d,x,C),$e(f)}function De(f,d){return Yt(f,null,null,d),$e(f)}function Te(f,d,x){f.lanes|=x;var C=f.alternate;C!==null&&(C.lanes|=x);for(var D=!1,N=f.return;N!==null;)N.childLanes|=x,C=N.alternate,C!==null&&(C.childLanes|=x),N.tag===22&&(f=N.stateNode,f===null||f._visibility&1||(D=!0)),f=N,N=N.return;D&&d!==null&&f.tag===3&&(N=f.stateNode,D=31-Li(x),N=N.hiddenUpdates,f=N[D],f===null?N[D]=[d]:f.push(d),d.lane=x|536870912)}function $e(f){if(50<Nc)throw Nc=0,ny=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function ze(f){f!==Fl&&f.next===null&&(Fl===null?ai=Fl=f:Fl=Fl.next=f),Ui=!0,mp||(mp=!0,fe(j))}function K(f,d){if(!gp&&Ui){gp=!0;do for(var x=!1,C=ai;C!==null;){if(f!==0){var D=C.pendingLanes;if(D===0)var N=0;else{var W=C.suspendedLanes,oe=C.pingedLanes;N=(1<<31-Li(42|f)+1)-1,N&=D&~(W&~oe),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(x=!0,ce(C,N))}else N=hn,N=O(C,C===Kn?N:0),(N&3)===0||U(C,N)||(x=!0,ce(C,N));C=C.next}while(x);gp=!1}}function j(){Ui=mp=!1;var f=0;Hu!==0&&(Ov()&&(f=Hu),Hu=0);for(var d=Ra(),x=null,C=ai;C!==null;){var D=C.next,N=pe(C,d);N===0?(C.next=null,x===null?ai=D:x.next=D,D===null&&(Fl=x)):(x=C,(f!==0||(N&3)!==0)&&(Ui=!0)),C=D}K(f)}function pe(f,d){for(var x=f.suspendedLanes,C=f.pingedLanes,D=f.expirationTimes,N=f.pendingLanes&-62914561;0<N;){var W=31-Li(N),oe=1<<W,Se=D[W];Se===-1?((oe&x)===0||(oe&C)!==0)&&(D[W]=k(oe,d)):Se<=d&&(f.expiredLanes|=oe),N&=~oe}if(d=Kn,x=hn,x=O(f,f===d?x:0),C=f.callbackNode,x===0||f===d&&Gn===2||f.cancelPendingCommit!==null)return C!==null&&C!==null&&Ss(C),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||U(f,x)){if(d=x&-x,d===f.callbackPriority)return d;switch(C!==null&&Ss(C),ae(x)){case 2:case 8:x=pd;break;case 32:x=Iu;break;case 268435456:x=Rc;break;default:x=Iu}return C=Ee.bind(null,f),x=Ks(x,C),f.callbackPriority=d,f.callbackNode=x,d}return C!==null&&C!==null&&Ss(C),f.callbackPriority=2,f.callbackNode=null,2}function Ee(f,d){var x=f.callbackNode;if(El()&&f.callbackNode!==x)return null;var C=hn;return C=O(f,f===Kn?C:0),C===0?null:(Ca(f,C,d),pe(f,Ra()),f.callbackNode!=null&&f.callbackNode===x?Ee.bind(null,f):null)}function ce(f,d){if(El())return null;Ca(f,d,!0)}function fe(f){Iv?kv(function(){(dn&6)!==0?Ks(dp,f):f()}):Ks(dp,f)}function Fe(){return Hu===0&&(Hu=F()),Hu}function Pe(f,d){if(ju===null){var x=ju=[];yp=0,si=Fe(),pr={status:"pending",value:void 0,then:function(C){x.push(C)}}}return yp++,d.then(Je,Je),d}function Je(){if(--yp===0&&ju!==null){pr!==null&&(pr.status="fulfilled");var f=ju;ju=null,si=0,pr=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function et(f,d){var x=[],C={status:"pending",value:null,reason:null,then:function(D){x.push(D)}};return f.then(function(){C.status="fulfilled",C.value=d;for(var D=0;D<x.length;D++)(0,x[D])(d)},function(D){for(C.status="rejected",C.reason=D,D=0;D<x.length;D++)(0,x[D])(void 0)}),C}function We(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function it(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function ct(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ft(f,d,x){var C=f.updateQueue;if(C===null)return null;if(C=C.shared,(dn&2)!==0){var D=C.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),C.pending=d,d=$e(f),Te(f,null,x),d}return Yt(f,C,d,x),$e(f)}function gt(f,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194176)!==0)){var C=d.lanes;C&=f.pendingLanes,x|=C,d.lanes=x,$(f,x)}}function ue(f,d){var x=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,x===C)){var D=null,N=null;if(x=x.firstBaseUpdate,x!==null){do{var W={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};N===null?D=N=W:N=N.next=W,x=x.next}while(x!==null);N===null?D=N=d:N=N.next=d}else D=N=d;x={baseState:C.baseState,firstBaseUpdate:D,lastBaseUpdate:N,shared:C.shared,callbacks:C.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=d:f.next=d,x.lastBaseUpdate=d}function Ie(){if(vp){var f=pr;if(f!==null)throw f}}function yt(f,d,x,C){vp=!1;var D=f.updateQueue;zr=!1;var N=D.firstBaseUpdate,W=D.lastBaseUpdate,oe=D.shared.pending;if(oe!==null){D.shared.pending=null;var Se=oe,Ye=Se.next;Se.next=null,W===null?N=Ye:W.next=Ye,W=Se;var ut=f.alternate;ut!==null&&(ut=ut.updateQueue,oe=ut.lastBaseUpdate,oe!==W&&(oe===null?ut.firstBaseUpdate=Ye:oe.next=Ye,ut.lastBaseUpdate=Se))}if(N!==null){var At=D.baseState;W=0,ut=Ye=Se=null,oe=N;do{var lt=oe.lane&-536870913,Jt=lt!==oe.lane;if(Jt?(hn&lt)===lt:(C&lt)===lt){lt!==0&&lt===si&&(vp=!0),ut!==null&&(ut=ut.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var as=f,Ku=oe;lt=d;var Uc=x;switch(Ku.tag){case 1:if(as=Ku.payload,typeof as=="function"){At=as.call(Uc,At,lt);break e}At=as;break e;case 3:as.flags=as.flags&-65537|128;case 0:if(as=Ku.payload,lt=typeof as=="function"?as.call(Uc,At,lt):as,lt==null)break e;At=Di({},At,lt);break e;case 2:zr=!0}}lt=oe.callback,lt!==null&&(f.flags|=64,Jt&&(f.flags|=8192),Jt=D.callbacks,Jt===null?D.callbacks=[lt]:Jt.push(lt))}else Jt={lane:lt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ut===null?(Ye=ut=Jt,Se=At):ut=ut.next=Jt,W|=lt;if(oe=oe.next,oe===null){if(oe=D.shared.pending,oe===null)break;Jt=oe,oe=Jt.next,Jt.next=null,D.lastBaseUpdate=Jt,D.shared.pending=null}}while(!0);ut===null&&(Se=At),D.baseState=Se,D.firstBaseUpdate=Ye,D.lastBaseUpdate=ut,N===null&&(D.shared.lanes=0),is|=W,f.lanes=W,f.memoizedState=At}}function le(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function st(f,d){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)le(x[f],d)}function Oe(f,d){if(Xr(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var x=Object.keys(f),C=Object.keys(d);if(x.length!==C.length)return!1;for(C=0;C<x.length;C++){var D=x[C];if(!gx.call(d,D)||!Xr(f[D],d[D]))return!1}return!0}function Ue(f){return f=f.status,f==="fulfilled"||f==="rejected"}function rt(){}function dt(f,d,x){switch(x=f[x],x===void 0?f.push(d):x!==d&&(d.then(rt,rt),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===yd?Error(r(483)):f;default:if(typeof d.status=="string")d.then(rt,rt);else{if(f=Kn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(C){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=C}},function(C){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===yd?Error(r(483)):f}throw Lr=d,yd}}function wt(){if(Lr===null)throw Error(r(459));var f=Lr;return Lr=null,f}function Xt(f){var d=Or;return Or+=1,Bc===null&&(Bc=[]),dt(Bc,f,d)}function Fn(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function $t(f,d){throw d.$$typeof===Cg?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function bi(f){var d=f._init;return d(f._payload)}function Ri(f){function d(Be,xe){if(f){var Ne=Be.deletions;Ne===null?(Be.deletions=[xe],Be.flags|=16):Ne.push(xe)}}function x(Be,xe){if(!f)return null;for(;xe!==null;)d(Be,xe),xe=xe.sibling;return null}function C(Be){for(var xe=new Map;Be!==null;)Be.key!==null?xe.set(Be.key,Be):xe.set(Be.index,Be),Be=Be.sibling;return xe}function D(Be,xe){return Be=Bo(Be,xe),Be.index=0,Be.sibling=null,Be}function N(Be,xe,Ne){return Be.index=Ne,f?(Ne=Be.alternate,Ne!==null?(Ne=Ne.index,Ne<xe?(Be.flags|=33554434,xe):Ne):(Be.flags|=33554434,xe)):(Be.flags|=1048576,xe)}function W(Be){return f&&Be.alternate===null&&(Be.flags|=33554434),Be}function oe(Be,xe,Ne,ot){return xe===null||xe.tag!==6?(xe=ld(Ne,Be.mode,ot),xe.return=Be,xe):(xe=D(xe,Ne),xe.return=Be,xe)}function Se(Be,xe,Ne,ot){var Dt=Ne.type;return Dt===Rl?ut(Be,xe,Ne.props.children,ot,Ne.key):xe!==null&&(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Oo&&bi(Dt)===xe.type)?(xe=D(xe,Ne.props),Fn(xe,Ne),xe.return=Be,xe):(xe=Sc(Ne.type,Ne.key,Ne.props,null,Be.mode,ot),Fn(xe,Ne),xe.return=Be,xe)}function Ye(Be,xe,Ne,ot){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ne.containerInfo||xe.stateNode.implementation!==Ne.implementation?(xe=aa(Ne,Be.mode,ot),xe.return=Be,xe):(xe=D(xe,Ne.children||[]),xe.return=Be,xe)}function ut(Be,xe,Ne,ot,Dt){return xe===null||xe.tag!==7?(xe=Tl(Ne,Be.mode,ot,Dt),xe.return=Be,xe):(xe=D(xe,Ne),xe.return=Be,xe)}function At(Be,xe,Ne){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=ld(""+xe,Be.mode,Ne),xe.return=Be,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case wl:return Ne=Sc(xe.type,xe.key,xe.props,null,Be.mode,Ne),Fn(Ne,xe),Ne.return=Be,Ne;case Xs:return xe=aa(xe,Be.mode,Ne),xe.return=Be,xe;case Oo:var ot=xe._init;return xe=ot(xe._payload),At(Be,xe,Ne)}if(Ol(xe)||a(xe))return xe=Tl(xe,Be.mode,Ne,null),xe.return=Be,xe;if(typeof xe.then=="function")return At(Be,Xt(xe),Ne);if(xe.$$typeof===Dl)return At(Be,Wf(Be,xe),Ne);$t(Be,xe)}return null}function lt(Be,xe,Ne,ot){var Dt=xe!==null?xe.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Dt!==null?null:oe(Be,xe,""+Ne,ot);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case wl:return Ne.key===Dt?Se(Be,xe,Ne,ot):null;case Xs:return Ne.key===Dt?Ye(Be,xe,Ne,ot):null;case Oo:return Dt=Ne._init,Ne=Dt(Ne._payload),lt(Be,xe,Ne,ot)}if(Ol(Ne)||a(Ne))return Dt!==null?null:ut(Be,xe,Ne,ot,null);if(typeof Ne.then=="function")return lt(Be,xe,Xt(Ne),ot);if(Ne.$$typeof===Dl)return lt(Be,xe,Wf(Be,Ne),ot);$t(Be,Ne)}return null}function Jt(Be,xe,Ne,ot,Dt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Be=Be.get(Ne)||null,oe(xe,Be,""+ot,Dt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case wl:return Be=Be.get(ot.key===null?Ne:ot.key)||null,Se(xe,Be,ot,Dt);case Xs:return Be=Be.get(ot.key===null?Ne:ot.key)||null,Ye(xe,Be,ot,Dt);case Oo:var qn=ot._init;return ot=qn(ot._payload),Jt(Be,xe,Ne,ot,Dt)}if(Ol(ot)||a(ot))return Be=Be.get(Ne)||null,ut(xe,Be,ot,Dt,null);if(typeof ot.then=="function")return Jt(Be,xe,Ne,Xt(ot),Dt);if(ot.$$typeof===Dl)return Jt(Be,xe,Ne,Wf(xe,ot),Dt);$t(xe,ot)}return null}function as(Be,xe,Ne,ot){for(var Dt=null,qn=null,Ft=xe,un=xe=0,Qn=null;Ft!==null&&un<Ne.length;un++){Ft.index>un?(Qn=Ft,Ft=null):Qn=Ft.sibling;var vn=lt(Be,Ft,Ne[un],ot);if(vn===null){Ft===null&&(Ft=Qn);break}f&&Ft&&vn.alternate===null&&d(Be,Ft),xe=N(vn,xe,un),qn===null?Dt=vn:qn.sibling=vn,qn=vn,Ft=Qn}if(un===Ne.length)return x(Be,Ft),Rn&&Y(Be,un),Dt;if(Ft===null){for(;un<Ne.length;un++)Ft=At(Be,Ne[un],ot),Ft!==null&&(xe=N(Ft,xe,un),qn===null?Dt=Ft:qn.sibling=Ft,qn=Ft);return Rn&&Y(Be,un),Dt}for(Ft=C(Ft);un<Ne.length;un++)Qn=Jt(Ft,Be,un,Ne[un],ot),Qn!==null&&(f&&Qn.alternate!==null&&Ft.delete(Qn.key===null?un:Qn.key),xe=N(Qn,xe,un),qn===null?Dt=Qn:qn.sibling=Qn,qn=Qn);return f&&Ft.forEach(function(ql){return d(Be,ql)}),Rn&&Y(Be,un),Dt}function Ku(Be,xe,Ne,ot){if(Ne==null)throw Error(r(151));for(var Dt=null,qn=null,Ft=xe,un=xe=0,Qn=null,vn=Ne.next();Ft!==null&&!vn.done;un++,vn=Ne.next()){Ft.index>un?(Qn=Ft,Ft=null):Qn=Ft.sibling;var ql=lt(Be,Ft,vn.value,ot);if(ql===null){Ft===null&&(Ft=Qn);break}f&&Ft&&ql.alternate===null&&d(Be,Ft),xe=N(ql,xe,un),qn===null?Dt=ql:qn.sibling=ql,qn=ql,Ft=Qn}if(vn.done)return x(Be,Ft),Rn&&Y(Be,un),Dt;if(Ft===null){for(;!vn.done;un++,vn=Ne.next())vn=At(Be,vn.value,ot),vn!==null&&(xe=N(vn,xe,un),qn===null?Dt=vn:qn.sibling=vn,qn=vn);return Rn&&Y(Be,un),Dt}for(Ft=C(Ft);!vn.done;un++,vn=Ne.next())vn=Jt(Ft,Be,un,vn.value,ot),vn!==null&&(f&&vn.alternate!==null&&Ft.delete(vn.key===null?un:vn.key),xe=N(vn,xe,un),qn===null?Dt=vn:qn.sibling=vn,qn=vn);return f&&Ft.forEach(function(vx){return d(Be,vx)}),Rn&&Y(Be,un),Dt}function Uc(Be,xe,Ne,ot){if(typeof Ne=="object"&&Ne!==null&&Ne.type===Rl&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case wl:e:{for(var Dt=Ne.key;xe!==null;){if(xe.key===Dt){if(Dt=Ne.type,Dt===Rl){if(xe.tag===7){x(Be,xe.sibling),ot=D(xe,Ne.props.children),ot.return=Be,Be=ot;break e}}else if(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Oo&&bi(Dt)===xe.type){x(Be,xe.sibling),ot=D(xe,Ne.props),Fn(ot,Ne),ot.return=Be,Be=ot;break e}x(Be,xe);break}else d(Be,xe);xe=xe.sibling}Ne.type===Rl?(ot=Tl(Ne.props.children,Be.mode,ot,Ne.key),ot.return=Be,Be=ot):(ot=Sc(Ne.type,Ne.key,Ne.props,null,Be.mode,ot),Fn(ot,Ne),ot.return=Be,Be=ot)}return W(Be);case Xs:e:{for(Dt=Ne.key;xe!==null;){if(xe.key===Dt)if(xe.tag===4&&xe.stateNode.containerInfo===Ne.containerInfo&&xe.stateNode.implementation===Ne.implementation){x(Be,xe.sibling),ot=D(xe,Ne.children||[]),ot.return=Be,Be=ot;break e}else{x(Be,xe);break}else d(Be,xe);xe=xe.sibling}ot=aa(Ne,Be.mode,ot),ot.return=Be,Be=ot}return W(Be);case Oo:return Dt=Ne._init,Ne=Dt(Ne._payload),Uc(Be,xe,Ne,ot)}if(Ol(Ne))return as(Be,xe,Ne,ot);if(a(Ne)){if(Dt=a(Ne),typeof Dt!="function")throw Error(r(150));return Ne=Dt.call(Ne),Ku(Be,xe,Ne,ot)}if(typeof Ne.then=="function")return Uc(Be,xe,Xt(Ne),ot);if(Ne.$$typeof===Dl)return Uc(Be,xe,Wf(Be,Ne),ot);$t(Be,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,xe!==null&&xe.tag===6?(x(Be,xe.sibling),ot=D(xe,Ne),ot.return=Be,Be=ot):(x(Be,xe),ot=ld(Ne,Be.mode,ot),ot.return=Be,Be=ot),W(Be)):x(Be,xe)}return function(Be,xe,Ne,ot){try{Or=0;var Dt=Uc(Be,xe,Ne,ot);return Bc=null,Dt}catch(Ft){if(Ft===yd)throw Ft;var qn=t(29,Ft,null,Be.mode);return qn.lanes=ot,qn.return=Be,qn}finally{}}}function Of(f,d){f=ws,z(Cs,f),z(Es,d),ws=f|d.baseLanes}function cc(){z(Cs,ws),z(Es,Es.current)}function Xa(){ws=Cs.current,A(Es),A(Cs)}function Ma(f){var d=f.alternate;z(ni,ni.current&1),z(ca,f),Qa===null&&(d===null||Es.current!==null||d.memoizedState!==null)&&(Qa=f)}function hu(f){if(f.tag===22){if(z(ni,ni.current),z(ca,f),Qa===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(Qa=f)}}else ps()}function ps(){z(ni,ni.current),z(ca,ca.current)}function Bi(f){A(ca),Qa===f&&(Qa=null),A(ni)}function Si(f){for(var d=f;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Ec(x)||dd(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function rn(){throw Error(r(321))}function ms(f,d){if(d===null)return!1;for(var x=0;x<d.length&&x<f.length;x++)if(!Xr(f[x],d[x]))return!1;return!0}function hl(f,d,x,C,D,N){return Ho=N,Kt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,jt.H=f===null||f.memoizedState===null?Vo:Yr,jl=!1,N=x(C,D),jl=!1,Dc&&(N=Rh(d,x,C,D)),wh(f),N}function wh(f){jt.H=Pi;var d=Ln!==null&&Ln.next!==null;if(Ho=0,hi=Ln=Kt=null,jo=!1,Gu=0,Go=null,d)throw Error(r(300));f===null||Yi||(f=f.dependencies,f!==null&&Xf(f)&&(Yi=!0))}function Rh(f,d,x,C){Kt=f;var D=0;do{if(Dc&&(Go=null),Gu=0,Dc=!1,25<=D)throw Error(r(301));if(D+=1,hi=Ln=null,f.updateQueue!=null){var N=f.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}jt.H=Vl,N=d(x,C)}while(Dc);return N}function Bh(){var f=jt.H,d=f.useState()[0];return d=typeof d.then=="function"?Re(d):d,f=f.useState()[0],(Ln!==null?Ln.memoizedState:null)!==f&&(Kt.flags|=1024),d}function yo(){var f=Gl!==0;return Gl=0,f}function uc(f,d,x){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~x}function gs(f){if(jo){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}jo=!1}Ho=0,hi=Ln=Kt=null,Dc=!1,Gu=Gl=0,Go=null}function V(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Kt.memoizedState=hi=f:hi=hi.next=f,hi}function he(){if(Ln===null){var f=Kt.alternate;f=f!==null?f.memoizedState:null}else f=Ln.next;var d=hi===null?Kt.memoizedState:hi.next;if(d!==null)hi=d,Ln=f;else{if(f===null)throw Kt.alternate===null?Error(r(467)):Error(r(310));Ln=f,f={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},hi===null?Kt.memoizedState=hi=f:hi=hi.next=f}return hi}function Re(f){var d=Gu;return Gu+=1,Go===null&&(Go=[]),f=dt(Go,f,d),d=Kt,(hi===null?d.memoizedState:hi.next)===null&&(d=d.alternate,jt.H=d===null||d.memoizedState===null?Vo:Yr),f}function _e(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Re(f);if(f.$$typeof===Dl)return br(f)}throw Error(r(438,String(f)))}function ve(f){var d=null,x=Kt.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var C=Kt.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=Qg(),Kt.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(f),C=0;C<f;C++)x[C]=an;return d.index++,x}function tt(f,d){return typeof d=="function"?d(f):d}function pt(f){var d=he();return St(d,Ln,f)}function St(f,d,x){var C=f.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=x;var D=f.baseQueue,N=C.pending;if(N!==null){if(D!==null){var W=D.next;D.next=N.next,N.next=W}d.baseQueue=D=N,C.pending=null}if(N=f.baseState,D===null)f.memoizedState=N;else{d=D.next;var oe=W=null,Se=null,Ye=d,ut=!1;do{var At=Ye.lane&-536870913;if(At!==Ye.lane?(hn&At)===At:(Ho&At)===At){var lt=Ye.revertLane;if(lt===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),At===si&&(ut=!0);else if((Ho&lt)===lt){Ye=Ye.next,lt===si&&(ut=!0);continue}else At={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Se===null?(oe=Se=At,W=N):Se=Se.next=At,Kt.lanes|=lt,is|=lt;At=Ye.action,jl&&x(N,At),N=Ye.hasEagerState?Ye.eagerState:x(N,At)}else lt={lane:At,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Se===null?(oe=Se=lt,W=N):Se=Se.next=lt,Kt.lanes|=At,is|=At;Ye=Ye.next}while(Ye!==null&&Ye!==d);if(Se===null?W=N:Se.next=oe,!Xr(N,f.memoizedState)&&(Yi=!0,ut&&(x=pr,x!==null)))throw x;f.memoizedState=N,f.baseState=W,f.baseQueue=Se,C.lastRenderedState=N}return D===null&&(C.lanes=0),[f.memoizedState,C.dispatch]}function xt(f){var d=he(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var C=x.dispatch,D=x.pending,N=d.memoizedState;if(D!==null){x.pending=null;var W=D=D.next;do N=f(N,W.action),W=W.next;while(W!==D);Xr(N,d.memoizedState)||(Yi=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),x.lastRenderedState=N}return[N,C]}function Ht(f,d,x){var C=Kt,D=he(),N=Rn;if(N){if(x===void 0)throw Error(r(407));x=x()}else x=d();var W=!Xr((Ln||D).memoizedState,x);if(W&&(D.memoizedState=x,Yi=!0),D=D.queue,Uf(mn.bind(null,C,D,f),[f]),D.getSnapshot!==d||W||hi!==null&&hi.memoizedState.tag&1){if(C.flags|=2048,ys(9,Lt.bind(null,C,D,x,d),{destroy:void 0},null),Kn===null)throw Error(r(349));N||(Ho&60)!==0||It(C,d,x)}return x}function It(f,d,x){f.flags|=16384,f={getSnapshot:d,value:x},d=Kt.updateQueue,d===null?(d=Qg(),Kt.updateQueue=d,d.stores=[f]):(x=d.stores,x===null?d.stores=[f]:x.push(f))}function Lt(f,d,x,C){d.value=x,d.getSnapshot=C,gn(d)&&ei(f)}function mn(f,d,x){return x(function(){gn(d)&&ei(f)})}function gn(f){var d=f.getSnapshot;f=f.value;try{var x=d();return!Xr(f,x)}catch{return!0}}function ei(f){var d=De(f,2);d!==null&&ti(d,f,2)}function Mn(f){var d=V();if(typeof f=="function"){var x=f;if(f=x(),jl){re(!0);try{x()}finally{re(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:f},d}function Wt(f,d,x,C){return f.baseState=x,St(f,Ln,typeof C=="function"?C:tt)}function Ot(f,d,x,C,D){if(Ff(f))throw Error(r(485));if(f=d.action,f!==null){var N={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){N.listeners.push(W)}};jt.T!==null?x(!0):N.isTransition=!1,C(N),x=d.pending,x===null?(N.next=d.pending=N,ji(d,N)):(N.next=x.next,d.pending=x.next=N)}}function ji(f,d){var x=d.action,C=d.payload,D=f.state;if(d.isTransition){var N=jt.T,W={};jt.T=W;try{var oe=x(D,C),Se=jt.S;Se!==null&&Se(W,oe),yn(f,d,oe)}catch(Ye){Ea(f,d,Ye)}finally{jt.T=N}}else try{N=x(D,C),yn(f,d,N)}catch(Ye){Ea(f,d,Ye)}}function yn(f,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(C){Fr(f,d,C)},function(C){return Ea(f,d,C)}):Fr(f,d,x)}function Fr(f,d,x){d.status="fulfilled",d.value=x,Cr(d),f.state=x,d=f.pending,d!==null&&(x=d.next,x===d?f.pending=null:(x=x.next,d.next=x,ji(f,x)))}function Ea(f,d,x){var C=f.pending;if(f.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=x,Cr(d),d=d.next;while(d!==C)}f.action=null}function Cr(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function ir(f,d){return d}function Hn(f,d){if(Rn){var x=Kn.formState;if(x!==null){e:{var C=Kt;if(Rn){if(Wn){var D=rx(Wn,_s);if(D){Wn=Ul(D),C=Ys(D);break e}}Ge(C)}C=!1}C&&(d=x[0])}}x=V(),x.memoizedState=x.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:d},x.queue=C,x=ag.bind(null,Kt,C),C.dispatch=x,C=Mn(!1);var N=gu.bind(null,Kt,!1,C.queue);return C=V(),D={state:d,dispatch:null,action:f,pending:null},C.queue=D,x=Ot.bind(null,Kt,D,N,x),D.dispatch=x,C.memoizedState=f,[d,x,!1]}function Tr(f){var d=he();return vr(d,Ln,f)}function vr(f,d,x){d=St(f,d,ir)[0],f=pt(tt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Re(d):d;var C=he(),D=C.queue,N=D.dispatch;return x!==C.memoizedState&&(Kt.flags|=2048,ys(9,Ai.bind(null,D,x),{destroy:void 0},null)),[d,N,f]}function Ai(f,d){f.action=d}function fr(f){var d=he(),x=Ln;if(x!==null)return vr(d,x,f);he(),d=d.memoizedState,x=he();var C=x.queue.dispatch;return x.memoizedState=f,[d,C,!1]}function ys(f,d,x,C){return f={tag:f,create:d,inst:x,deps:C,next:null},d=Kt.updateQueue,d===null&&(d=Qg(),Kt.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=f.next=f:(C=x.next,x.next=f,f.next=C,d.lastEffect=f),f}function Hr(){return he().memoizedState}function Dh(f,d,x,C){var D=V();Kt.flags|=f,D.memoizedState=ys(1|d,x,{destroy:void 0},C===void 0?null:C)}function Nf(f,d,x,C){var D=he();C=C===void 0?null:C;var N=D.memoizedState.inst;Ln!==null&&C!==null&&ms(C,Ln.memoizedState.deps)?D.memoizedState=ys(d,x,N,C):(Kt.flags|=f,D.memoizedState=ys(1|d,x,N,C))}function ng(f,d){Dh(8390656,8,f,d)}function Uf(f,d){Nf(2048,8,f,d)}function sv(f,d){return Nf(4,2,f,d)}function ov(f,d){return Nf(4,4,f,d)}function Pf(f,d){if(typeof d=="function"){f=f();var x=d(f);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function zh(f,d,x){x=x!=null?x.concat([f]):null,Nf(4,4,Pf.bind(null,d,f),x)}function If(){}function fc(f,d){var x=he();d=d===void 0?null:d;var C=x.memoizedState;return d!==null&&ms(d,C[1])?C[0]:(x.memoizedState=[f,d],f)}function dc(f,d){var x=he();d=d===void 0?null:d;var C=x.memoizedState;if(d!==null&&ms(d,C[1]))return C[0];if(C=f(),jl){re(!0);try{f()}finally{re(!1)}}return x.memoizedState=[C,d],C}function Lh(f,d,x){return x===void 0||(Ho&1073741824)!==0?f.memoizedState=d:(f.memoizedState=x,f=td(),Kt.lanes|=f,is|=f,x)}function Oh(f,d,x,C){return Xr(x,d)?x:Es.current!==null?(f=Lh(f,x,C),Xr(f,d)||(Yi=!0),f):(Ho&42)===0?(Yi=!0,f.memoizedState=x):(f=td(),Kt.lanes|=f,is|=f,d)}function ig(f,d,x,C,D){var N=Nl();Vr(N!==0&&8>N?N:8);var W=jt.T,oe={};jt.T=oe,gu(f,!1,d,x);try{var Se=D(),Ye=jt.S;if(Ye!==null&&Ye(oe,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ut=et(Se,C);pl(f,d,ut,wr(f))}else pl(f,d,C,wr(f))}catch(At){pl(f,d,{then:function(){},status:"rejected",reason:At},wr())}finally{Vr(N),jt.T=W}}function pu(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:Mc,baseState:Mc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:Mc},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:x},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function kf(){return br(Uo)}function mu(){return he().memoizedState}function vo(){return he().memoizedState}function rg(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var x=wr();f=ct(x);var C=ft(d,f,x);C!==null&&(ti(C,d,x),gt(C,d,x)),d={cache:vl()},f.payload=d;return}d=d.return}}function Nh(f,d,x){var C=wr();x={lane:C,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Ff(f)?jr(d,x):(x=ke(f,d,x,C),x!==null&&(ti(x,f,C),ml(x,d,C)))}function ag(f,d,x){var C=wr();pl(f,d,x,C)}function pl(f,d,x,C){var D={lane:C,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Ff(f))jr(d,D);else{var N=f.alternate;if(f.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var W=d.lastRenderedState,oe=N(W,x);if(D.hasEagerState=!0,D.eagerState=oe,Xr(oe,W))return Yt(f,d,D,0),Kn===null&&ne(),!1}catch{}finally{}if(x=ke(f,d,D,C),x!==null)return ti(x,f,C),ml(x,d,C),!0}return!1}function gu(f,d,x,C){if(C={lane:2,revertLane:Fe(),action:C,hasEagerState:!1,eagerState:null,next:null},Ff(f)){if(d)throw Error(r(479))}else d=ke(f,x,C,2),d!==null&&ti(d,f,2)}function Ff(f){var d=f.alternate;return f===Kt||d!==null&&d===Kt}function jr(f,d){Dc=jo=!0;var x=f.pending;x===null?d.next=d:(d.next=x.next,x.next=d),f.pending=d}function ml(f,d,x){if((x&4194176)!==0){var C=d.lanes;C&=f.pendingLanes,x|=C,d.lanes=x,$(f,x)}}function yu(f,d,x,C){d=f.memoizedState,x=x(C,d),x=x==null?d:Di({},d,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}function vu(f,d,x,C,D,N,W){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,N,W):d.prototype&&d.prototype.isPureReactComponent?!Oe(x,C)||!Oe(D,N):!0}function lv(f,d,x,C){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,C),d.state!==f&&Vu.enqueueReplaceState(d,d.state,null)}function xo(f,d){var x=d;if("ref"in d){x={};for(var C in d)C!=="ref"&&(x[C]=d[C])}if(f=f.defaultProps){x===d&&(x=Di({},x));for(var D in f)x[D]===void 0&&(x[D]=f[D])}return x}function xu(f,d){try{var x=f.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function bu(f,d,x){try{var C=f.onCaughtError;C(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Su(f,d,x){return x=ct(x),x.tag=3,x.payload={element:null},x.callback=function(){xu(f,d)},x}function sg(f){return f=ct(f),f.tag=3,f}function cv(f,d,x,C){var D=x.type.getDerivedStateFromError;if(typeof D=="function"){var N=C.value;f.payload=function(){return D(N)},f.callback=function(){bu(d,x,C)}}var W=x.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(f.callback=function(){bu(d,x,C),typeof D!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var oe=C.stack;this.componentDidCatch(C.value,{componentStack:oe!==null?oe:""})})}function m_(f,d,x,C,D){if(x.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=x.alternate,d!==null&&Vf(d,x,D,!0),x=ca.current,x!==null){switch(x.tag){case 13:return Qa===null?qa():x.alternate===null&&pi===0&&(pi=3),x.flags&=-257,x.flags|=65536,x.lanes=D,C===Wr?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([C]):d.add(C),Cl(f,C,D)),!1;case 22:return x.flags|=65536,C===Wr?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([C]):x.add(C)),Cl(f,C,D)),!1}throw Error(r(435,x.tag))}return Cl(f,C,D),qa(),!1}if(Rn)return d=ca.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,C!==gd&&(f=Error(r(422),{cause:C}),ht(de(f,x)))):(C!==gd&&(d=Error(r(423),{cause:C}),ht(de(d,x))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,C=de(C,x),D=Su(f.stateNode,C,D),ue(f,D),pi!==4&&(pi=2)),!1;var N=Error(r(520),{cause:C});if(N=de(N,x),Wu===null?Wu=[N]:Wu.push(N),pi!==4&&(pi=2),d===null)return!0;C=de(C,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,f=D&-D,x.lanes|=f,f=Su(x.stateNode,C,f),ue(x,f),!1;case 1:if(d=x.type,N=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(eo===null||!eo.has(N))))return x.flags|=65536,D&=-D,x.lanes|=D,D=sg(D),cv(D,f,x,C),ue(x,D),!1}x=x.return}while(x!==null);return!1}function xr(f,d,x,C){d.child=f===null?Zs(d,null,x,C):Hl(d,f.child,x,C)}function Uh(f,d,x,C,D){x=x.render;var N=d.ref;if("ref"in C){var W={};for(var oe in C)oe!=="ref"&&(W[oe]=C[oe])}else W=C;return yl(d),C=hl(f,d,x,W,N,D),oe=yo(),f!==null&&!Yi?(uc(f,d,D),bo(f,d,D)):(Rn&&oe&&Ce(d),d.flags|=1,xr(f,d,C,D),d.child)}function uv(f,d,x,C,D){if(f===null){var N=x.type;return typeof N=="function"&&!Ro(N)&&N.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=N,fv(f,d,N,C,D)):(f=Sc(x.type,null,C,d,d.mode,D),f.ref=d.ref,f.return=d,d.child=f)}if(N=f.child,!fg(f,D)){var W=N.memoizedProps;if(x=x.compare,x=x!==null?x:Oe,x(W,C)&&f.ref===d.ref)return bo(f,d,D)}return d.flags|=1,f=Bo(N,C),f.ref=d.ref,f.return=d,d.child=f}function fv(f,d,x,C,D){if(f!==null){var N=f.memoizedProps;if(Oe(N,C)&&f.ref===d.ref)if(Yi=!1,d.pendingProps=C=N,fg(f,D))(f.flags&131072)!==0&&(Yi=!0);else return d.lanes=f.lanes,bo(f,d,D)}return Ph(f,d,x,C,D)}function dv(f,d,x){var C=d.pendingProps,D=C.children,N=(d.stateNode._pendingVisibility&2)!==0,W=f!==null?f.memoizedState:null;if(Hf(f,d),C.mode==="hidden"||N){if((d.flags&128)!==0){if(C=W!==null?W.baseLanes|x:x,f!==null){for(D=d.child=f.child,N=0;D!==null;)N=N|D.lanes|D.childLanes,D=D.sibling;d.childLanes=N&~C}else d.childLanes=0,d.child=null;return hv(f,d,C,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&kh(d,W!==null?W.cachePool:null),W!==null?Of(d,W):cc(),hu(d);else return d.lanes=d.childLanes=536870912,hv(f,d,W!==null?W.baseLanes|x:x,x)}else W!==null?(kh(d,W.cachePool),Of(d,W),ps(),d.memoizedState=null):(f!==null&&kh(d,null),cc(),ps());return xr(f,d,D,x),d.child}function hv(f,d,x,C){var D=hg();return D=D===null?null:{parent:xs?Mi._currentValue:Mi._currentValue2,pool:D},d.memoizedState={baseLanes:x,cachePool:D},f!==null&&kh(d,null),cc(),hu(d),f!==null&&Vf(f,d,C,!0),null}function Hf(f,d){var x=d.ref;if(x===null)f!==null&&f.ref!==null&&(d.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(f===null||f.ref!==x)&&(d.flags|=2097664)}}function Ph(f,d,x,C,D){return yl(d),x=hl(f,d,x,C,void 0,D),C=yo(),f!==null&&!Yi?(uc(f,d,D),bo(f,d,D)):(Rn&&C&&Ce(d),d.flags|=1,xr(f,d,x,D),d.child)}function pv(f,d,x,C,D,N){return yl(d),d.updateQueue=null,x=Rh(d,C,x,D),wh(f),C=yo(),f!==null&&!Yi?(uc(f,d,N),bo(f,d,N)):(Rn&&C&&Ce(d),d.flags|=1,xr(f,d,x,N),d.child)}function mv(f,d,x,C,D){if(yl(d),d.stateNode===null){var N=wc,W=x.contextType;typeof W=="object"&&W!==null&&(N=br(W)),N=new x(C,N),d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Vu,d.stateNode=N,N._reactInternals=d,N=d.stateNode,N.props=C,N.state=d.memoizedState,N.refs={},We(d),W=x.contextType,N.context=typeof W=="object"&&W!==null?br(W):wc,N.state=d.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(yu(d,x,W,C),N.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(W=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),W!==N.state&&Vu.enqueueReplaceState(N,N.state,null),yt(d,C,N,D),Ie(),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(f===null){N=d.stateNode;var oe=d.memoizedProps,Se=xo(x,oe);N.props=Se;var Ye=N.context,ut=x.contextType;W=wc,typeof ut=="object"&&ut!==null&&(W=br(ut));var At=x.getDerivedStateFromProps;ut=typeof At=="function"||typeof N.getSnapshotBeforeUpdate=="function",oe=d.pendingProps!==oe,ut||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(oe||Ye!==W)&&lv(d,N,C,W),zr=!1;var lt=d.memoizedState;N.state=lt,yt(d,C,N,D),Ie(),Ye=d.memoizedState,oe||lt!==Ye||zr?(typeof At=="function"&&(yu(d,x,At,C),Ye=d.memoizedState),(Se=zr||vu(d,x,Se,C,lt,Ye,W))?(ut||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=Ye),N.props=C,N.state=Ye,N.context=W,C=Se):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{N=d.stateNode,it(f,d),W=d.memoizedProps,ut=xo(x,W),N.props=ut,At=d.pendingProps,lt=N.context,Ye=x.contextType,Se=wc,typeof Ye=="object"&&Ye!==null&&(Se=br(Ye)),oe=x.getDerivedStateFromProps,(Ye=typeof oe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(W!==At||lt!==Se)&&lv(d,N,C,Se),zr=!1,lt=d.memoizedState,N.state=lt,yt(d,C,N,D),Ie();var Jt=d.memoizedState;W!==At||lt!==Jt||zr||f!==null&&f.dependencies!==null&&Xf(f.dependencies)?(typeof oe=="function"&&(yu(d,x,oe,C),Jt=d.memoizedState),(ut=zr||vu(d,x,ut,C,lt,Jt,Se)||f!==null&&f.dependencies!==null&&Xf(f.dependencies))?(Ye||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(C,Jt,Se),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(C,Jt,Se)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||W===f.memoizedProps&&lt===f.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===f.memoizedProps&&lt===f.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=Jt),N.props=C,N.state=Jt,N.context=Se,C=ut):(typeof N.componentDidUpdate!="function"||W===f.memoizedProps&&lt===f.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===f.memoizedProps&&lt===f.memoizedState||(d.flags|=1024),C=!1)}return N=C,Hf(f,d),C=(d.flags&128)!==0,N||C?(N=d.stateNode,x=C&&typeof x.getDerivedStateFromError!="function"?null:N.render(),d.flags|=1,f!==null&&C?(d.child=Hl(d,f.child,null,D),d.child=Hl(d,null,x,D)):xr(f,d,x,D),d.memoizedState=N.state,f=d.child):f=bo(f,d,D),f}function gv(f,d,x,C){return Et(),d.flags|=256,xr(f,d,x,C),d.child}function og(f){return{baseLanes:f,cachePool:pg()}}function jf(f,d,x){return f=f!==null?f.childLanes&~x:0,d&&(f|=za),f}function yv(f,d,x){var C=d.pendingProps,D=!1,N=(d.flags&128)!==0,W;if((W=N)||(W=f!==null&&f.memoizedState===null?!1:(ni.current&2)!==0),W&&(D=!0,d.flags&=-129),W=(d.flags&32)!==0,d.flags&=-33,f===null){if(Rn){if(D?Ma(d):ps(),Rn){var oe=Wn,Se;(Se=oe)&&(oe=sx(oe,_s),oe!==null?(d.memoizedState={dehydrated:oe,treeContext:As!==null?{id:qs,overflow:Js}:null,retryLane:536870912},Se=t(18,null,null,0),Se.stateNode=oe,Se.return=d,d.child=Se,Ni=d,Wn=null,Se=!0):Se=!1),Se||Ge(d)}if(oe=d.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return dd(oe)?d.lanes=16:d.lanes=536870912,null;Bi(d)}return oe=C.children,C=C.fallback,D?(ps(),D=d.mode,oe=cg({mode:"hidden",children:oe},D),C=Tl(C,D,x,null),oe.return=d,C.return=d,oe.sibling=C,d.child=oe,D=d.child,D.memoizedState=og(x),D.childLanes=jf(f,W,x),d.memoizedState=xd,C):(Ma(d),lg(d,oe))}if(Se=f.memoizedState,Se!==null&&(oe=Se.dehydrated,oe!==null)){if(N)d.flags&256?(Ma(d),d.flags&=-257,d=Ih(f,d,x)):d.memoizedState!==null?(ps(),d.child=f.child,d.flags|=128,d=null):(ps(),D=C.fallback,oe=d.mode,C=cg({mode:"visible",children:C.children},oe),D=Tl(D,oe,x,null),D.flags|=2,C.return=d,D.return=d,C.sibling=D,d.child=C,Hl(d,f.child,null,x),C=d.child,C.memoizedState=og(x),C.childLanes=jf(f,W,x),d.memoizedState=xd,d=D);else if(Ma(d),dd(oe))W=sp(oe).digest,C=Error(r(419)),C.stack="",C.digest=W,ht({value:C,source:null,stack:null}),d=Ih(f,d,x);else if(Yi||Vf(f,d,x,!1),W=(x&f.childLanes)!==0,Yi||W){if(W=Kn,W!==null){if(C=x&-x,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(W.suspendedLanes|x))!==0?0:C,C!==0&&C!==Se.retryLane)throw Se.retryLane=C,De(f,C),ti(W,f,C),$g}Ec(oe)||qa(),d=Ih(f,d,x)}else Ec(oe)?(d.flags|=128,d.child=f.child,d=od.bind(null,f),ix(oe,d),d=null):(f=Se.treeContext,sa&&(Wn=Ig(oe),Ni=d,Rn=!0,Za=null,_s=!1,f!==null&&(oa[Dr++]=qs,oa[Dr++]=Js,oa[Dr++]=As,qs=f.id,Js=f.overflow,As=d)),d=lg(d,C.children),d.flags|=4096);return d}return D?(ps(),D=C.fallback,oe=d.mode,Se=f.child,N=Se.sibling,C=Bo(Se,{mode:"hidden",children:C.children}),C.subtreeFlags=Se.subtreeFlags&31457280,N!==null?D=Bo(N,D):(D=Tl(D,oe,x,null),D.flags|=2),D.return=d,C.return=d,C.sibling=D,d.child=C,C=D,D=d.child,oe=f.child.memoizedState,oe===null?oe=og(x):(Se=oe.cachePool,Se!==null?(N=xs?Mi._currentValue:Mi._currentValue2,Se=Se.parent!==N?{parent:N,pool:N}:Se):Se=pg(),oe={baseLanes:oe.baseLanes|x,cachePool:Se}),D.memoizedState=oe,D.childLanes=jf(f,W,x),d.memoizedState=xd,C):(Ma(d),x=f.child,f=x.sibling,x=Bo(x,{mode:"visible",children:C.children}),x.return=d,x.sibling=null,f!==null&&(W=d.deletions,W===null?(d.deletions=[f],d.flags|=16):W.push(f)),d.child=x,d.memoizedState=null,x)}function lg(f,d){return d=cg({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function cg(f,d){return Zh(f,d,0,null)}function Ih(f,d,x){return Hl(d,f.child,null,x),f=lg(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function vv(f,d,x){f.lanes|=d;var C=f.alternate;C!==null&&(C.lanes|=d),Gf(f.return,d,x)}function ug(f,d,x,C,D){var N=f.memoizedState;N===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:x,tailMode:D}:(N.isBackwards=d,N.rendering=null,N.renderingStartTime=0,N.last=C,N.tail=x,N.tailMode=D)}function xv(f,d,x){var C=d.pendingProps,D=C.revealOrder,N=C.tail;if(xr(f,d,C.children,x),C=ni.current,(C&2)!==0)C=C&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&vv(f,x,d);else if(f.tag===19)vv(f,x,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}switch(z(ni,C),D){case"forwards":for(x=d.child,D=null;x!==null;)f=x.alternate,f!==null&&Si(f)===null&&(D=x),x=x.sibling;x=D,x===null?(D=d.child,d.child=null):(D=x.sibling,x.sibling=null),ug(d,!1,D,x,N);break;case"backwards":for(x=null,D=d.child,d.child=null;D!==null;){if(f=D.alternate,f!==null&&Si(f)===null){d.child=D;break}f=D.sibling,D.sibling=x,x=D,D=f}ug(d,!0,x,null,N);break;case"together":ug(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function bo(f,d,x){if(f!==null&&(d.dependencies=f.dependencies),is|=d.lanes,(x&d.childLanes)===0)if(f!==null){if(Vf(f,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,x=Bo(f,f.pendingProps),d.child=x,x.return=d;f.sibling!==null;)f=f.sibling,x=x.sibling=Bo(f,f.pendingProps),x.return=d;x.sibling=null}return d.child}function fg(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&Xf(f)))}function g_(f,d,x){switch(d.tag){case 3:se(d,d.stateNode.containerInfo),gl(d,Mi,f.memoizedState.cache),Et();break;case 27:case 5:Ae(d);break;case 4:se(d,d.stateNode.containerInfo);break;case 10:gl(d,d.type,d.memoizedProps.value);break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(Ma(d),d.flags|=128,null):(x&d.child.childLanes)!==0?yv(f,d,x):(Ma(d),f=bo(f,d,x),f!==null?f.sibling:null);Ma(d);break;case 19:var D=(f.flags&128)!==0;if(C=(x&d.childLanes)!==0,C||(Vf(f,d,x,!1),C=(x&d.childLanes)!==0),D){if(C)return xv(f,d,x);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),z(ni,ni.current),C)break;return null;case 22:case 23:return d.lanes=0,dv(f,d,x);case 24:gl(d,Mi,f.memoizedState.cache)}return bo(f,d,x)}function bv(f,d,x){if(f!==null)if(f.memoizedProps!==d.pendingProps)Yi=!0;else{if(!fg(f,x)&&(d.flags&128)===0)return Yi=!1,g_(f,d,x);Yi=(f.flags&131072)!==0}else Yi=!1,Rn&&(d.flags&1048576)!==0&&te(d,Fu,d.index);switch(d.lanes=0,d.tag){case 16:e:{f=d.pendingProps;var C=d.elementType,D=C._init;if(C=D(C._payload),d.type=C,typeof C=="function")Ro(C)?(f=xo(C,f),d.tag=1,d=mv(null,d,C,f,x)):(d.tag=0,d=Ph(null,d,C,f,x));else{if(C!=null){if(D=C.$$typeof,D===Qh){d.tag=11,d=Uh(null,d,C,f,x);break e}else if(D===Du){d.tag=14,d=uv(null,d,C,f,x);break e}}throw d=o(C)||C,Error(r(306,d,""))}}return d;case 0:return Ph(f,d,d.type,d.pendingProps,x);case 1:return C=d.type,D=xo(C,d.pendingProps),mv(f,d,C,D,x);case 3:e:{if(se(d,d.stateNode.containerInfo),f===null)throw Error(r(387));var N=d.pendingProps;D=d.memoizedState,C=D.element,it(f,d),yt(d,N,null,x);var W=d.memoizedState;if(N=W.cache,gl(d,Mi,N),N!==D.cache&&hc(d,[Mi],x,!0),Ie(),N=W.element,sa&&D.isDehydrated)if(D={element:N,isDehydrated:!1,cache:W.cache},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){d=gv(f,d,N,x);break e}else if(N!==C){C=de(Error(r(424)),d),ht(C),d=gv(f,d,N,x);break e}else for(sa&&(Wn=Cc(d.stateNode.containerInfo),Ni=d,Rn=!0,Za=null,_s=!0),x=Zs(d,null,N,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Et(),N===C){d=bo(f,d,x);break e}xr(f,d,N,x)}d=d.child}return d;case 26:if(wa)return Hf(f,d),f===null?(x=jg(d.type,null,d.pendingProps,null))?d.memoizedState=x:Rn||(d.stateNode=Wg(d.type,d.pendingProps,ko.current,d)):d.memoizedState=jg(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(hr)return Ae(d),f===null&&hr&&Rn&&(C=d.stateNode=cp(d.type,d.pendingProps,ko.current,Oi.current,!1),Ni=d,_s=!0,Wn=Po(C)),C=d.pendingProps.children,f!==null||Rn?xr(f,d,C,x):d.child=Hl(d,null,C,x),Hf(f,d),d.child;case 5:return f===null&&Rn&&(fx(d.type,d.pendingProps,Oi.current),(D=C=Wn)&&(C=kg(C,d.type,d.pendingProps,_s),C!==null?(d.stateNode=C,Ni=d,Wn=Po(C),_s=!1,D=!0):D=!1),D||Ge(d)),Ae(d),D=d.type,N=d.pendingProps,W=f!==null?f.memoizedProps:null,C=N.children,Ar(D,N)?C=null:W!==null&&Ar(D,W)&&(d.flags|=32),d.memoizedState!==null&&(D=hl(f,d,Bh,null,null,x),xs?Uo._currentValue=D:Uo._currentValue2=D),Hf(f,d),xr(f,d,C,x),d.child;case 6:return f===null&&Rn&&(E_(d.pendingProps,Oi.current),(f=x=Wn)&&(x=ax(x,d.pendingProps,_s),x!==null?(d.stateNode=x,Ni=d,Wn=null,f=!0):f=!1),f||Ge(d)),null;case 13:return yv(f,d,x);case 4:return se(d,d.stateNode.containerInfo),C=d.pendingProps,f===null?d.child=Hl(d,null,C,x):xr(f,d,C,x),d.child;case 11:return Uh(f,d,d.type,d.pendingProps,x);case 7:return xr(f,d,d.pendingProps,x),d.child;case 8:return xr(f,d,d.pendingProps.children,x),d.child;case 12:return xr(f,d,d.pendingProps.children,x),d.child;case 10:return C=d.pendingProps,gl(d,d.type,C.value),xr(f,d,C.children,x),d.child;case 9:return D=d.type._context,C=d.pendingProps.children,yl(d),D=br(D),C=C(D),d.flags|=1,xr(f,d,C,x),d.child;case 14:return uv(f,d,d.type,d.pendingProps,x);case 15:return fv(f,d,d.type,d.pendingProps,x);case 19:return xv(f,d,x);case 22:return dv(f,d,x);case 24:return yl(d),C=br(Mi),f===null?(D=hg(),D===null&&(D=Kn,N=vl(),D.pooledCache=N,N.refCount++,N!==null&&(D.pooledCacheLanes|=x),D=N),d.memoizedState={parent:C,cache:D},We(d),gl(d,Mi,D)):((f.lanes&x)!==0&&(it(f,d),yt(d,null,null,x),Ie()),D=f.memoizedState,N=d.memoizedState,D.parent!==C?(D={parent:C,cache:C},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),gl(d,Mi,C)):(C=N.cache,gl(d,Mi,C),C!==D.cache&&hc(d,[Mi],x,!0))),xr(f,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function gl(f,d,x){xs?(z($a,d._currentValue),d._currentValue=x):(z($a,d._currentValue2),d._currentValue2=x)}function So(f){var d=$a.current;xs?f._currentValue=d:f._currentValue2=d,A($a)}function Gf(f,d,x){for(;f!==null;){var C=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),f===x)break;f=f.return}}function hc(f,d,x,C){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var N=D.dependencies;if(N!==null){var W=D.child;N=N.firstContext;e:for(;N!==null;){var oe=N;N=D;for(var Se=0;Se<d.length;Se++)if(oe.context===d[Se]){N.lanes|=x,oe=N.alternate,oe!==null&&(oe.lanes|=x),Gf(N.return,x,f),C||(W=null);break e}N=oe.next}}else if(D.tag===18){if(W=D.return,W===null)throw Error(r(341));W.lanes|=x,N=W.alternate,N!==null&&(N.lanes|=x),Gf(W,x,f),W=null}else W=D.child;if(W!==null)W.return=D;else for(W=D;W!==null;){if(W===f){W=null;break}if(D=W.sibling,D!==null){D.return=W.return,W=D;break}W=W.return}D=W}}function Vf(f,d,x,C){f=null;for(var D=d,N=!1;D!==null;){if(!N){if((D.flags&524288)!==0)N=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var W=D.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var oe=D.type;Xr(D.pendingProps.value,W.value)||(f!==null?f.push(oe):f=[oe])}}else if(D===md.current){if(W=D.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(Uo):f=[Uo])}D=D.return}f!==null&&hc(d,f,x,C),d.flags|=262144}function Xf(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!Xr(xs?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function yl(f){Wl=f,es=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function br(f){return dg(Wl,f)}function Wf(f,d){return Wl===null&&yl(f),dg(f,d)}function dg(f,d){var x=xs?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:x,next:null},es===null){if(f===null)throw Error(r(308));es=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else es=es.next=d;return x}function vl(){return{controller:new bd,data:new Map,refCount:0}}function Yf(f){f.refCount--,f.refCount===0&&vi(T_,function(){f.controller.abort()})}function hg(){var f=zc.current;return f!==null?f:Kn.pooledCache}function kh(f,d){d===null?z(zc,zc.current):z(zc,d.pool)}function pg(){var f=hg();return f===null?null:{parent:xs?Mi._currentValue:Mi._currentValue2,pool:f}}function ea(f){f.flags|=4}function Au(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function pc(f,d,x,C){if(di)for(x=d.child;x!==null;){if(x.tag===5||x.tag===6)ud(f,x.stateNode);else if(!(x.tag===4||hr&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(bs)for(var D=d.child;D!==null;){if(D.tag===5){var N=D.stateNode;x&&C&&(N=nx(N,D.type,D.memoizedProps)),ud(f,N)}else if(D.tag===6)N=D.stateNode,x&&C&&(N=Pg(N,D.memoizedProps)),ud(f,N);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)N=D.child,N!==null&&(N.return=D),pc(f,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Sv(f,d,x,C){if(bs)for(var D=d.child;D!==null;){if(D.tag===5){var N=D.stateNode;x&&C&&(N=nx(N,D.type,D.memoizedProps)),Ug(f,N)}else if(D.tag===6)N=D.stateNode,x&&C&&(N=Pg(N,D.memoizedProps)),Ug(f,N);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)N=D.child,N!==null&&(N.return=D),Sv(f,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Kf(f,d){if(bs&&Au(f,d)){f=d.stateNode;var x=f.containerInfo,C=ap();Sv(C,d,!1,!1),f.pendingChildren=C,ea(d),ex(x,C)}}function Fh(f,d,x,C){if(di)f.memoizedProps!==C&&ea(d);else if(bs){var D=f.stateNode,N=f.memoizedProps;if((f=Au(f,d))||N!==C){var W=Oi.current;N=$v(D,x,N,C,!f,null),N===D?d.stateNode=D:($h(N,x,C,W)&&ea(d),d.stateNode=N,f?pc(N,d,!1,!1):ea(d))}else d.stateNode=D}}function Hh(f,d,x){if(Bg(d,x)){if(f.flags|=16777216,!Dg(d,x))if(dr())f.flags|=8192;else throw Lr=Wr,vd}else f.flags&=-16777217}function jh(f,d){if(px(d)){if(f.flags|=16777216,!Yg(d))if(dr())f.flags|=8192;else throw Lr=Wr,vd}else f.flags&=-16777217}function _u(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?P():536870912,f.lanes|=d,qi|=d)}function Mu(f,d){if(!Rn)switch(f.tailMode){case"hidden":d=f.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var C=null;x!==null;)x.alternate!==null&&(C=x),x=x.sibling;C===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function fi(f){var d=f.alternate!==null&&f.alternate.child===f.child,x=0,C=0;if(d)for(var D=f.child;D!==null;)x|=D.lanes|D.childLanes,C|=D.subtreeFlags&31457280,C|=D.flags&31457280,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)x|=D.lanes|D.childLanes,C|=D.subtreeFlags,C|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=C,f.childLanes=x,d}function Av(f,d,x){var C=d.pendingProps;switch(He(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(d),null;case 1:return fi(d),null;case 3:return x=d.stateNode,C=null,f!==null&&(C=f.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),So(Mi),we(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(at(d)?ea(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Za!==null&&(To(Za),Za=null))),Kf(f,d),fi(d),null;case 26:if(wa){x=d.type;var D=d.memoizedState;return f===null?(ea(d),D!==null?(fi(d),jh(d,D)):(fi(d),Hh(d,x,C))):D?D!==f.memoizedState?(ea(d),fi(d),jh(d,D)):(fi(d),d.flags&=-16777217):(di?f.memoizedProps!==C&&ea(d):Fh(f,d,x,C),fi(d),Hh(d,x,C)),null}case 27:if(hr){if(Xe(d),x=ko.current,D=d.type,f!==null&&d.stateNode!=null)di?f.memoizedProps!==C&&ea(d):Fh(f,d,D,C);else{if(!C){if(d.stateNode===null)throw Error(r(166));return fi(d),null}f=Oi.current,at(d)?vt(d,f):(f=cp(D,C,x,f,!0),d.stateNode=f,ea(d))}return fi(d),null}case 5:if(Xe(d),x=d.type,f!==null&&d.stateNode!=null)Fh(f,d,x,C);else{if(!C){if(d.stateNode===null)throw Error(r(166));return fi(d),null}f=Oi.current,at(d)?vt(d,f):(D=Rg(x,C,ko.current,f,d),pc(D,d,!1,!1),d.stateNode=D,$h(D,x,C,f)&&ea(d))}return fi(d),Hh(d,d.type,d.pendingProps),null;case 6:if(f&&d.stateNode!=null)x=f.memoizedProps,di?x!==C&&ea(d):bs&&(x!==C?(d.stateNode=zi(C,ko.current,Oi.current,d),ea(d)):d.stateNode=f.stateNode);else{if(typeof C!="string"&&d.stateNode===null)throw Error(r(166));if(f=ko.current,x=Oi.current,at(d)){if(!sa)throw Error(r(176));if(f=d.stateNode,x=d.memoizedProps,C=null,D=Ni,D!==null)switch(D.tag){case 27:case 5:C=D.memoizedProps}op(f,x,d,C)||Ge(d)}else d.stateNode=zi(C,f,x,d)}return fi(d),null;case 13:if(C=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=at(d),C!==null&&C.dehydrated!==null){if(f===null){if(!D)throw Error(r(318));if(!sa)throw Error(r(344));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));ox(D,d)}else Et(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;fi(d),D=!1}else Za!==null&&(To(Za),Za=null),D=!0;if(!D)return d.flags&256?(Bi(d),d):(Bi(d),null)}if(Bi(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=C!==null,f=f!==null&&f.memoizedState!==null,x){C=d.child,D=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(D=C.alternate.memoizedState.cachePool.pool);var N=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(N=C.memoizedState.cachePool.pool),N!==D&&(C.flags|=2048)}return x!==f&&x&&(d.child.flags|=8192),_u(d,d.updateQueue),fi(d),null;case 4:return we(),Kf(f,d),f===null&&zv(d.stateNode.containerInfo),fi(d),null;case 10:return So(d.type),fi(d),null;case 19:if(A(ni),D=d.memoizedState,D===null)return fi(d),null;if(C=(d.flags&128)!==0,N=D.rendering,N===null)if(C)Mu(D,!1);else{if(pi!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(N=Si(f),N!==null){for(d.flags|=128,Mu(D,!1),f=N.updateQueue,d.updateQueue=f,_u(d,f),d.subtreeFlags=0,f=x,x=d.child;x!==null;)bc(x,f),x=x.sibling;return z(ni,ni.current&1|2),d.child}f=f.sibling}D.tail!==null&&Ra()>La&&(d.flags|=128,C=!0,Mu(D,!1),d.lanes=4194304)}else{if(!C)if(f=Si(N),f!==null){if(d.flags|=128,C=!0,f=f.updateQueue,d.updateQueue=f,_u(d,f),Mu(D,!0),D.tail===null&&D.tailMode==="hidden"&&!N.alternate&&!Rn)return fi(d),null}else 2*Ra()-D.renderingStartTime>La&&x!==536870912&&(d.flags|=128,C=!0,Mu(D,!1),d.lanes=4194304);D.isBackwards?(N.sibling=d.child,d.child=N):(f=D.last,f!==null?f.sibling=N:d.child=N,D.last=N)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=Ra(),d.sibling=null,f=ni.current,z(ni,C?f&1|2:f&1),d):(fi(d),null);case 22:case 23:return Bi(d),Xa(),C=d.memoizedState!==null,f!==null?f.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(x&536870912)!==0&&(d.flags&128)===0&&(fi(d),d.subtreeFlags&6&&(d.flags|=8192)):fi(d),x=d.updateQueue,x!==null&&_u(d,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==x&&(d.flags|=2048),f!==null&&A(zc),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),So(Mi),fi(d),null;case 25:return null}throw Error(r(156,d.tag))}function y_(f,d){switch(He(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return So(Mi),we(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return Xe(d),null;case 13:if(Bi(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Et()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return A(ni),null;case 4:return we(),null;case 10:return So(d.type),null;case 22:case 23:return Bi(d),Xa(),f!==null&&A(zc),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return So(Mi),null;case 25:return null;default:return null}}function _v(f,d){switch(He(d),d.tag){case 3:So(Mi),we();break;case 26:case 27:case 5:Xe(d);break;case 4:we();break;case 13:Bi(d);break;case 19:A(ni);break;case 10:So(d.type);break;case 22:case 23:Bi(d),Xa(),f!==null&&A(zc);break;case 24:So(Mi)}}function qf(f,d){try{var x=d.updateQueue,C=x!==null?x.lastEffect:null;if(C!==null){var D=C.next;x=D;do{if((x.tag&f)===f){C=void 0;var N=x.create,W=x.inst;C=N(),W.destroy=C}x=x.next}while(x!==D)}}catch(oe){In(d,d.return,oe)}}function xl(f,d,x){try{var C=d.updateQueue,D=C!==null?C.lastEffect:null;if(D!==null){var N=D.next;C=N;do{if((C.tag&f)===f){var W=C.inst,oe=W.destroy;if(oe!==void 0){W.destroy=void 0,D=d;var Se=x;try{oe()}catch(Ye){In(D,Se,Ye)}}}C=C.next}while(C!==N)}}catch(Ye){In(d,d.return,Ye)}}function Mv(f){var d=f.updateQueue;if(d!==null){var x=f.stateNode;try{st(d,x)}catch(C){In(f,f.return,C)}}}function ta(f,d,x){x.props=xo(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(C){In(f,d,C)}}function vs(f,d){try{var x=f.ref;if(x!==null){var C=f.stateNode;switch(f.tag){case 26:case 27:case 5:var D=_c(C);break;default:D=C}typeof x=="function"?f.refCleanup=x(D):x.current=D}}catch(N){In(f,d,N)}}function na(f,d){var x=f.ref,C=f.refCleanup;if(x!==null)if(typeof C=="function")try{C()}catch(D){In(f,d,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(D){In(f,d,D)}else x.current=null}function mg(f){var d=f.type,x=f.memoizedProps,C=f.stateNode;try{Xv(C,d,x,f)}catch(D){In(f,f.return,D)}}function gg(f,d,x){try{Wv(f.stateNode,f.type,x,d,f)}catch(C){In(f,f.return,C)}}function yg(f){return f.tag===5||f.tag===3||(wa?f.tag===26:!1)||(hr?f.tag===27:!1)||f.tag===4}function Jf(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||yg(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!hr||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function vg(f,d,x){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?Og(x,f,d):Lg(x,f);else if(!(C===4||hr&&C===27)&&(f=f.child,f!==null))for(vg(f,d,x),f=f.sibling;f!==null;)vg(f,d,x),f=f.sibling}function Gh(f,d,x){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?Yv(x,f,d):Gv(x,f);else if(!(C===4||hr&&C===27)&&(f=f.child,f!==null))for(Gh(f,d,x),f=f.sibling;f!==null;)Gh(f,d,x),f=f.sibling}function mc(f,d,x){f=f.containerInfo;try{tx(f,x)}catch(C){In(d,d.return,C)}}function xg(f,d){for(Dv(f.containerInfo),Ut=d;Ut!==null;)if(f=Ut,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Ut=d;else for(;Ut!==null;){f=Ut;var x=f.alternate;switch(d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&x!==null){d=void 0;var C=f,D=x.memoizedProps;x=x.memoizedState;var N=C.stateNode;try{var W=xo(C.type,D,C.elementType===C.type);d=N.getSnapshotBeforeUpdate(W,x),N.__reactInternalSnapshotBeforeUpdate=d}catch(oe){In(C,C.return,oe)}}break;case 3:(d&1024)!==0&&di&&Qv(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,Ut=d;break}Ut=f.return}return W=Zn,Zn=!1,W}function Eu(f,d,x){var C=x.flags;switch(x.tag){case 0:case 11:case 15:_o(f,x),C&4&&qf(5,x);break;case 1:if(_o(f,x),C&4)if(f=x.stateNode,d===null)try{f.componentDidMount()}catch(oe){In(x,x.return,oe)}else{var D=xo(x.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(D,d,f.__reactInternalSnapshotBeforeUpdate)}catch(oe){In(x,x.return,oe)}}C&64&&Mv(x),C&512&&vs(x,x.return);break;case 3:if(_o(f,x),C&64&&(C=x.updateQueue,C!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=_c(x.child.stateNode);break;case 1:f=x.child.stateNode}try{st(C,f)}catch(oe){In(x,x.return,oe)}}break;case 26:if(wa){_o(f,x),C&512&&vs(x,x.return);break}case 27:case 5:_o(f,x),d===null&&C&4&&mg(x),C&512&&vs(x,x.return);break;case 12:_o(f,x);break;case 13:_o(f,x),C&4&&gc(f,x);break;case 22:if(D=x.memoizedState!==null||Xo,!D){d=d!==null&&d.memoizedState!==null||qt;var N=Xo,W=qt;Xo=D,(qt=d)&&!W?bl(f,x,(x.subtreeFlags&8772)!==0):_o(f,x),Xo=N,qt=W}C&512&&(x.memoizedProps.mode==="manual"?vs(x,x.return):na(x,x.return));break;default:_o(f,x)}}function Vh(f){var d=f.alternate;d!==null&&(f.alternate=null,Vh(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&Nv(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Wa(f,d,x){for(x=x.child;x!==null;)Ao(f,d,x),x=x.sibling}function Ao(f,d,x){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(ku,x)}catch{}switch(x.tag){case 26:if(wa){qt||na(x,d),Wa(f,d,x),x.memoizedState?Vg(x.memoizedState):x.stateNode&&Uu(x.stateNode);break}case 27:if(hr){qt||na(x,d);var C=On,D=Ii;On=x.stateNode,Wa(f,d,x),Jg(x.stateNode),On=C,Ii=D;break}case 5:qt||na(x,d);case 6:if(di){if(C=On,D=Ii,On=null,Wa(f,d,x),On=C,Ii=D,On!==null)if(Ii)try{qv(On,x.stateNode)}catch(N){In(x,d,N)}else try{Kv(On,x.stateNode)}catch(N){In(x,d,N)}}else Wa(f,d,x);break;case 18:di&&On!==null&&(Ii?Fg(On,x.stateNode):ux(On,x.stateNode));break;case 4:di?(C=On,D=Ii,On=x.stateNode.containerInfo,Ii=!0,Wa(f,d,x),On=C,Ii=D):(bs&&mc(x.stateNode,x,ap()),Wa(f,d,x));break;case 0:case 11:case 14:case 15:qt||xl(2,x,d),qt||xl(4,x,d),Wa(f,d,x);break;case 1:qt||(na(x,d),C=x.stateNode,typeof C.componentWillUnmount=="function"&&ta(x,d,C)),Wa(f,d,x);break;case 21:Wa(f,d,x);break;case 22:qt||na(x,d),qt=(C=qt)||x.memoizedState!==null,Wa(f,d,x),qt=C;break;default:Wa(f,d,x)}}function gc(f,d){if(sa&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{lp(f)}catch(x){In(d,d.return,x)}}function bg(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new cn),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new cn),d;default:throw Error(r(435,f.tag))}}function Xh(f,d){var x=bg(f);d.forEach(function(C){var D=Jh.bind(null,f,C);x.has(C)||(x.add(C),C.then(D,D))})}function Gi(f,d){var x=d.deletions;if(x!==null)for(var C=0;C<x.length;C++){var D=x[C],N=f,W=d;if(di){var oe=W;e:for(;oe!==null;){switch(oe.tag){case 27:case 5:On=oe.stateNode,Ii=!1;break e;case 3:On=oe.stateNode.containerInfo,Ii=!0;break e;case 4:On=oe.stateNode.containerInfo,Ii=!0;break e}oe=oe.return}if(On===null)throw Error(r(160));Ao(N,W,D),On=null,Ii=!1}else Ao(N,W,D);N=D.alternate,N!==null&&(N.return=null),D.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Sg(d,f),d=d.sibling}function Sg(f,d){var x=f.alternate,C=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Gi(d,f),ia(f),C&4&&(xl(3,f,f.return),qf(3,f),xl(5,f,f.return));break;case 1:Gi(d,f),ia(f),C&512&&(qt||x===null||na(x,x.return)),C&64&&Xo&&(f=f.updateQueue,f!==null&&(C=f.callbacks,C!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?C:x.concat(C))));break;case 26:if(wa){var D=Nr;Gi(d,f),ia(f),C&512&&(qt||x===null||na(x,x.return)),C&4&&(C=x!==null?x.memoizedState:null,d=f.memoizedState,x===null?d===null?f.stateNode===null?f.stateNode=dx(D,f.type,f.memoizedProps,f):Xg(D,f.type,f.stateNode):f.stateNode=Gg(D,d,f.memoizedProps):C!==d?(C===null?x.stateNode!==null&&Uu(x.stateNode):Vg(C),d===null?Xg(D,f.type,f.stateNode):Gg(D,d,f.memoizedProps)):d===null&&f.stateNode!==null&&gg(f,f.memoizedProps,x.memoizedProps));break}case 27:if(hr&&C&4&&f.alternate===null){D=f.stateNode;var N=f.memoizedProps;try{mx(D),qg(f.type,N,D,f)}catch(ut){In(f,f.return,ut)}}case 5:if(Gi(d,f),ia(f),C&512&&(qt||x===null||na(x,x.return)),di){if(f.flags&32){d=f.stateNode;try{rp(d)}catch(ut){In(f,f.return,ut)}}C&4&&f.stateNode!=null&&(d=f.memoizedProps,gg(f,d,x!==null?x.memoizedProps:d)),C&1024&&(Yn=!0)}break;case 6:if(Gi(d,f),ia(f),C&4&&di){if(f.stateNode===null)throw Error(r(162));C=f.memoizedProps,x=x!==null?x.memoizedProps:C,d=f.stateNode;try{Vv(d,x,C)}catch(ut){In(f,f.return,ut)}}break;case 3:if(wa?(hx(),D=Nr,Nr=ar(d.containerInfo),Gi(d,f),Nr=D):Gi(d,f),ia(f),C&4){if(di&&sa&&x!==null&&x.memoizedState.isDehydrated)try{cx(d.containerInfo)}catch(ut){In(f,f.return,ut)}if(bs){C=d.containerInfo,x=d.pendingChildren;try{tx(C,x)}catch(ut){In(f,f.return,ut)}}}Yn&&(Yn=!1,Ag(f));break;case 4:wa?(x=Nr,Nr=ar(f.stateNode.containerInfo),Gi(d,f),ia(f),Nr=x):(Gi(d,f),ia(f)),C&4&&bs&&mc(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Gi(d,f),ia(f);break;case 13:Gi(d,f),ia(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(ty=Ra()),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Xh(f,C)));break;case 22:C&512&&(qt||x===null||na(x,x.return)),D=f.memoizedState!==null;var W=x!==null&&x.memoizedState!==null,oe=Xo,Se=qt;if(Xo=oe||D,qt=Se||W,Gi(d,f),qt=Se,Xo=oe,ia(f),d=f.stateNode,d._current=f,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,C&8192&&(d._visibility=D?d._visibility&-2:d._visibility|1,D&&(d=Xo||qt,x===null||W||d||Cu(f)),di&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(x=null,di)for(d=f;;){if(d.tag===5||wa&&d.tag===26||hr&&d.tag===27){if(x===null){W=x=d;try{N=W.stateNode,D?Jv(N):M_(W.stateNode,W.memoizedProps)}catch(ut){In(W,W.return,ut)}}}else if(d.tag===6){if(x===null){W=d;try{var Ye=W.stateNode;D?Zv(Ye):Ng(Ye,W.memoizedProps)}catch(ut){In(W,W.return,ut)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}}C&4&&(C=f.updateQueue,C!==null&&(x=C.retryQueue,x!==null&&(C.retryQueue=null,Xh(f,x))));break;case 19:Gi(d,f),ia(f),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Xh(f,C)));break;case 21:break;default:Gi(d,f),ia(f)}}function ia(f){var d=f.flags;if(d&2){try{if(di&&(!hr||f.tag!==27)){e:{for(var x=f.return;x!==null;){if(yg(x)){var C=x;break e}x=x.return}throw Error(r(160))}switch(C.tag){case 27:if(hr){var D=C.stateNode,N=Jf(f);Gh(f,N,D);break}case 5:var W=C.stateNode;C.flags&32&&(rp(W),C.flags&=-33);var oe=Jf(f);Gh(f,oe,W);break;case 3:case 4:var Se=C.stateNode.containerInfo,Ye=Jf(f);vg(f,Ye,Se);break;default:throw Error(r(161))}}}catch(ut){In(f,f.return,ut)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function Ag(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;Ag(d),d.tag===5&&d.flags&1024&&Pv(d.stateNode),f=f.sibling}}function _o(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Eu(f,d.alternate,d),d=d.sibling}function Cu(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:xl(4,d,d.return),Cu(d);break;case 1:na(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&ta(d,d.return,x),Cu(d);break;case 26:case 27:case 5:na(d,d.return),Cu(d);break;case 22:na(d,d.return),d.memoizedState===null&&Cu(d);break;default:Cu(d)}f=f.sibling}}function bl(f,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,D=f,N=d,W=N.flags;switch(N.tag){case 0:case 11:case 15:bl(D,N,x),qf(4,N);break;case 1:if(bl(D,N,x),C=N,D=C.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Ye){In(C,C.return,Ye)}if(C=N,D=C.updateQueue,D!==null){var oe=C.stateNode;try{var Se=D.shared.hiddenCallbacks;if(Se!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Se.length;D++)le(Se[D],oe)}catch(Ye){In(C,C.return,Ye)}}x&&W&64&&Mv(N),vs(N,N.return);break;case 26:case 27:case 5:bl(D,N,x),x&&C===null&&W&4&&mg(N),vs(N,N.return);break;case 12:bl(D,N,x);break;case 13:bl(D,N,x),x&&W&4&&gc(D,N);break;case 22:N.memoizedState===null&&bl(D,N,x),vs(N,N.return);break;default:bl(D,N,x)}d=d.sibling}}function Wh(f,d){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&Yf(x))}function Yh(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Yf(f))}function Mo(f,d,x,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Ya(f,d,x,C),d=d.sibling}function Ya(f,d,x,C){var D=d.flags;switch(d.tag){case 0:case 11:case 15:Mo(f,d,x,C),D&2048&&qf(9,d);break;case 3:Mo(f,d,x,C),D&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Yf(f)));break;case 12:if(D&2048){Mo(f,d,x,C),f=d.stateNode;try{var N=d.memoizedProps,W=N.id,oe=N.onPostCommit;typeof oe=="function"&&oe(W,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Se){In(d,d.return,Se)}}else Mo(f,d,x,C);break;case 23:break;case 22:N=d.stateNode,d.memoizedState!==null?N._visibility&4?Mo(f,d,x,C):Fs(f,d):N._visibility&4?Mo(f,d,x,C):(N._visibility|=4,Sr(f,d,x,C,(d.subtreeFlags&10256)!==0)),D&2048&&Wh(d.alternate,d);break;case 24:Mo(f,d,x,C),D&2048&&Yh(d.alternate,d);break;default:Mo(f,d,x,C)}}function Sr(f,d,x,C,D){for(D=D&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var N=f,W=d,oe=x,Se=C,Ye=W.flags;switch(W.tag){case 0:case 11:case 15:Sr(N,W,oe,Se,D),qf(8,W);break;case 23:break;case 22:var ut=W.stateNode;W.memoizedState!==null?ut._visibility&4?Sr(N,W,oe,Se,D):Fs(N,W):(ut._visibility|=4,Sr(N,W,oe,Se,D)),D&&Ye&2048&&Wh(W.alternate,W);break;case 24:Sr(N,W,oe,Se,D),D&&Ye&2048&&Yh(W.alternate,W);break;default:Sr(N,W,oe,Se,D)}d=d.sibling}}function Fs(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=f,C=d,D=C.flags;switch(C.tag){case 22:Fs(x,C),D&2048&&Wh(C.alternate,C);break;case 24:Fs(x,C),D&2048&&Yh(C.alternate,C);break;default:Fs(x,C)}d=d.sibling}}function Eo(f){if(f.subtreeFlags&Yl)for(f=f.child;f!==null;)Zf(f),f=f.sibling}function Zf(f){switch(f.tag){case 26:Eo(f),f.flags&Yl&&(f.memoizedState!==null?Kg(Nr,f.memoizedState,f.memoizedProps):zg(f.type,f.memoizedProps));break;case 5:Eo(f),f.flags&Yl&&zg(f.type,f.memoizedProps);break;case 3:case 4:if(wa){var d=Nr;Nr=ar(f.stateNode.containerInfo),Eo(f),Nr=d}else Eo(f);break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=Yl,Yl=16777216,Eo(f),Yl=d):Eo(f));break;default:Eo(f)}}function Qf(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function yc(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var C=d[x];Ut=C,ed(C,f)}Qf(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Co(f),f=f.sibling}function Co(f){switch(f.tag){case 0:case 11:case 15:yc(f),f.flags&2048&&xl(9,f,f.return);break;case 3:yc(f);break;case 12:yc(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&4&&(f.return===null||f.return.tag!==13)?(d._visibility&=-5,$f(f)):yc(f);break;default:yc(f)}}function $f(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var C=d[x];Ut=C,ed(C,f)}Qf(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:xl(8,d,d.return),$f(d);break;case 22:x=d.stateNode,x._visibility&4&&(x._visibility&=-5,$f(d));break;default:$f(d)}f=f.sibling}}function ed(f,d){for(;Ut!==null;){var x=Ut;switch(x.tag){case 0:case 11:case 15:xl(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var C=x.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Yf(x.memoizedState.cache)}if(C=x.child,C!==null)C.return=x,Ut=C;else e:for(x=f;Ut!==null;){C=Ut;var D=C.sibling,N=C.return;if(Vh(C),C===x){Ut=null;break e}if(D!==null){D.return=N,Ut=D;break e}Ut=N}}}function Sl(f){var d=tp(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(f=Fv(f),f===null)throw Error(r(362));return f.stateNode.current}function Kh(f,d){var x=f.tag;switch(d.$$typeof){case oi:if(f.type===d.value)return!0;break;case Ts:e:{for(d=d.value,f=[f,0],x=0;x<f.length;){var C=f[x++],D=C.tag,N=f[x++],W=d[N];if(D!==5&&D!==26&&D!==27||!Ws(C)){for(;W!=null&&Kh(C,W);)N++,W=d[N];if(N===d.length){d=!0;break e}else for(C=C.child;C!==null;)f.push(C,N),C=C.sibling}}d=!1}return d;case Qs:if((x===5||x===26||x===27)&&jv(f.stateNode,d.value))return!0;break;case Kr:if((x===5||x===6||x===26||x===27)&&(f=Hv(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case Xu:if((x===5||x===26||x===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ra(f){switch(f.$$typeof){case oi:return"<"+(o(f.value)||"Unknown")+">";case Ts:return":has("+(ra(f)||"")+")";case Qs:return'[role="'+f.value+'"]';case Kr:return'"'+f.value+'"';case Xu:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function vc(f,d){var x=[];f=[f,0];for(var C=0;C<f.length;){var D=f[C++],N=D.tag,W=f[C++],oe=d[W];if(N!==5&&N!==26&&N!==27||!Ws(D)){for(;oe!=null&&Kh(D,oe);)W++,oe=d[W];if(W===d.length)x.push(D);else for(D=D.child;D!==null;)f.push(D,W),D=D.sibling}}return x}function Al(f,d){if(!Nu)throw Error(r(363));f=Sl(f),f=vc(f,d),d=[],f=Array.from(f);for(var x=0;x<f.length;){var C=f[x++],D=C.tag;if(D===5||D===26||D===27)Ws(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return d}function wr(){if((dn&2)!==0&&hn!==0)return hn&-hn;if(jt.T!==null){var f=si;return f!==0?f:Fe()}return Lv()}function td(){za===0&&(za=(hn&536870912)===0||Rn?F():536870912);var f=ca.current;return f!==null&&(f.flags|=32),za}function ti(f,d,x){(f===Kn&&Gn===2||f.cancelPendingCommit!==null)&&(_l(f,0),Gr(f,hn,za,!1)),G(f,x),((dn&2)===0||f!==Kn)&&(f===Kn&&((dn&2)===0&&(Yo|=x),pi===4&&Gr(f,hn,za,!1)),ze(f))}function Ca(f,d,x){if((dn&6)!==0)throw Error(r(327));var C=!x&&(d&60)===0&&(d&f.expiredLanes)===0||U(f,d),D=C?Ev(f,d):id(f,d,!0),N=C;do{if(D===0){ns&&!C&&Gr(f,d,0,!1);break}else if(D===6)Gr(f,d,0,!ts);else{if(x=f.current.alternate,N&&!wo(x)){D=id(f,d,!1),N=!1;continue}if(D===2){if(N=d,f.errorRecoveryDisabledLanes&N)var W=0;else W=f.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){d=W;e:{var oe=f;D=Wu;var Se=sa&&oe.current.memoizedState.isDehydrated;if(Se&&(_l(oe,W).flags|=256),W=id(oe,W,!1),W!==2){if(Lc&&!Se){oe.errorRecoveryDisabledLanes|=N,Yo|=N,D=4;break e}N=rs,rs=D,N!==null&&To(N)}D=W}if(N=!1,D!==2)continue}}if(D===1){_l(f,0),Gr(f,d,0,!0);break}e:{switch(C=f,D){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Gr(C,d,za,!ts);break e}break;case 2:rs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(C.finishedWork=x,C.finishedLanes=d,(d&62914560)===d&&(N=ty+300-Ra(),10<N)){if(Gr(C,d,za,!ts),O(C,0)!==0)break e;C.timeoutHandle=ep(Hs.bind(null,C,x,rs,Oc,xp,d,za,Yo,qi,ts,2,-0,0),N);break e}Hs(C,x,rs,Oc,xp,d,za,Yo,qi,ts,0,-0,0)}}break}while(!0);ze(f)}function To(f){rs===null?rs=f:rs.push.apply(rs,f)}function Hs(f,d,x,C,D,N,W,oe,Se,Ye,ut,At,lt){var Jt=d.subtreeFlags;if((Jt&8192||(Jt&16785408)===16785408)&&(A_(),Zf(d),d=Uv(),d!==null)){f.cancelPendingCommit=d(qh.bind(null,f,x,C,D,W,oe,Se,1,At,lt)),Gr(f,N,W,!Ye);return}qh(f,x,C,D,W,oe,Se,ut,At,lt)}function wo(f){for(var d=f;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var C=0;C<x.length;C++){var D=x[C],N=D.getSnapshot;D=D.value;try{if(!Xr(N(),D))return!1}catch{return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Gr(f,d,x,C){d&=~qr,d&=~Yo,f.suspendedLanes|=d,f.pingedLanes&=~d,C&&(f.warmLanes|=d),C=f.expirationTimes;for(var D=d;0<D;){var N=31-Li(D),W=1<<N;C[N]=-1,D&=~W}x!==0&&q(f,x,d)}function _g(){return(dn&6)===0?(K(0),!1):!0}function nd(){if(sn!==null){if(Gn===0)var f=sn.return;else f=sn,es=Wl=null,gs(f),Bc=null,Or=0,f=sn;for(;f!==null;)_v(f.alternate,f),f=f.return;sn=null}}function _l(f,d){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==Ou&&(f.timeoutHandle=Ou,fd(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),nd(),Kn=f,sn=x=Bo(f.current,null),hn=d,Gn=0,Ki=null,ts=!1,ns=U(f,d),Lc=!1,qi=za=qr=Yo=is=pi=0,rs=Wu=null,xp=!1,(d&8)!==0&&(d|=d&32);var C=f.entangledLanes;if(C!==0)for(f=f.entanglements,C&=d;0<C;){var D=31-Li(C),N=1<<D;d|=f[D],C&=~N}return ws=d,ne(),x}function Rr(f,d){Kt=null,jt.H=Pi,d===yd?(d=wt(),Gn=3):d===vd?(d=wt(),Gn=4):Gn=d===$g?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ki=d,sn===null&&(pi=1,xu(f,de(d,f.current)))}function dr(){var f=ca.current;return f===null?!0:(hn&4194176)===hn?Qa===null:(hn&62914560)===hn||(hn&536870912)!==0?f===Qa:!1}function wn(){var f=jt.H;return jt.H=Pi,f===null?Pi:f}function Ka(){var f=jt.A;return jt.A=Wo,f}function qa(){pi=4,ts||(hn&4194176)!==hn&&ca.current!==null||(ns=!0),(is&134217727)===0&&(Yo&134217727)===0||Kn===null||Gr(Kn,hn,za,!1)}function id(f,d,x){var C=dn;dn|=2;var D=wn(),N=Ka();(Kn!==f||hn!==d)&&(Oc=null,_l(f,d)),d=!1;var W=pi;e:do try{if(Gn!==0&&sn!==null){var oe=sn,Se=Ki;switch(Gn){case 8:nd(),W=6;break e;case 3:case 2:case 6:ca.current===null&&(d=!0);var Ye=Gn;if(Gn=0,Ki=null,js(f,oe,Se,Ye),x&&ns){W=0;break e}break;default:Ye=Gn,Gn=0,Ki=null,js(f,oe,Se,Ye)}}xc(),W=pi;break}catch(ut){Rr(f,ut)}while(!0);return d&&f.shellSuspendCounter++,es=Wl=null,dn=C,jt.H=D,jt.A=N,sn===null&&(Kn=null,hn=0,ne()),W}function xc(){for(;sn!==null;)Tu(sn)}function Ev(f,d){var x=dn;dn|=2;var C=wn(),D=Ka();Kn!==f||hn!==d?(Oc=null,La=Ra()+500,_l(f,d)):ns=U(f,d);e:do try{if(Gn!==0&&sn!==null){d=sn;var N=Ki;t:switch(Gn){case 1:Gn=0,Ki=null,js(f,d,N,1);break;case 2:if(Ue(N)){Gn=0,Ki=null,wu(d);break}d=function(){Gn===2&&Kn===f&&(Gn=7),ze(f)},N.then(d,d);break e;case 3:Gn=7;break e;case 4:Gn=5;break e;case 7:Ue(N)?(Gn=0,Ki=null,wu(d)):(Gn=0,Ki=null,js(f,d,N,7));break;case 5:var W=null;switch(sn.tag){case 26:W=sn.memoizedState;case 5:case 27:var oe=sn,Se=oe.type,Ye=oe.pendingProps;if(W?Yg(W):Dg(Se,Ye)){Gn=0,Ki=null;var ut=oe.sibling;if(ut!==null)sn=ut;else{var At=oe.return;At!==null?(sn=At,Ml(At)):sn=null}break t}}Gn=0,Ki=null,js(f,d,N,5);break;case 6:Gn=0,Ki=null,js(f,d,N,6);break;case 8:nd(),pi=6;break e;default:throw Error(r(462))}}Cv();break}catch(lt){Rr(f,lt)}while(!0);return es=Wl=null,jt.H=C,jt.A=D,dn=x,sn!==null?0:(Kn=null,hn=0,ne(),pi)}function Cv(){for(;sn!==null&&!Il();)Tu(sn)}function Tu(f){var d=bv(f.alternate,f,ws);f.memoizedProps=f.pendingProps,d===null?Ml(f):sn=d}function wu(f){var d=f,x=d.alternate;switch(d.tag){case 15:case 0:d=pv(x,d,d.pendingProps,d.type,void 0,hn);break;case 11:d=pv(x,d,d.pendingProps,d.type.render,d.ref,hn);break;case 5:gs(d);default:_v(x,d),d=sn=bc(d,ws),d=bv(x,d,ws)}f.memoizedProps=f.pendingProps,d===null?Ml(f):sn=d}function js(f,d,x,C){es=Wl=null,gs(d),Bc=null,Or=0;var D=d.return;try{if(m_(f,D,d,x,hn)){pi=1,xu(f,de(x,f.current)),sn=null;return}}catch(N){if(D!==null)throw sn=D,N;pi=1,xu(f,de(x,f.current)),sn=null;return}d.flags&32768?(Rn||C===1?f=!0:ns||(hn&536870912)!==0?f=!1:(ts=f=!0,(C===2||C===3||C===6)&&(C=ca.current,C!==null&&C.tag===13&&(C.flags|=16384))),Mg(d,f)):Ml(d)}function Ml(f){var d=f;do{if((d.flags&32768)!==0){Mg(d,ts);return}f=d.return;var x=Av(d.alternate,d,ws);if(x!==null){sn=x;return}if(d=d.sibling,d!==null){sn=d;return}sn=d=f}while(d!==null);pi===0&&(pi=5)}function Mg(f,d){do{var x=y_(f.alternate,f);if(x!==null){x.flags&=32767,sn=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(f=f.sibling,f!==null)){sn=f;return}sn=f=x}while(f!==null);pi=6,sn=null}function qh(f,d,x,C,D,N,W,oe,Se,Ye){var ut=jt.T,At=Nl();try{Vr(2),jt.T=null,Tv(f,d,x,C,At,D,N,W,oe,Se,Ye)}finally{jt.T=ut,Vr(At)}}function Tv(f,d,x,C,D,N,W,oe){do El();while(Kl!==null);if((dn&6)!==0)throw Error(r(327));var Se=f.finishedWork;if(C=f.finishedLanes,Se===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Se===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Ye=Se.lanes|Se.childLanes;if(Ye|=Ms,ee(f,C,Ye,N,W,oe),f===Kn&&(sn=Kn=null,hn=0),(Se.subtreeFlags&10256)===0&&(Se.flags&10256)===0||Ko||(Ko=!0,bp=Ye,Ad=x,wv(Iu,function(){return El(),null})),x=(Se.flags&15990)!==0,(Se.subtreeFlags&15990)!==0||x?(x=jt.T,jt.T=null,N=Nl(),Vr(2),W=dn,dn|=4,xg(f,Se),Sg(Se,f),S_(f.containerInfo),f.current=Se,Eu(f,Se.alternate,Se),Io(),dn=W,Vr(N),jt.T=x):f.current=Se,Ko?(Ko=!1,Kl=f,Yu=C):rd(f,Ye),Ye=f.pendingLanes,Ye===0&&(eo=null),J(Se.stateNode),ze(f),d!==null)for(D=f.onRecoverableError,Se=0;Se<d.length;Se++)Ye=d[Se],D(Ye.value,{componentStack:Ye.stack});return(Yu&3)!==0&&El(),Ye=f.pendingLanes,(C&4194218)!==0&&(Ye&42)!==0?f===ny?Nc++:(Nc=0,ny=f):Nc=0,K(0),null}function rd(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,Yf(d)))}function El(){if(Kl!==null){var f=Kl,d=bp;bp=0;var x=ae(Yu),C=32>x?32:x;x=jt.T;var D=Nl();try{if(Vr(C),jt.T=null,Kl===null)var N=!1;else{C=Ad,Ad=null;var W=Kl,oe=Yu;if(Kl=null,Yu=0,(dn&6)!==0)throw Error(r(331));var Se=dn;if(dn|=4,Co(W.current),Ya(W,W.current,oe,C),dn=Se,K(0,!1),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(ku,W)}catch{}N=!0}return N}finally{Vr(D),jt.T=x,rd(f,d)}}return!1}function Ru(f,d,x){d=de(x,d),d=Su(f.stateNode,d,2),f=ft(f,d,2),f!==null&&(G(f,2),ze(f))}function In(f,d,x){if(f.tag===3)Ru(f,f,x);else for(;d!==null;){if(d.tag===3){Ru(d,f,x);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(eo===null||!eo.has(C))){f=de(x,f),x=sg(2),C=ft(d,x,2),C!==null&&(cv(x,C,d,f),G(C,2),ze(C));break}}d=d.return}}function Cl(f,d,x){var C=f.pingCache;if(C===null){C=f.pingCache=new Sd;var D=new Set;C.set(d,D)}else D=C.get(d),D===void 0&&(D=new Set,C.set(d,D));D.has(x)||(Lc=!0,D.add(x),f=ad.bind(null,f,d,x),d.then(f,f))}function ad(f,d,x){var C=f.pingCache;C!==null&&C.delete(d),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,Kn===f&&(hn&x)===x&&(pi===4||pi===3&&(hn&62914560)===hn&&300>Ra()-ty?(dn&2)===0&&_l(f,0):qr|=x,qi===hn&&(qi=0)),ze(f)}function sd(f,d){d===0&&(d=P()),f=De(f,d),f!==null&&(G(f,d),ze(f))}function od(f){var d=f.memoizedState,x=0;d!==null&&(x=d.retryLane),sd(f,x)}function Jh(f,d){var x=0;switch(f.tag){case 13:var C=f.stateNode,D=f.memoizedState;D!==null&&(x=D.retryLane);break;case 19:C=f.stateNode;break;case 22:C=f.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(d),sd(f,x)}function wv(f,d){return Ks(f,d)}function Rv(f,d,x,C){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Bo(f,d){var x=f.alternate;return x===null?(x=t(f.tag,d,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=d,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,d=f.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function bc(f,d){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,d=x.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function Sc(f,d,x,C,D,N){var W=0;if(C=f,typeof f=="function")Ro(f)&&(W=1);else if(typeof f=="string")W=wa&&hr?rr(f,x,Oi.current)?26:up(f)?27:5:wa?rr(f,x,Oi.current)?26:5:hr&&up(f)?27:5;else e:switch(f){case Rl:return Tl(x.children,D,N,d);case Ac:W=8,D|=24;break;case Bl:return f=t(12,x,d,D|2),f.elementType=Bl,f.lanes=N,f;case Lo:return f=t(13,x,d,D),f.elementType=Lo,f.lanes=N,f;case cd:return f=t(19,x,d,D),f.elementType=cd,f.lanes=N,f;case No:return Zh(x,D,N,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case x_:case Dl:W=10;break e;case Tg:W=9;break e;case Qh:W=11;break e;case Du:W=14;break e;case Oo:W=16,C=null;break e}W=29,x=Error(r(130,f===null?"null":typeof f,"")),C=null}return d=t(W,x,d,D),d.elementType=f,d.type=C,d.lanes=N,d}function Tl(f,d,x,C){return f=t(7,f,C,d),f.lanes=x,f}function Zh(f,d,x,C){f=t(22,f,C,d),f.elementType=No,f.lanes=x;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=D._current;if(N===null)throw Error(r(456));if((D._pendingVisibility&2)===0){var W=De(N,2);W!==null&&(D._pendingVisibility|=2,ti(W,N,2))}},attach:function(){var N=D._current;if(N===null)throw Error(r(456));if((D._pendingVisibility&2)!==0){var W=De(N,2);W!==null&&(D._pendingVisibility&=-3,ti(W,N,2))}}};return f.stateNode=D,f}function ld(f,d,x){return f=t(6,f,null,d),f.lanes=x,f}function aa(f,d,x){return d=t(4,f.children!==null?f.children:[],f.key,d),d.lanes=x,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function Gs(f,d,x,C,D,N,W,oe){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ou,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w(0),this.hiddenUpdates=w(null),this.identifierPrefix=C,this.onUncaughtError=D,this.onCaughtError=N,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function Do(f,d,x,C,D,N,W,oe,Se,Ye,ut,At){return f=new Gs(f,d,x,W,oe,Se,Ye,At),d=1,N===!0&&(d|=24),N=t(3,null,null,d),f.current=N,N.stateNode=f,d=vl(),d.refCount++,f.pooledCache=d,d.refCount++,N.memoizedState={element:C,isDehydrated:x,cache:d},We(N),f}function Eg(f){return f?(f=wc,f):wc}function zo(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=b(d),f=f!==null?S(f):null,f===null?null:_c(f.stateNode)}function Vs(f,d,x,C,D,N){D=Eg(D),C.context===null?C.context=D:C.pendingContext=D,C=ct(d),C.payload={element:x},N=N===void 0?null:N,N!==null&&(C.callback=N),x=ft(f,C,d),x!==null&&(ti(x,f,d),gt(x,f,d))}function Vi(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<d?x:d}}function Bu(f,d){Vi(f,d),(f=f.alternate)&&Vi(f,d)}var fn={},v_=jm(),Ta=HE(),Di=Object.assign,Cg=Symbol.for("react.element"),wl=Symbol.for("react.transitional.element"),Xs=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),Ac=Symbol.for("react.strict_mode"),Bl=Symbol.for("react.profiler"),x_=Symbol.for("react.provider"),Tg=Symbol.for("react.consumer"),Dl=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Du=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),No=Symbol.for("react.offscreen"),an=Symbol.for("react.memo_cache_sentinel"),jn=Symbol.iterator,Xi=Symbol.for("react.client.reference"),jt=v_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zl,Ll,zu=!1,Ol=Array.isArray,Lu=e.rendererVersion,b_=e.rendererPackageName,_i=e.extraDevToolsConfig,_c=e.getPublicInstance,wg=e.getRootHostContext,Bv=e.getChildHostContext,Dv=e.prepareForCommit,S_=e.resetAfterCommit,Rg=e.createInstance,ud=e.appendInitialChild,$h=e.finalizeInitialChildren,Ar=e.shouldSetTextContent,zi=e.createTextInstance,ep=e.scheduleTimeout,fd=e.cancelTimeout,Ou=e.noTimeout,xs=e.isPrimaryRenderer;e.warnsIfNotActing;var di=e.supportsMutation,bs=e.supportsPersistence,sa=e.supportsHydration,tp=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var zv=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Vr=e.setCurrentUpdatePriority,Nl=e.getCurrentUpdatePriority,Lv=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ov=e.shouldAttemptEagerTransition,Nv=e.detachDeletedInstance;e.requestPostPaintCallback;var Bg=e.maySuspendCommit,Dg=e.preloadInstance,A_=e.startSuspendingCommit,zg=e.suspendInstance,Uv=e.waitForCommitToBeReady,Mc=e.NotPendingTransition,Uo=e.HostTransitionContext,Pv=e.resetFormInstance;e.bindToConsole;var Iv=e.supportsMicrotasks,kv=e.scheduleMicrotask,Nu=e.supportsTestSelectors,Fv=e.findFiberRoot,__=e.getBoundingRect,Hv=e.getTextContent,Ws=e.isHiddenSubtree,jv=e.matchAccessibilityRole,np=e.setFocusIfFocusable,ip=e.setupIntersectionObserver,Gv=e.appendChild,Lg=e.appendChildToContainer,Vv=e.commitTextUpdate,Xv=e.commitMount,Wv=e.commitUpdate,Yv=e.insertBefore,Og=e.insertInContainerBefore,Kv=e.removeChild,qv=e.removeChildFromContainer,rp=e.resetTextContent,Jv=e.hideInstance,Zv=e.hideTextInstance,M_=e.unhideInstance,Ng=e.unhideTextInstance,Qv=e.clearContainer,$v=e.cloneInstance,ap=e.createContainerChildSet,Ug=e.appendChildToContainerChildSet,ex=e.finalizeContainerChildren,tx=e.replaceContainerChildren,nx=e.cloneHiddenInstance,Pg=e.cloneHiddenTextInstance,Ec=e.isSuspenseInstancePending,dd=e.isSuspenseInstanceFallback,sp=e.getSuspenseInstanceFallbackErrorDetails,ix=e.registerSuspenseInstanceRetry,rx=e.canHydrateFormStateMarker,Ys=e.isFormStateMarkerMatching,Ul=e.getNextHydratableSibling,Po=e.getFirstHydratableChild,Cc=e.getFirstHydratableChildWithinContainer,Ig=e.getFirstHydratableChildWithinSuspenseInstance,kg=e.canHydrateInstance,ax=e.canHydrateTextInstance,sx=e.canHydrateSuspenseInstance,Tc=e.hydrateInstance,op=e.hydrateTextInstance,ox=e.hydrateSuspenseInstance,lx=e.getNextHydratableInstanceAfterSuspenseInstance,cx=e.commitHydratedContainer,lp=e.commitHydratedSuspenseInstance,ux=e.clearSuspenseBoundary,Fg=e.clearSuspenseBoundaryFromContainer,Hg=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var fx=e.validateHydratableInstance,E_=e.validateHydratableTextInstance,wa=e.supportsResources,rr=e.isHostHoistableType,ar=e.getHoistableRoot,jg=e.getResource,Gg=e.acquireResource,Vg=e.releaseResource,dx=e.hydrateHoistable,Xg=e.mountHoistable,Uu=e.unmountHoistable,Wg=e.createHoistableInstance,hx=e.prepareToCommitHoistables,px=e.mayResourceSuspendCommit,Yg=e.preloadResource,Kg=e.suspendResource,hr=e.supportsSingletons,cp=e.resolveSingletonInstance,mx=e.clearSingleton,qg=e.acquireSingletonInstance,Jg=e.releaseSingletonInstance,up=e.isHostSingletonType,fp=[],Pl=-1,wc={},Li=Math.clz32?Math.clz32:B,Zg=Math.log,C_=Math.LN2,hd=128,Pu=4194304,Ks=Ta.unstable_scheduleCallback,Ss=Ta.unstable_cancelCallback,Il=Ta.unstable_shouldYield,Io=Ta.unstable_requestPaint,Ra=Ta.unstable_now,dp=Ta.unstable_ImmediatePriority,pd=Ta.unstable_UserBlockingPriority,Iu=Ta.unstable_NormalPriority,Rc=Ta.unstable_IdlePriority,Br=Ta.log,hp=Ta.unstable_setDisableYieldValue,ku=null,Wi=null,Xr=typeof Object.is=="function"?Object.is:Q,pp=new WeakMap,Ba=[],Da=0,kl=null,Fu=0,oa=[],Dr=0,As=null,qs=1,Js="",Oi=M(null),Ja=M(null),ko=M(null),md=M(null),Ni=null,Wn=null,Rn=!1,Za=null,_s=!1,gd=Error(r(519)),la=[],Fo=0,Ms=0,ai=null,Fl=null,mp=!1,Ui=!1,gp=!1,Hu=0,ju=null,yp=0,si=0,pr=null,zr=!1,vp=!1,gx=Object.prototype.hasOwnProperty,yd=Error(r(460)),vd=Error(r(474)),Wr={then:function(){}},Lr=null,Bc=null,Or=0,Hl=Ri(!0),Zs=Ri(!1),Es=M(null),Cs=M(0),ca=M(null),Qa=null,ni=M(0),Ho=0,Kt=null,Ln=null,hi=null,jo=!1,Dc=!1,jl=!1,Gl=0,Gu=0,Go=null,yx=0,Qg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Pi={readContext:br,use:_e,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn};Pi.useCacheRefresh=rn,Pi.useMemoCache=rn,Pi.useHostTransitionStatus=rn,Pi.useFormState=rn,Pi.useActionState=rn,Pi.useOptimistic=rn;var Vo={readContext:br,use:_e,useCallback:function(f,d){return V().memoizedState=[f,d===void 0?null:d],f},useContext:br,useEffect:ng,useImperativeHandle:function(f,d,x){x=x!=null?x.concat([f]):null,Dh(4194308,4,Pf.bind(null,d,f),x)},useLayoutEffect:function(f,d){return Dh(4194308,4,f,d)},useInsertionEffect:function(f,d){Dh(4,2,f,d)},useMemo:function(f,d){var x=V();d=d===void 0?null:d;var C=f();if(jl){re(!0);try{f()}finally{re(!1)}}return x.memoizedState=[C,d],C},useReducer:function(f,d,x){var C=V();if(x!==void 0){var D=x(d);if(jl){re(!0);try{x(d)}finally{re(!1)}}}else D=d;return C.memoizedState=C.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},C.queue=f,f=f.dispatch=Nh.bind(null,Kt,f),[C.memoizedState,f]},useRef:function(f){var d=V();return f={current:f},d.memoizedState=f},useState:function(f){f=Mn(f);var d=f.queue,x=ag.bind(null,Kt,d);return d.dispatch=x,[f.memoizedState,x]},useDebugValue:If,useDeferredValue:function(f,d){var x=V();return Lh(x,f,d)},useTransition:function(){var f=Mn(!1);return f=ig.bind(null,Kt,f.queue,!0,!1),V().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,x){var C=Kt,D=V();if(Rn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),Kn===null)throw Error(r(349));(hn&60)!==0||It(C,d,x)}D.memoizedState=x;var N={value:x,getSnapshot:d};return D.queue=N,ng(mn.bind(null,C,N,f),[f]),C.flags|=2048,ys(9,Lt.bind(null,C,N,x,d),{destroy:void 0},null),x},useId:function(){var f=V(),d=Kn.identifierPrefix;if(Rn){var x=Js,C=qs;x=(C&~(1<<32-Li(C)-1)).toString(32)+x,d=":"+d+"R"+x,x=Gl++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=yx++,d=":"+d+"r"+x.toString(32)+":";return f.memoizedState=d},useCacheRefresh:function(){return V().memoizedState=rg.bind(null,Kt)}};Vo.useMemoCache=ve,Vo.useHostTransitionStatus=kf,Vo.useFormState=Hn,Vo.useActionState=Hn,Vo.useOptimistic=function(f){var d=V();d.memoizedState=d.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=gu.bind(null,Kt,!0,x),x.dispatch=d,[f,d]};var Yr={readContext:br,use:_e,useCallback:fc,useContext:br,useEffect:Uf,useImperativeHandle:zh,useInsertionEffect:sv,useLayoutEffect:ov,useMemo:dc,useReducer:pt,useRef:Hr,useState:function(){return pt(tt)},useDebugValue:If,useDeferredValue:function(f,d){var x=he();return Oh(x,Ln.memoizedState,f,d)},useTransition:function(){var f=pt(tt)[0],d=he().memoizedState;return[typeof f=="boolean"?f:Re(f),d]},useSyncExternalStore:Ht,useId:mu};Yr.useCacheRefresh=vo,Yr.useMemoCache=ve,Yr.useHostTransitionStatus=kf,Yr.useFormState=Tr,Yr.useActionState=Tr,Yr.useOptimistic=function(f,d){var x=he();return Wt(x,Ln,f,d)};var Vl={readContext:br,use:_e,useCallback:fc,useContext:br,useEffect:Uf,useImperativeHandle:zh,useInsertionEffect:sv,useLayoutEffect:ov,useMemo:dc,useReducer:xt,useRef:Hr,useState:function(){return xt(tt)},useDebugValue:If,useDeferredValue:function(f,d){var x=he();return Ln===null?Lh(x,f,d):Oh(x,Ln.memoizedState,f,d)},useTransition:function(){var f=xt(tt)[0],d=he().memoizedState;return[typeof f=="boolean"?f:Re(f),d]},useSyncExternalStore:Ht,useId:mu};Vl.useCacheRefresh=vo,Vl.useMemoCache=ve,Vl.useHostTransitionStatus=kf,Vl.useFormState=fr,Vl.useActionState=fr,Vl.useOptimistic=function(f,d){var x=he();return Ln!==null?Wt(x,Ln,f,d):(x.baseState=f,[f,x.queue.dispatch])};var Vu={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,d,x){f=f._reactInternals;var C=wr(),D=ct(C);D.payload=d,x!=null&&(D.callback=x),d=ft(f,D,C),d!==null&&(ti(d,f,C),gt(d,f,C))},enqueueReplaceState:function(f,d,x){f=f._reactInternals;var C=wr(),D=ct(C);D.tag=1,D.payload=d,x!=null&&(D.callback=x),d=ft(f,D,C),d!==null&&(ti(d,f,C),gt(d,f,C))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var x=wr(),C=ct(x);C.tag=2,d!=null&&(C.callback=d),d=ft(f,C,x),d!==null&&(ti(d,f,x),gt(d,f,x))}},Xl=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},$g=Error(r(461)),Yi=!1,xd={dehydrated:null,treeContext:null,retryLane:0},$a=M(null),Wl=null,es=null,bd=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(x,C){f.push(C)}};this.abort=function(){d.aborted=!0,f.forEach(function(x){return x()})}},vi=Ta.unstable_scheduleCallback,T_=Ta.unstable_NormalPriority,Mi={$$typeof:Dl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ey=jt.S;jt.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Pe(f,d),ey!==null&&ey(f,d)};var zc=M(null),Xo=!1,qt=!1,Yn=!1,cn=typeof WeakSet=="function"?WeakSet:Set,Ut=null,Zn=!1,On=null,Ii=!1,Nr=null,Yl=8192,Wo={getCacheForType:function(f){var d=br(Mi),x=d.data.get(f);return x===void 0&&(x=f(),d.data.set(f,x)),x}},oi=0,Ts=1,Qs=2,Xu=3,Kr=4;if(typeof Symbol=="function"&&Symbol.for){var $s=Symbol.for;oi=$s("selector.component"),Ts=$s("selector.has_pseudo_class"),Qs=$s("selector.role"),Xu=$s("selector.test_id"),Kr=$s("selector.text")}var Sd=typeof WeakMap=="function"?WeakMap:Map,dn=0,Kn=null,sn=null,hn=0,Gn=0,Ki=null,ts=!1,ns=!1,Lc=!1,ws=0,pi=0,is=0,Yo=0,qr=0,za=0,qi=0,Wu=null,rs=null,xp=!1,ty=0,La=1/0,Oc=null,eo=null,Ko=!1,Kl=null,Yu=0,bp=0,Ad=null,Nc=0,ny=null;return fn.attemptContinuousHydration=function(f){if(f.tag===13){var d=De(f,67108864);d!==null&&ti(d,f,67108864),Bu(f,67108864)}},fn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=wr(),x=De(f,d);x!==null&&ti(x,f,d),Bu(f,d)}},fn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=L(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var x=1<<31-Li(d);f.entanglements[1]|=x,d&=~x}ze(f),(dn&6)===0&&(La=Ra()+500,K(0))}}break;case 13:d=De(f,2),d!==null&&ti(d,f,2),_g(),Bu(f,2)}},fn.batchedUpdates=function(f,d){return f(d)},fn.createComponentSelector=function(f){return{$$typeof:oi,value:f}},fn.createContainer=function(f,d,x,C,D,N,W,oe,Se,Ye){return Do(f,d,!1,null,x,C,N,W,oe,Se,Ye,null)},fn.createHasPseudoClassSelector=function(f){return{$$typeof:Ts,value:f}},fn.createHydrationContainer=function(f,d,x,C,D,N,W,oe,Se,Ye,ut,At,lt){return f=Do(x,C,!0,f,D,N,oe,Se,Ye,ut,At,lt),f.context=Eg(null),x=f.current,C=wr(),D=ct(C),D.callback=d??null,ft(x,D,C),f.current.lanes=C,G(f,C),ze(f),f},fn.createPortal=function(f,d,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:C==null?null:""+C,children:f,containerInfo:d,implementation:x}},fn.createRoleSelector=function(f){return{$$typeof:Qs,value:f}},fn.createTestNameSelector=function(f){return{$$typeof:Xu,value:f}},fn.createTextSelector=function(f){return{$$typeof:Kr,value:f}},fn.defaultOnCaughtError=function(f){console.error(f)},fn.defaultOnRecoverableError=function(f){Xl(f)},fn.defaultOnUncaughtError=function(f){Xl(f)},fn.deferredUpdates=function(f){var d=jt.T,x=Nl();try{return Vr(32),jt.T=null,f()}finally{Vr(x),jt.T=d}},fn.discreteUpdates=function(f,d,x,C,D){var N=jt.T,W=Nl();try{return Vr(2),jt.T=null,f(d,x,C,D)}finally{Vr(W),jt.T=N,dn===0&&(La=Ra()+500)}},fn.findAllNodes=Al,fn.findBoundingRects=function(f,d){if(!Nu)throw Error(r(363));d=Al(f,d),f=[];for(var x=0;x<d.length;x++)f.push(__(d[x]));for(d=f.length-1;0<d;d--){x=f[d];for(var C=x.x,D=C+x.width,N=x.y,W=N+x.height,oe=d-1;0<=oe;oe--)if(d!==oe){var Se=f[oe],Ye=Se.x,ut=Ye+Se.width,At=Se.y,lt=At+Se.height;if(C>=Ye&&N>=At&&D<=ut&&W<=lt){f.splice(d,1);break}else if(C!==Ye||x.width!==Se.width||lt<N||At>W){if(!(N!==At||x.height!==Se.height||ut<C||Ye>D)){Ye>C&&(Se.width+=Ye-C,Se.x=C),ut<D&&(Se.width=D-Ye),f.splice(d,1);break}}else{At>N&&(Se.height+=At-N,Se.y=N),lt<W&&(Se.height=W-At),f.splice(d,1);break}}}return f},fn.findHostInstance=zo,fn.findHostInstanceWithNoPortals=function(f){return f=b(f),f=f!==null?E(f):null,f===null?null:_c(f.stateNode)},fn.findHostInstanceWithWarning=function(f){return zo(f)},fn.flushPassiveEffects=El,fn.flushSyncFromReconciler=function(f){var d=dn;dn|=1;var x=jt.T,C=Nl();try{if(Vr(2),jt.T=null,f)return f()}finally{Vr(C),jt.T=x,dn=d,(dn&6)===0&&K(0)}},fn.flushSyncWork=_g,fn.focusWithin=function(f,d){if(!Nu)throw Error(r(363));for(f=Sl(f),d=vc(f,d),d=Array.from(d),f=0;f<d.length;){var x=d[f++],C=x.tag;if(!Ws(x)){if((C===5||C===26||C===27)&&np(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},fn.getFindAllNodesFailureDescription=function(f,d){if(!Nu)throw Error(r(363));var x=0,C=[];f=[Sl(f),0];for(var D=0;D<f.length;){var N=f[D++],W=N.tag,oe=f[D++],Se=d[oe];if((W!==5&&W!==26&&W!==27||!Ws(N))&&(Kh(N,Se)&&(C.push(ra(Se)),oe++,oe>x&&(x=oe)),oe<d.length))for(N=N.child;N!==null;)f.push(N,oe),N=N.sibling}if(x<d.length){for(f=[];x<d.length;x++)f.push(ra(d[x]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},fn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return _c(f.child.stateNode);default:return f.child.stateNode}},fn.injectIntoDevTools=function(){var f={bundleType:0,version:Lu,rendererPackageName:b_,currentDispatcherRef:jt,findFiberByHostInstance:tp,reconcilerVersion:"19.0.0"};if(_i!==null&&(f.rendererConfig=_i),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{ku=d.inject(f),Wi=d}catch{}f=!!d.checkDCE}}return f},fn.isAlreadyRendering=function(){return!1},fn.observeVisibleRects=function(f,d,x,C){if(!Nu)throw Error(r(363));f=Al(f,d);var D=ip(f,x,C).disconnect;return{disconnect:function(){D()}}},fn.shouldError=function(){return null},fn.shouldSuspend=function(){return!1},fn.startHostTransition=function(f,d,x,C){if(f.tag!==5)throw Error(r(476));var D=pu(f).queue;ig(f,D,d,Mc,x===null?i:function(){var N=pu(f).next.queue;return pl(f,N,{},wr()),x(C)})},fn.updateContainer=function(f,d,x,C){var D=d.current,N=wr();return Vs(D,N,f,d,x,C),N},fn.updateContainerSync=function(f,d,x,C){return d.tag===0&&El(),Vs(d.current,2,f,d,x,C),2},fn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(v1)),v1.exports}var ez;function tee(){return ez||(ez=1,y1.exports=eee()),y1.exports}var nee=tee();const iee=O0(nee);var tz=HE();const ree=n=>typeof n=="object"&&typeof n.then=="function",eh=[];function BU(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function DU(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of eh)if(BU(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=eh.indexOf(r);a!==-1&&eh.splice(a,1)},promise:(ree(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(eh.push(r),!t)throw r.promise}const aee=(n,e,t)=>DU(n,e,!1,t),see=(n,e,t)=>void DU(n,e,!0,t),oee=n=>{if(n===void 0||n.length===0)eh.splice(0,eh.length);else{const e=eh.find(t=>BU(n,t.keys,t.equal));e&&e.remove()}};function kT(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=kT(i,e,t);if(r)return r;i=e?null:i.sibling}}function zU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const FT=zU(I.createContext(null));class LU extends I.Component{render(){return I.createElement(FT.Provider,{value:this._reactInternals},this.props.children)}}function OU(){const n=I.useContext(FT);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=kT(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const lee=Symbol.for("react.context"),cee=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===lee;function uee(){const n=OU(),[e]=I.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;cee(i)&&i!==FT&&!e.has(i)&&e.set(i,I.use(zU(i))),t=t.return}return e}function fee(){const n=uee();return I.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>I.createElement(e,null,I.createElement(t.Provider,{...i,value:n.get(t)})),e=>I.createElement(LU,{...e})),[n])}function NU(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const UU=n=>n&&n.isOrthographicCamera,dee=n=>n&&n.hasOwnProperty("current"),hee=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),iv=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?I.useLayoutEffect:I.useEffect;function HT(n){const e=I.useRef(n);return iv(()=>void(e.current=n),[n]),e}function pee(){const n=OU(),e=fee();return I.useMemo(()=>({children:t})=>{const r=!!kT(n,!0,a=>a.type===I.StrictMode)?I.StrictMode:I.Fragment;return T.jsx(r,{children:T.jsx(e,{children:t})})},[n,e])}function mee({set:n}){return iv(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const gee=(n=>(n=class extends I.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function PU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Jp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ci={obj:n=>n===Object(n)&&!Ci.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ci.str(n)||Ci.num(n)||Ci.boo(n))return n===e;const a=Ci.obj(n);if(a&&i==="reference")return n===e;const o=Ci.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let c;for(c in n)if(!(c in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(c in r?e:n)if(!Ci.equ(n[c],e[c],{strict:r,objects:"reference"}))return!1}else for(c in r?e:n)if(n[c]!==e[c])return!1;if(Ci.und(c)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function yee(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function vee(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const IU=["children","key","ref"];function xee(n){const e={};for(const t in n)IU.includes(t)||(e[t]=n[t]);return e}function rA(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:xee(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function L0(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const nz=/-\d+$/;function aA(n,e){if(Ci.str(e.props.attach)){if(nz.test(e.props.attach)){const r=e.props.attach.replace(nz,""),{root:a,key:o}=L0(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:i}=L0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ci.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function sA(n,e){if(Ci.str(e.props.attach)){const{root:t,key:i}=L0(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const LE=[...IU,"args","dispose","attach","object","onUpdate","dispose"],iz=new Map;function bee(n){let e=iz.get(n.constructor);try{e||(e=new n.constructor,iz.set(n.constructor,e))}catch{}return e}function See(n,e){const t={};for(const i in e)if(!LE.includes(i)&&!Ci.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(LE.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=L0(n.object,i);if(r.constructor&&r.constructor.length===0){const o=bee(r);Ci.und(o)||(t[a]=o[a])}else t[a]=0}return t}const Aee=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],_ee=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function df(n,e){var t;const i=n.__r3f,r=i&&NU(i).getState(),a=i==null?void 0:i.eventCount;for(const c in e){let u=e[c];if(LE.includes(c))continue;if(i&&_ee.test(c)){typeof u=="function"?i.handlers[c]=u:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:h,key:m,target:g}=L0(n,c);if(g instanceof Pm&&u instanceof Pm)g.mask=u.mask;else if(g instanceof bt&&hee(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var o;h[m]=u,r&&!r.linear&&Aee.includes(m)&&(o=h[m])!=null&&o.isTexture&&h[m].format===ba&&h[m].type===ol&&(h[m].colorSpace=ya)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const c=i.object,u=r.internal.interaction.indexOf(c);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&c.raycast!==null&&r.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&eg(i),n}function eg(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function kU(n,e){n.manual||(UU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Ua=n=>n==null?void 0:n.isObject3D;function jb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function FU(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Mee(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{FU(t.capturedMap,e,i,r)})}function Eee(n){function e(u){const{internal:h}=n.getState(),m=u.offsetX-h.initialClick[0],g=u.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(u){return u.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(u,h){const m=n.getState(),g=new Set,v=[],b=h?h(m.internal.interaction):m.internal.interaction;for(let A=0;A<b.length;A++){const z=Jp(b[A]);z&&(z.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function S(A){const z=Jp(A);if(!z||!z.events.enabled||z.raycaster.camera===null)return[];if(z.raycaster.camera===void 0){var B;z.events.compute==null||z.events.compute(u,z,(B=z.previousRoot)==null?void 0:B.getState()),z.raycaster.camera===void 0&&(z.raycaster.camera=null)}return z.raycaster.camera?z.raycaster.intersectObject(A,!0):[]}let E=b.flatMap(S).sort((A,z)=>{const B=Jp(A.object),L=Jp(z.object);return!B||!L?A.distance-z.distance:L.events.priority-B.events.priority||A.distance-z.distance}).filter(A=>{const z=jb(A);return g.has(z)?!1:(g.add(z),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const A of E){let z=A.object;for(;z;){var M;(M=z.__r3f)!=null&&M.eventCount&&v.push({...A,eventObject:z}),z=z.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let A of m.internal.capturedMap.get(u.pointerId).values())g.has(jb(A.intersection))||v.push(A.intersection);return v}function r(u,h,m,g){if(u.length){const v={stopped:!1};for(const b of u){let S=Jp(b.object);if(S||b.object.traverseAncestors(E=>{const M=Jp(E);if(M)return S=M,!1}),S){const{raycaster:E,pointer:M,camera:A,internal:z}=S,B=new Z(M.x,M.y,0).unproject(A),L=P=>{var w,G;return(w=(G=z.capturedMap.get(P))==null?void 0:G.has(b.eventObject))!=null?w:!1},O=P=>{const w={intersection:b,target:h.target};z.capturedMap.has(P)?z.capturedMap.get(P).set(b.eventObject,w):z.capturedMap.set(P,new Map([[b.eventObject,w]])),h.target.setPointerCapture(P)},U=P=>{const w=z.capturedMap.get(P);w&&FU(z.capturedMap,b.eventObject,w,P)};let k={};for(let P in h){let w=h[P];typeof w!="function"&&(k[P]=w)}let F={...b,...k,pointer:M,intersections:u,stopped:v.stopped,delta:m,unprojectedPoint:B,ray:E.ray,camera:A,stopPropagation(){const P="pointerId"in h&&z.capturedMap.get(h.pointerId);if((!P||P.has(b.eventObject))&&(F.stopped=v.stopped=!0,z.hovered.size&&Array.from(z.hovered.values()).find(w=>w.eventObject===b.eventObject))){const w=u.slice(0,u.indexOf(b));a([...w,b])}},target:{hasPointerCapture:L,setPointerCapture:O,releasePointerCapture:U},currentTarget:{hasPointerCapture:L,setPointerCapture:O,releasePointerCapture:U},nativeEvent:h};if(g(F),v.stopped===!0)break}}}return u}function a(u){const{internal:h}=n.getState();for(const m of h.hovered.values())if(!u.length||!u.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const v=m.eventObject.__r3f;if(h.hovered.delete(jb(m)),v!=null&&v.eventCount){const b=v.handlers,S={...m,intersections:u};b.onPointerOut==null||b.onPointerOut(S),b.onPointerLeave==null||b.onPointerLeave(S)}}}function o(u,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function c(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return h=>{const{internal:m}=n.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:v}=n.getState();v.lastEvent.current=m;const b=u==="onPointerMove",S=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",M=i(m,b?t:void 0),A=S?e(m):0;u==="onPointerDown"&&(v.initialClick=[m.offsetX,m.offsetY],v.initialHits=M.map(B=>B.eventObject)),S&&!M.length&&A<=2&&(o(m,v.interaction),g&&g(m)),b&&a(M);function z(B){const L=B.eventObject,O=L.__r3f;if(!(O!=null&&O.eventCount))return;const U=O.handlers;if(b){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const k=jb(B),F=v.hovered.get(k);F?F.stopped&&B.stopPropagation():(v.hovered.set(k,B),U.onPointerOver==null||U.onPointerOver(B),U.onPointerEnter==null||U.onPointerEnter(B))}U.onPointerMove==null||U.onPointerMove(B)}else{const k=U[u];k?(!S||v.initialHits.includes(L))&&(o(m,v.interaction.filter(F=>!v.initialHits.includes(F))),k(B)):S&&v.initialHits.includes(L)&&o(m,v.interaction.filter(F=>!v.initialHits.includes(F)))}}r(M,m,A,z)}}return{handlePointer:c}}const rz=n=>!!(n!=null&&n.render),jT=I.createContext(null),Cee=(n,e)=>{const t=RU((c,u)=>{const h=new Z,m=new Z,g=new Z;function v(A=u().camera,z=m,B=u().size){const{width:L,height:O,top:U,left:k}=B,F=L/O;z.isVector3?g.copy(z):g.set(...z);const P=A.getWorldPosition(h).distanceTo(g);if(UU(A))return{width:L/A.zoom,height:O/A.zoom,top:U,left:k,factor:1,distance:P,aspect:F};{const w=A.fov*Math.PI/180,G=2*Math.tan(w/2)*P,ee=G*(L/O);return{width:ee,height:G,top:U,left:k,factor:L/ee,distance:P,aspect:F}}}let b;const S=A=>c(z=>({performance:{...z.performance,current:A}})),E=new qe;return{set:c,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>n(u(),A),advance:(A,z)=>e(A,z,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zT,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=u();b&&clearTimeout(b),A.performance.current!==A.performance.min&&S(A.performance.min),b=setTimeout(()=>S(u().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:A=>c(z=>({...z,events:{...z.events,...A}})),setSize:(A,z,B=0,L=0)=>{const O=u().camera,U={width:A,height:z,top:B,left:L};c(k=>({size:U,viewport:{...k.viewport,...v(O,m,U)}}))},setDpr:A=>c(z=>{const B=PU(A);return{viewport:{...z.viewport,dpr:B,initialDpr:z.viewport.initialDpr||B}}}),setFrameloop:(A="always")=>{const z=u().clock;z.stop(),z.elapsedTime=0,A!=="never"&&(z.start(),z.elapsedTime=0),c(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:I.createRef(),active:!1,frames:0,priority:0,subscribe:(A,z,B)=>{const L=u().internal;return L.priority=L.priority+(z>0?1:0),L.subscribers.push({ref:A,priority:z,store:B}),L.subscribers=L.subscribers.sort((O,U)=>O.priority-U.priority),()=>{const O=u().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(z>0?1:0),O.subscribers=O.subscribers.filter(U=>U.ref!==A))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:c,size:u,viewport:h,gl:m,set:g}=t.getState();if(u.width!==r.width||u.height!==r.height||h.dpr!==a){r=u,a=h.dpr,kU(c,u),h.dpr>0&&m.setPixelRatio(h.dpr);const v=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,v)}c!==o&&(o=c,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>n(c)),t};function GT(){const n=I.useContext(jT);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function lr(n=t=>t,e){return GT()(n,e)}function Th(n,e=0){const t=GT(),i=t.getState().internal.subscribe,r=HT(n);return iv(()=>i(r,e,t),[e,i,t]),null}const az=new WeakMap,Tee=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function HU(n,e){return function(t,...i){let r;return Tee(t)?(r=az.get(t),r||(r=new t,az.set(t,r))):r=t,n&&n(r),Promise.all(i.map(a=>new Promise((o,c)=>r.load(a,u=>{Ua(u==null?void 0:u.scene)&&Object.assign(u,yee(u.scene)),o(u)},e,u=>c(new Error(`Could not load ${a}: ${u==null?void 0:u.message}`))))))}}function rv(n,e,t,i){const r=Array.isArray(e)?e:[e],a=aee(HU(t,i),[n,...r],{equal:Ci.equ});return Array.isArray(e)?a:a[0]}rv.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return see(HU(t),[n,...i])};rv.clear=function(n,e){const t=Array.isArray(e)?e:[e];return oee([n,...t])};function wee(n){const e=iee(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version}),e}const jU=0,Hm={},Ree=/^three(?=[A-Z])/,p_=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Bee=0;const Dee=n=>typeof n=="function";function zee(n){if(Dee(n)){const e=`${Bee++}`;return Hm[e]=n,e}else Object.assign(Hm,n)}function GU(n,e){const t=p_(n),i=Hm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Lee(n,e,t){var i;return n=p_(n)in Hm?n:n.replace(Ree,""),GU(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,rA(e.object,t,n,e)}function Oee(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?sA(n.parent,n):Ua(n.object)&&(n.object.visible=!1),n.isHidden=!0,eg(n)}}function VU(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?aA(n.parent,n):Ua(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,eg(n)}}function VT(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const o=Hm[p_(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(df(e.object,e.props),e.props.attach)aA(n,e);else if(Ua(e.object)&&Ua(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const c=n.object.children.indexOf(e.object);if(c!==-1){n.object.children.splice(c,1);const u=c<o?o-1:o;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)VT(e,o);eg(e)}}function x1(n,e){e&&(e.parent=n,n.children.push(e),VT(n,e))}function sz(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),VT(n,e,t)}function XU(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():tz.unstable_scheduleCallback(tz.unstable_IdlePriority,e)}}function OE(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?sA(n,e):Ua(e.object)&&Ua(n.object)&&(n.object.remove(e.object),Mee(NU(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];OE(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&XU(e.object),t===void 0&&eg(e)}function Nee(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const sS=[];function Uee(){for(const[t]of sS){const i=t.parent;if(i){t.props.attach?sA(i,t):Ua(t.object)&&Ua(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?sA(t,r):Ua(r.object)&&Ua(t.object)&&t.object.remove(r.object)}t.isHidden&&VU(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&XU(t.object)}for(const[t,i,r]of sS){t.props=i;const a=t.parent;if(a){var n,e;const o=Hm[p_(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Nee(r,t.object),df(t.object,t.props),t.props.attach?aA(a,t):Ua(t.object)&&Ua(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?aA(t,c):Ua(c.object)&&Ua(t.object)&&t.object.add(c.object);eg(t)}}sS.length=0}const b1=()=>{},oz={};let Gb=jU;const Pee=0,Iee=4,oA=wee({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Lee,removeChild:OE,appendChild:x1,appendInitialChild:x1,insertBefore:sz,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||x1(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||OE(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||sz(i,e,t)},getRootHostContext:()=>oz,getChildHostContext:()=>oz,commitUpdate(n,e,t,i,r){var a,o,c;GU(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,g)=>{var v;return m!==((v=t.args)==null?void 0:v[g])}))&&(u=!0),u)sS.push([n,{...i},r]);else{const m=See(n,i);Object.keys(m).length&&(Object.assign(n.props,m),df(n.object,m))}(r.sibling===null||(r.flags&Iee)===Pee)&&Uee()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>rA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Oee,unhideInstance:VU,createTextInstance:b1,hideTextInstance:b1,unhideTextInstance:b1,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:I.createContext(null),setCurrentUpdatePriority(n){Gb=n},getCurrentUpdatePriority(){return Gb},resolveUpdatePriority(){var n;if(Gb!==jU)return Gb;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return aS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return aS.ContinuousEventPriority;default:return aS.DefaultEventPriority}},resetFormInstance(){}}),xh=new Map,Zp={objects:"shallow",strict:!1};function kee(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Fee(n){const e=xh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||Cee(PE,cz),o=t||oA.createContainer(a,aS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||xh.set(n,{fiber:o,store:a});let c,u,h=!1,m=null;return{async configure(g={}){let v;m=new Promise(te=>v=te);let{gl:b,size:S,scene:E,events:M,onCreated:A,shadows:z=!1,linear:B=!1,flat:L=!1,legacy:O=!1,orthographic:U=!1,frameloop:k="always",dpr:F=[1,2],performance:P,raycaster:w,camera:G,onPointerMissed:ee}=g,q=a.getState(),$=q.gl;if(!q.gl){const te={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Ce=typeof b=="function"?await b(te):b;rz(Ce)?$=Ce:$=new wU({...te,...b}),q.set({gl:$})}let ae=q.raycaster;ae||q.set({raycaster:ae=new UT});const{params:J,...re}=w||{};if(Ci.equ(re,ae,Zp)||df(ae,{...re}),Ci.equ(J,ae.params,Zp)||df(ae,{params:{...ae.params,...J}}),!q.camera||q.camera===u&&!Ci.equ(u,G,Zp)){u=G;const te=G==null?void 0:G.isCamera,Ce=te?G:U?new sl(0,0,0,0,.1,1e3):new Ti(75,0,.1,1e3);te||(Ce.position.z=5,G&&(df(Ce,G),Ce.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(Ce.manual=!0,Ce.updateProjectionMatrix())),!q.camera&&!(G!=null&&G.rotation)&&Ce.lookAt(0,0,0)),q.set({camera:Ce}),ae.camera=Ce}if(!q.scene){let te;E!=null&&E.isScene?(te=E,rA(te,a,"",{})):(te=new KA,rA(te,a,"",{}),E&&df(te,E)),q.set({scene:te})}M&&!q.events.handlers&&q.set({events:M(a)});const Q=kee(n,S);if(Ci.equ(Q,q.size,Zp)||q.setSize(Q.width,Q.height,Q.top,Q.left),F&&q.viewport.dpr!==PU(F)&&q.setDpr(F),q.frameloop!==k&&q.setFrameloop(k),q.onPointerMissed||q.set({onPointerMissed:ee}),P&&!Ci.equ(P,q.performance,Zp)&&q.set(te=>({performance:{...te.performance,...P}})),!q.xr){var de;const te=(se,we)=>{const Ae=a.getState();Ae.frameloop!=="never"&&cz(se,!0,Ae,we)},Ce=()=>{const se=a.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?te:null),se.gl.xr.isPresenting||PE(se)},He={connect(){const se=a.getState().gl;se.xr.addEventListener("sessionstart",Ce),se.xr.addEventListener("sessionend",Ce)},disconnect(){const se=a.getState().gl;se.xr.removeEventListener("sessionstart",Ce),se.xr.removeEventListener("sessionend",Ce)}};typeof((de=$.xr)==null?void 0:de.addEventListener)=="function"&&He.connect(),q.set({xr:He})}if($.shadowMap){const te=$.shadowMap.enabled,Ce=$.shadowMap.type;if($.shadowMap.enabled=!!z,Ci.boo(z))$.shadowMap.type=Ky;else if(Ci.str(z)){var Y;const He={basic:OO,percentage:LA,soft:Ky,variance:el};$.shadowMap.type=(Y=He[z])!=null?Y:Ky}else Ci.obj(z)&&Object.assign($.shadowMap,z);(te!==$.shadowMap.enabled||Ce!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}return Dn.enabled=!O,h||($.outputColorSpace=B?Ef:ya,$.toneMapping=L?rc:KC),q.legacy!==O&&q.set(()=>({legacy:O})),q.linear!==B&&q.set(()=>({linear:B})),q.flat!==L&&q.set(()=>({flat:L})),b&&!Ci.fun(b)&&!rz(b)&&!Ci.equ(b,$,Zp)&&df($,b),c=A,h=!0,v(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{oA.updateContainer(T.jsx(Hee,{store:a,children:g,onCreated:c,rootElement:n}),o,null,()=>{})}),a},unmount(){WU(n)}}}function Hee({store:n,children:e,onCreated:t,rootElement:i}){return iv(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),T.jsx(jT.Provider,{value:n,children:e})}function WU(n,e){const t=xh.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),oA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,c,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=r.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),vee(r.scene),xh.delete(n)}catch{}},500)})}}function jee(n,e,t){return T.jsx(Gee,{children:n,container:e,state:t})}function Gee({state:n={},children:e,container:t}){const{events:i,size:r,...a}=n,o=GT(),[c]=I.useState(()=>new UT),[u]=I.useState(()=>new qe),h=HT((g,v)=>{let b;if(v.camera&&r){const S=v.camera;b=g.viewport.getCurrentViewport(S,new Z,r),S!==g.camera&&kU(S,r)}return{...g,...v,scene:t,raycaster:c,pointer:u,mouse:u,previousRoot:o,events:{...g.events,...v.events,...i},size:{...g.size,...r},viewport:{...g.viewport,...b},setEvents:S=>v.set(E=>({...E,events:{...E.events,...S}}))}}),m=I.useMemo(()=>{const g=RU((b,S)=>({...a,set:b,get:S})),v=b=>g.setState(S=>h.current(b,S));return v(o.getState()),o.subscribe(v),g},[o,t]);return T.jsx(T.Fragment,{children:oA.createPortal(T.jsx(jT.Provider,{value:m,children:e}),m,null)})}const Vee=new Set,Xee=new Set,Wee=new Set;function S1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function i0(n,e){switch(n){case"before":return S1(Vee,e);case"after":return S1(Xee,e);case"tail":return S1(Wee,e)}}let A1,_1;function NE(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),A1=e.internal.subscribers;for(let r=0;r<A1.length;r++)_1=A1[r],_1.ref.current(_1.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let lA=!1,UE=!1,M1,lz,Qp;function YU(n){lz=requestAnimationFrame(YU),lA=!0,M1=0,i0("before",n),UE=!0;for(const t of xh.values()){var e;Qp=t.store.getState(),Qp.internal.active&&(Qp.frameloop==="always"||Qp.internal.frames>0)&&!((e=Qp.gl.xr)!=null&&e.isPresenting)&&(M1+=NE(n,Qp))}if(UE=!1,i0("after",n),M1===0)return i0("tail",n),lA=!1,cancelAnimationFrame(lz)}function PE(n,e=1){var t;if(!n)return xh.forEach(i=>PE(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):UE?n.internal.frames=2:n.internal.frames=1,lA||(lA=!0,requestAnimationFrame(YU)))}function cz(n,e=!0,t,i){if(e&&i0("before",n),t)NE(n,t,i);else for(const r of xh.values())NE(n,r.store.getState());e&&i0("after",n)}const E1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Yee(n){const{handlePointer:e}=Eee(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(E1).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[c,u]=E1[a];t.addEventListener(c,o,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=E1[r];i.connected.removeEventListener(o,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function uz(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Kee({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,m=I.useRef(!1);I.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,v,b]=I.useMemo(()=>{const A=()=>{if(!c.current.element)return;const{left:z,top:B,width:L,height:O,bottom:U,right:k,x:F,y:P}=c.current.element.getBoundingClientRect(),w={left:z,top:B,width:L,height:O,bottom:U,right:k,x:F,y:P};c.current.element instanceof HTMLElement&&i&&(w.height=c.current.element.offsetHeight,w.width=c.current.element.offsetWidth),Object.freeze(w),m.current&&!Qee(c.current.lastBounds,w)&&o(c.current.lastBounds=w)};return[A,h?uz(A,h):A,u?uz(A,u):A]},[o,i,u,h]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",b,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function E(){c.current.element&&(c.current.resizeObserver=new r(b),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(A=>A.addEventListener("scroll",b,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const M=A=>{!A||A===c.current.element||(S(),c.current.element=A,c.current.scrollContainers=KU(A),E())};return Jee(b,!!e),qee(v),I.useEffect(()=>{S(),E()},[e,b,v]),I.useEffect(()=>S,[]),[M,a,g]}function qee(n){I.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Jee(n,e){I.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function KU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...KU(n.parentElement)]}const Zee=["x","y","top","bottom","left","right","width","height"],Qee=(n,e)=>Zee.every(t=>n[t]===e[t]);function $ee({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:o=Yee,eventSource:c,eventPrefix:u,shadows:h,linear:m,flat:g,legacy:v,orthographic:b,frameloop:S,dpr:E,performance:M,raycaster:A,camera:z,scene:B,onPointerMissed:L,onCreated:O,...U}){I.useMemo(()=>zee(H$),[]);const k=pee(),[F,P]=Kee({scroll:!0,debounce:{scroll:50,resize:0},...i}),w=I.useRef(null),G=I.useRef(null);I.useImperativeHandle(n,()=>w.current);const ee=HT(L),[q,$]=I.useState(!1),[ae,J]=I.useState(!1);if(q)throw q;if(ae)throw ae;const re=I.useRef(null);iv(()=>{const de=w.current;if(P.width>0&&P.height>0&&de){re.current||(re.current=Fee(de));async function Y(){await re.current.configure({gl:a,scene:B,events:o,shadows:h,linear:m,flat:g,legacy:v,orthographic:b,frameloop:S,dpr:E,performance:M,raycaster:A,camera:z,size:P,onPointerMissed:(...te)=>ee.current==null?void 0:ee.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(c?dee(c)?c.current:c:G.current),u&&te.setEvents({compute:(Ce,He)=>{const se=Ce[u+"X"],we=Ce[u+"Y"];He.pointer.set(se/He.size.width*2-1,-(we/He.size.height)*2+1),He.raycaster.setFromCamera(He.pointer,He.camera)}}),O==null||O(te)}}),re.current.render(T.jsx(k,{children:T.jsx(gee,{set:J,children:T.jsx(I.Suspense,{fallback:T.jsx(mee,{set:$}),children:e??null})})}))}Y()}}),I.useEffect(()=>{const de=w.current;if(de)return()=>WU(de)},[]);const Q=c?"none":"auto";return T.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...U,children:T.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:T.jsx("canvas",{ref:w,style:{display:"block"},children:t})})})}function XT(n){return T.jsx(LU,{children:T.jsx($ee,{...n})})}const av=new Z,WT=new Z,ete=new Z,fz=new qe;function tte(n,e,t){const i=av.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,a=t.height/2;return[i.x*r+r,-(i.y*a)+a]}function nte(n,e){const t=av.setFromMatrixPosition(n.matrixWorld),i=WT.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),a=e.getWorldDirection(ete);return r.angleTo(a)>Math.PI/2}function ite(n,e,t,i){const r=av.setFromMatrixPosition(n.matrixWorld),a=r.clone();a.project(e),fz.set(a.x,a.y),t.setFromCamera(fz,e);const o=t.intersectObjects(i,!0);if(o.length){const c=o[0].distance;return r.distanceTo(t.ray.origin)<c}return!0}function rte(n,e){if(e instanceof sl)return e.zoom;if(e instanceof Ti){const t=av.setFromMatrixPosition(n.matrixWorld),i=WT.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=t.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function ate(n,e,t){if(e instanceof Ti||e instanceof sl){const i=av.setFromMatrixPosition(n.matrixWorld),r=WT.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),c=t[1]-o*e.far;return Math.round(o*a+c)}}const IE=n=>Math.abs(n)<1e-10?0:n;function qU(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=IE(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const ste=(n=>e=>qU(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),ote=(n=>(e,t)=>qU(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function lte(n){return n&&typeof n=="object"&&"current"in n}const YT=I.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:a,fullscreen:o,portal:c,distanceFactor:u,sprite:h=!1,transform:m=!1,occlude:g,onOcclude:v,castShadow:b,receiveShadow:S,material:E,geometry:M,zIndexRange:A=[16777271,0],calculatePosition:z=tte,as:B="div",wrapperClass:L,pointerEvents:O="auto",...U},k)=>{const{gl:F,camera:P,scene:w,size:G,raycaster:ee,events:q,viewport:$}=lr(),[ae]=I.useState(()=>document.createElement(B)),J=I.useRef(null),re=I.useRef(null),Q=I.useRef(0),de=I.useRef([0,0]),Y=I.useRef(null),te=I.useRef(null),Ce=(c==null?void 0:c.current)||q.connected||F.domElement.parentNode,He=I.useRef(null),se=I.useRef(!1),we=I.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&lte(g[0]),[g]);I.useLayoutEffect(()=>{const Ze=F.domElement;g&&g==="blending"?(Ze.style.zIndex=`${Math.floor(A[0]/2)}`,Ze.style.position="absolute",Ze.style.pointerEvents="none"):(Ze.style.zIndex=null,Ze.style.position=null,Ze.style.pointerEvents=null)},[g]),I.useLayoutEffect(()=>{if(re.current){const Ze=J.current=wz.createRoot(ae);if(w.updateMatrixWorld(),m)ae.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const at=z(re.current,P,G);ae.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${at[0]}px,${at[1]}px,0);transform-origin:0 0;`}return Ce&&(r?Ce.prepend(ae):Ce.appendChild(ae)),()=>{Ce&&Ce.removeChild(ae),Ze.unmount()}}},[Ce,m]),I.useLayoutEffect(()=>{L&&(ae.className=L)},[L]);const Ae=I.useMemo(()=>m?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...t},[t,a,o,G,m]),Xe=I.useMemo(()=>({position:"absolute",pointerEvents:O}),[O]);I.useLayoutEffect(()=>{if(se.current=!1,m){var Ze;(Ze=J.current)==null||Ze.render(I.createElement("div",{ref:Y,style:Ae},I.createElement("div",{ref:te,style:Xe},I.createElement("div",{ref:k,className:i,style:t,children:n}))))}else{var at;(at=J.current)==null||at.render(I.createElement("div",{ref:k,style:Ae,className:i,children:n}))}});const Ge=I.useRef(!0);Th(Ze=>{if(re.current){P.updateMatrixWorld(),re.current.updateWorldMatrix(!0,!1);const at=m?de.current:z(re.current,P,G);if(m||Math.abs(Q.current-P.zoom)>e||Math.abs(de.current[0]-at[0])>e||Math.abs(de.current[1]-at[1])>e){const Et=nte(re.current,P);let ht=!1;we&&(Array.isArray(g)?ht=g.map(De=>De.current):g!=="blending"&&(ht=[w]));const ne=Ge.current;if(ht){const De=ite(re.current,P,ee,ht);Ge.current=De&&!Et}else Ge.current=!Et;ne!==Ge.current&&(v?v(!Ge.current):ae.style.display=Ge.current?"block":"none");const Yt=Math.floor(A[0]/2),ke=g?we?[A[0],Yt]:[Yt-1,0]:A;if(ae.style.zIndex=`${ate(re.current,P,ke)}`,m){const[De,Te]=[G.width/2,G.height/2],$e=P.projectionMatrix.elements[5]*Te,{isOrthographicCamera:ze,top:K,left:j,bottom:pe,right:Ee}=P,ce=ste(P.matrixWorldInverse),fe=ze?`scale(${$e})translate(${IE(-(Ee+j)/2)}px,${IE((K+pe)/2)}px)`:`translateZ(${$e}px)`;let Fe=re.current.matrixWorld;h&&(Fe=P.matrixWorldInverse.clone().transpose().copyPosition(Fe).scale(re.current.scale),Fe.elements[3]=Fe.elements[7]=Fe.elements[11]=0,Fe.elements[15]=1),ae.style.width=G.width+"px",ae.style.height=G.height+"px",ae.style.perspective=ze?"":`${$e}px`,Y.current&&te.current&&(Y.current.style.transform=`${fe}${ce}translate(${De}px,${Te}px)`,te.current.style.transform=ote(Fe,1/((u||10)/400)))}else{const De=u===void 0?1:rte(re.current,P)*u;ae.style.transform=`translate3d(${at[0]}px,${at[1]}px,0) scale(${De})`}de.current=at,Q.current=P.zoom}}if(!we&&He.current&&!se.current)if(m){if(Y.current){const at=Y.current.children[0];if(at!=null&&at.clientWidth&&at!=null&&at.clientHeight){const{isOrthographicCamera:Et}=P;if(Et||M)U.scale&&(Array.isArray(U.scale)?U.scale instanceof Z?He.current.scale.copy(U.scale.clone().divideScalar(1)):He.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):He.current.scale.setScalar(1/U.scale));else{const ht=(u||10)/400,ne=at.clientWidth*ht,Yt=at.clientHeight*ht;He.current.scale.set(ne,Yt,1)}se.current=!0}}}else{const at=ae.children[0];if(at!=null&&at.clientWidth&&at!=null&&at.clientHeight){const Et=1/$.factor,ht=at.clientWidth*Et,ne=at.clientHeight*Et;He.current.scale.set(ht,ne,1),se.current=!0}He.current.lookAt(Ze.camera.position)}});const vt=I.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return I.createElement("group",Pa({},U,{ref:re}),g&&!we&&I.createElement("mesh",{castShadow:b,receiveShadow:S,ref:He},M||I.createElement("planeGeometry",null),E||I.createElement("shaderMaterial",{side:lo,vertexShader:vt.vertexShader,fragmentShader:vt.fragmentShader})))}),cte=parseInt(W0.replace(/\D+/g,""));function dz(n,e){if(e===fN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===eA||e===aT){let t=n.getIndex();if(t===null){const o=[],c=n.getAttribute("position");if(c!==void 0){for(let u=0;u<c.count;u++)o.push(u);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===eA)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var ute=Object.defineProperty,fte=(n,e,t)=>e in n?ute(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dte=(n,e,t)=>(fte(n,e+"",t),t);class hte{constructor(){dte(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}var pte=Object.defineProperty,mte=(n,e,t)=>e in n?pte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kt=(n,e,t)=>(mte(n,typeof e!="symbol"?e+"":e,t),t);const Vb=new _h,hz=new qc,gte=Math.cos(70*(Math.PI/180)),pz=(n,e)=>(n%e+e)%e;let yte=class extends hte{constructor(e,t){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new Z),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:jd.ROTATE,MIDDLE:jd.DOLLY,RIGHT:jd.PAN}),kt(this,"touches",{ONE:Gd.ROTATE,TWO:Gd.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"getZoomScale"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),kt(this,"dollyIn"),kt(this,"dollyOut"),kt(this,"getScale"),kt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ue=>{let Ie=pz(ue,2*Math.PI),yt=m.phi;yt<0&&(yt+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let le=Math.abs(Ie-yt);2*Math.PI-le<le&&(Ie<yt?Ie+=2*Math.PI:yt+=2*Math.PI),g.phi=Ie-yt,i.update()},this.setAzimuthalAngle=ue=>{let Ie=pz(ue,2*Math.PI),yt=m.theta;yt<0&&(yt+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let le=Math.abs(Ie-yt);2*Math.PI-le<le&&(Ie<yt?Ie+=2*Math.PI:yt+=2*Math.PI),g.theta=Ie-yt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",Pe),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Pe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),u=c.NONE},this.update=(()=>{const ue=new Z,Ie=new Z(0,1,0),yt=new yr().setFromUnitVectors(e.up,Ie),le=yt.clone().invert(),st=new Z,Oe=new yr,Ue=2*Math.PI;return function(){const dt=i.object.position;yt.setFromUnitVectors(e.up,Ie),le.copy(yt).invert(),ue.copy(dt).sub(i.target),ue.applyQuaternion(yt),m.setFromVector3(ue),i.autoRotate&&u===c.NONE&&$(ee()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let wt=i.minAzimuthAngle,Xt=i.maxAzimuthAngle;isFinite(wt)&&isFinite(Xt)&&(wt<-Math.PI?wt+=Ue:wt>Math.PI&&(wt-=Ue),Xt<-Math.PI?Xt+=Ue:Xt>Math.PI&&(Xt-=Ue),wt<=Xt?m.theta=Math.max(wt,Math.min(Xt,m.theta)):m.theta=m.theta>(wt+Xt)/2?Math.max(wt,m.theta):Math.min(Xt,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&P||i.object.isOrthographicCamera?m.radius=He(m.radius):m.radius=He(m.radius*v),ue.setFromSpherical(m),ue.applyQuaternion(le),dt.copy(i.target).add(ue),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),b.set(0,0,0));let Fn=!1;if(i.zoomToCursor&&P){let $t=null;if(i.object instanceof Ti&&i.object.isPerspectiveCamera){const bi=ue.length();$t=He(bi*v);const Ri=bi-$t;i.object.position.addScaledVector(k,Ri),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const bi=new Z(F.x,F.y,0);bi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),Fn=!0;const Ri=new Z(F.x,F.y,0);Ri.unproject(i.object),i.object.position.sub(Ri).add(bi),i.object.updateMatrixWorld(),$t=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;$t!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar($t).add(i.object.position):(Vb.origin.copy(i.object.position),Vb.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Vb.direction))<gte?e.lookAt(i.target):(hz.setFromNormalAndCoplanarPoint(i.object.up,i.target),Vb.intersectPlane(hz,i.target))))}else i.object instanceof sl&&i.object.isOrthographicCamera&&(Fn=v!==1,Fn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,P=!1,Fn||st.distanceToSquared(i.object.position)>h||8*(1-Oe.dot(i.object.quaternion))>h?(i.dispatchEvent(r),st.copy(i.object.position),Oe.copy(i.object.quaternion),Fn=!1,!0):!1}})(),this.connect=ue=>{i.domElement=ue,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",We),i.domElement.addEventListener("pointerdown",j),i.domElement.addEventListener("pointercancel",Ee),i.domElement.addEventListener("wheel",Fe)},this.dispose=()=>{var ue,Ie,yt,le,st,Oe;i.domElement&&(i.domElement.style.touchAction="auto"),(ue=i.domElement)==null||ue.removeEventListener("contextmenu",We),(Ie=i.domElement)==null||Ie.removeEventListener("pointerdown",j),(yt=i.domElement)==null||yt.removeEventListener("pointercancel",Ee),(le=i.domElement)==null||le.removeEventListener("wheel",Fe),(st=i.domElement)==null||st.ownerDocument.removeEventListener("pointermove",pe),(Oe=i.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",Ee),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Pe)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=c.NONE;const h=1e-6,m=new RE,g=new RE;let v=1;const b=new Z,S=new qe,E=new qe,M=new qe,A=new qe,z=new qe,B=new qe,L=new qe,O=new qe,U=new qe,k=new Z,F=new qe;let P=!1;const w=[],G={};function ee(){return 2*Math.PI/60/60*i.autoRotateSpeed}function q(){return Math.pow(.95,i.zoomSpeed)}function $(ue){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=ue:g.theta-=ue}function ae(ue){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=ue:g.phi-=ue}const J=(()=>{const ue=new Z;return function(yt,le){ue.setFromMatrixColumn(le,0),ue.multiplyScalar(-yt),b.add(ue)}})(),re=(()=>{const ue=new Z;return function(yt,le){i.screenSpacePanning===!0?ue.setFromMatrixColumn(le,1):(ue.setFromMatrixColumn(le,0),ue.crossVectors(i.object.up,ue)),ue.multiplyScalar(yt),b.add(ue)}})(),Q=(()=>{const ue=new Z;return function(yt,le){const st=i.domElement;if(st&&i.object instanceof Ti&&i.object.isPerspectiveCamera){const Oe=i.object.position;ue.copy(Oe).sub(i.target);let Ue=ue.length();Ue*=Math.tan(i.object.fov/2*Math.PI/180),J(2*yt*Ue/st.clientHeight,i.object.matrix),re(2*le*Ue/st.clientHeight,i.object.matrix)}else st&&i.object instanceof sl&&i.object.isOrthographicCamera?(J(yt*(i.object.right-i.object.left)/i.object.zoom/st.clientWidth,i.object.matrix),re(le*(i.object.top-i.object.bottom)/i.object.zoom/st.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function de(ue){i.object instanceof Ti&&i.object.isPerspectiveCamera||i.object instanceof sl&&i.object.isOrthographicCamera?v=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(ue){de(v/ue)}function te(ue){de(v*ue)}function Ce(ue){if(!i.zoomToCursor||!i.domElement)return;P=!0;const Ie=i.domElement.getBoundingClientRect(),yt=ue.clientX-Ie.left,le=ue.clientY-Ie.top,st=Ie.width,Oe=Ie.height;F.x=yt/st*2-1,F.y=-(le/Oe)*2+1,k.set(F.x,F.y,1).unproject(i.object).sub(i.object.position).normalize()}function He(ue){return Math.max(i.minDistance,Math.min(i.maxDistance,ue))}function se(ue){S.set(ue.clientX,ue.clientY)}function we(ue){Ce(ue),L.set(ue.clientX,ue.clientY)}function Ae(ue){A.set(ue.clientX,ue.clientY)}function Xe(ue){E.set(ue.clientX,ue.clientY),M.subVectors(E,S).multiplyScalar(i.rotateSpeed);const Ie=i.domElement;Ie&&($(2*Math.PI*M.x/Ie.clientHeight),ae(2*Math.PI*M.y/Ie.clientHeight)),S.copy(E),i.update()}function Ge(ue){O.set(ue.clientX,ue.clientY),U.subVectors(O,L),U.y>0?Y(q()):U.y<0&&te(q()),L.copy(O),i.update()}function vt(ue){z.set(ue.clientX,ue.clientY),B.subVectors(z,A).multiplyScalar(i.panSpeed),Q(B.x,B.y),A.copy(z),i.update()}function Ze(ue){Ce(ue),ue.deltaY<0?te(q()):ue.deltaY>0&&Y(q()),i.update()}function at(ue){let Ie=!1;switch(ue.code){case i.keys.UP:Q(0,i.keyPanSpeed),Ie=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),Ie=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),Ie=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),Ie=!0;break}Ie&&(ue.preventDefault(),i.update())}function Et(){if(w.length==1)S.set(w[0].pageX,w[0].pageY);else{const ue=.5*(w[0].pageX+w[1].pageX),Ie=.5*(w[0].pageY+w[1].pageY);S.set(ue,Ie)}}function ht(){if(w.length==1)A.set(w[0].pageX,w[0].pageY);else{const ue=.5*(w[0].pageX+w[1].pageX),Ie=.5*(w[0].pageY+w[1].pageY);A.set(ue,Ie)}}function ne(){const ue=w[0].pageX-w[1].pageX,Ie=w[0].pageY-w[1].pageY,yt=Math.sqrt(ue*ue+Ie*Ie);L.set(0,yt)}function Yt(){i.enableZoom&&ne(),i.enablePan&&ht()}function ke(){i.enableZoom&&ne(),i.enableRotate&&Et()}function De(ue){if(w.length==1)E.set(ue.pageX,ue.pageY);else{const yt=gt(ue),le=.5*(ue.pageX+yt.x),st=.5*(ue.pageY+yt.y);E.set(le,st)}M.subVectors(E,S).multiplyScalar(i.rotateSpeed);const Ie=i.domElement;Ie&&($(2*Math.PI*M.x/Ie.clientHeight),ae(2*Math.PI*M.y/Ie.clientHeight)),S.copy(E)}function Te(ue){if(w.length==1)z.set(ue.pageX,ue.pageY);else{const Ie=gt(ue),yt=.5*(ue.pageX+Ie.x),le=.5*(ue.pageY+Ie.y);z.set(yt,le)}B.subVectors(z,A).multiplyScalar(i.panSpeed),Q(B.x,B.y),A.copy(z)}function $e(ue){const Ie=gt(ue),yt=ue.pageX-Ie.x,le=ue.pageY-Ie.y,st=Math.sqrt(yt*yt+le*le);O.set(0,st),U.set(0,Math.pow(O.y/L.y,i.zoomSpeed)),Y(U.y),L.copy(O)}function ze(ue){i.enableZoom&&$e(ue),i.enablePan&&Te(ue)}function K(ue){i.enableZoom&&$e(ue),i.enableRotate&&De(ue)}function j(ue){var Ie,yt;i.enabled!==!1&&(w.length===0&&((Ie=i.domElement)==null||Ie.ownerDocument.addEventListener("pointermove",pe),(yt=i.domElement)==null||yt.ownerDocument.addEventListener("pointerup",Ee)),it(ue),ue.pointerType==="touch"?Je(ue):ce(ue))}function pe(ue){i.enabled!==!1&&(ue.pointerType==="touch"?et(ue):fe(ue))}function Ee(ue){var Ie,yt,le;ct(ue),w.length===0&&((Ie=i.domElement)==null||Ie.releasePointerCapture(ue.pointerId),(yt=i.domElement)==null||yt.ownerDocument.removeEventListener("pointermove",pe),(le=i.domElement)==null||le.ownerDocument.removeEventListener("pointerup",Ee)),i.dispatchEvent(o),u=c.NONE}function ce(ue){let Ie;switch(ue.button){case 0:Ie=i.mouseButtons.LEFT;break;case 1:Ie=i.mouseButtons.MIDDLE;break;case 2:Ie=i.mouseButtons.RIGHT;break;default:Ie=-1}switch(Ie){case jd.DOLLY:if(i.enableZoom===!1)return;we(ue),u=c.DOLLY;break;case jd.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(i.enablePan===!1)return;Ae(ue),u=c.PAN}else{if(i.enableRotate===!1)return;se(ue),u=c.ROTATE}break;case jd.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(i.enableRotate===!1)return;se(ue),u=c.ROTATE}else{if(i.enablePan===!1)return;Ae(ue),u=c.PAN}break;default:u=c.NONE}u!==c.NONE&&i.dispatchEvent(a)}function fe(ue){if(i.enabled!==!1)switch(u){case c.ROTATE:if(i.enableRotate===!1)return;Xe(ue);break;case c.DOLLY:if(i.enableZoom===!1)return;Ge(ue);break;case c.PAN:if(i.enablePan===!1)return;vt(ue);break}}function Fe(ue){i.enabled===!1||i.enableZoom===!1||u!==c.NONE&&u!==c.ROTATE||(ue.preventDefault(),i.dispatchEvent(a),Ze(ue),i.dispatchEvent(o))}function Pe(ue){i.enabled===!1||i.enablePan===!1||at(ue)}function Je(ue){switch(ft(ue),w.length){case 1:switch(i.touches.ONE){case Gd.ROTATE:if(i.enableRotate===!1)return;Et(),u=c.TOUCH_ROTATE;break;case Gd.PAN:if(i.enablePan===!1)return;ht(),u=c.TOUCH_PAN;break;default:u=c.NONE}break;case 2:switch(i.touches.TWO){case Gd.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Yt(),u=c.TOUCH_DOLLY_PAN;break;case Gd.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ke(),u=c.TOUCH_DOLLY_ROTATE;break;default:u=c.NONE}break;default:u=c.NONE}u!==c.NONE&&i.dispatchEvent(a)}function et(ue){switch(ft(ue),u){case c.TOUCH_ROTATE:if(i.enableRotate===!1)return;De(ue),i.update();break;case c.TOUCH_PAN:if(i.enablePan===!1)return;Te(ue),i.update();break;case c.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ze(ue),i.update();break;case c.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;K(ue),i.update();break;default:u=c.NONE}}function We(ue){i.enabled!==!1&&ue.preventDefault()}function it(ue){w.push(ue)}function ct(ue){delete G[ue.pointerId];for(let Ie=0;Ie<w.length;Ie++)if(w[Ie].pointerId==ue.pointerId){w.splice(Ie,1);return}}function ft(ue){let Ie=G[ue.pointerId];Ie===void 0&&(Ie=new qe,G[ue.pointerId]=Ie),Ie.set(ue.pageX,ue.pageY)}function gt(ue){const Ie=ue.pointerId===w[0].pointerId?w[1]:w[0];return G[Ie.pointerId]}this.dollyIn=(ue=q())=>{te(ue),i.update()},this.dollyOut=(ue=q())=>{Y(ue),i.update()},this.getScale=()=>v,this.setScale=ue=>{de(ue),i.update()},this.getZoomScale=()=>q(),t!==void 0&&this.connect(t),this.update()}};function cA(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const th="srgb",ou="srgb-linear",mz=3001,vte=3e3;class KT extends _a{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new _te(t)}),this.register(function(t){return new Mte(t)}),this.register(function(t){return new Lte(t)}),this.register(function(t){return new Ote(t)}),this.register(function(t){return new Nte(t)}),this.register(function(t){return new Cte(t)}),this.register(function(t){return new Tte(t)}),this.register(function(t){return new wte(t)}),this.register(function(t){return new Rte(t)}),this.register(function(t){return new Ate(t)}),this.register(function(t){return new Bte(t)}),this.register(function(t){return new Ete(t)}),this.register(function(t){return new zte(t)}),this.register(function(t){return new Dte(t)}),this.register(function(t){return new bte(t)}),this.register(function(t){return new Ute(t)}),this.register(function(t){return new Pte(t)})}load(e,t,i,r){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const h=vf.extractUrlBase(e);o=vf.resolveURL(h,this.path)}else o=vf.extractUrlBase(e);this.manager.itemStart(e);const c=function(h){r?r(h):console.error(h),a.manager.itemError(e),a.manager.itemEnd(e)},u=new ks(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){try{a.parse(h,o,function(m){t(m),a.manager.itemEnd(e)},c)}catch(m){c(m)}},i,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let a;const o={},c={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(cA(new Uint8Array(e.slice(0,4)))===JU){try{o[An.KHR_BINARY_GLTF]=new Ite(e)}catch(m){r&&r(m);return}a=JSON.parse(o[An.KHR_BINARY_GLTF].content)}else a=JSON.parse(cA(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Zte(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const m=this.pluginCallbacks[h](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[m.name]=m,o[m.name]=!0}if(a.extensionsUsed)for(let h=0;h<a.extensionsUsed.length;++h){const m=a.extensionsUsed[h],g=a.extensionsRequired||[];switch(m){case An.KHR_MATERIALS_UNLIT:o[m]=new Ste;break;case An.KHR_DRACO_MESH_COMPRESSION:o[m]=new kte(a,this.dracoLoader);break;case An.KHR_TEXTURE_TRANSFORM:o[m]=new Fte;break;case An.KHR_MESH_QUANTIZATION:o[m]=new Hte;break;default:g.indexOf(m)>=0&&c[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(o),u.setPlugins(c),u.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,a){i.parse(e,t,r,a)})}}function xte(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const An={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bte{constructor(e){this.parser=e,this.name=An.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const a=t.json,u=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let h;const m=new bt(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],ou);const g=u.range!==void 0?u.range:0;switch(u.type){case"directional":h=new BT(m),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new RT(m),h.distance=g;break;case"spot":h=new wT(m),h.distance=g,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,h.angle=u.spot.outerConeAngle,h.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return h.position.set(0,0,0),h.decay=2,Kc(h,u),u.intensity!==void 0&&(h.intensity=u.intensity),h.name=t.createUniqueName(u.name||"light_"+e),r=Promise.resolve(h),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,a=i.json.nodes[e],c=(a.extensions&&a.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(u){return i._getNodeRef(t.cache,c,u)})}}class Ste{constructor(){this.name=An.KHR_MATERIALS_UNLIT}getMaterialType(){return Os}extendParams(e,t,i){const r=[];e.color=new bt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],ou),e.opacity=o[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,th))}return Promise.all(r)}}class Ate{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class _te{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new qe(c,c)}return Promise.all(a)}}class Mte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class Ete{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class Cte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new bt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const c=o.sheenColorFactor;t.sheenColor.setRGB(c[0],c[1],c[2],ou)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,th)),o.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class Tte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class wte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return t.attenuationColor=new bt().setRGB(c[0],c[1],c[2],ou),Promise.all(a)}}class Rte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class Bte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return t.specularColor=new bt().setRGB(c[0],c[1],c[2],ou),o.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,th)),Promise.all(a)}}class Dte{constructor(e){this.parser=e,this.name=An.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(a)}}class zte{constructor(e){this.parser=e,this.name=An.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:mo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class Lte{constructor(e){this.parser=e,this.name=An.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,o)}}class Ote{constructor(e){this.parser=e,this.name=An.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=r.images[o.source];let u=i.textureLoader;if(c.uri){const h=i.options.manager.getHandler(c.uri);h!==null&&(u=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,o.source,u);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Nte{constructor(e){this.parser=e,this.name=An.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=r.images[o.source];let u=i.textureLoader;if(c.uri){const h=i.options.manager.getHandler(c.uri);h!==null&&(u=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,o.source,u);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ute{constructor(e){this.name=An.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(c){const u=r.byteOffset||0,h=r.byteLength||0,m=r.count,g=r.byteStride,v=new Uint8Array(c,u,h);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,g,v,r.mode,r.filter).then(function(b){return b.buffer}):o.ready.then(function(){const b=new ArrayBuffer(m*g);return o.decodeGltfBuffer(new Uint8Array(b),m,g,v,r.mode,r.filter),b})})}else return null}}class Pte{constructor(e){this.name=An.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const h of r.primitives)if(h.mode!==ao.TRIANGLES&&h.mode!==ao.TRIANGLE_STRIP&&h.mode!==ao.TRIANGLE_FAN&&h.mode!==void 0)return null;const o=i.extensions[this.name].attributes,c=[],u={};for(const h in o)c.push(this.parser.getDependency("accessor",o[h]).then(m=>(u[h]=m,u[h])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(h=>{const m=h.pop(),g=m.isGroup?m.children:[m],v=h[0].count,b=[];for(const S of g){const E=new Pt,M=new Z,A=new yr,z=new Z(1,1,1),B=new dT(S.geometry,S.material,v);for(let L=0;L<v;L++)u.TRANSLATION&&M.fromBufferAttribute(u.TRANSLATION,L),u.ROTATION&&A.fromBufferAttribute(u.ROTATION,L),u.SCALE&&z.fromBufferAttribute(u.SCALE,L),B.setMatrixAt(L,E.compose(M,A,z));for(const L in u)if(L==="_COLOR_0"){const O=u[L];B.instanceColor=new ph(O.array,O.itemSize,O.normalized)}else L!=="TRANSLATION"&&L!=="ROTATION"&&L!=="SCALE"&&S.geometry.setAttribute(L,u[L]);En.prototype.copy.call(B,S),this.parser.assignFinalMaterial(B),b.push(B)}return m.isGroup?(m.clear(),m.add(...b),m):b[0]}))}}const JU="glTF",zy=12,gz={JSON:1313821514,BIN:5130562};class Ite{constructor(e){this.name=An.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,zy);if(this.header={magic:cA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==JU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-zy,r=new DataView(e,zy);let a=0;for(;a<i;){const o=r.getUint32(a,!0);a+=4;const c=r.getUint32(a,!0);if(a+=4,c===gz.JSON){const u=new Uint8Array(e,zy+a,o);this.content=cA(u)}else if(c===gz.BIN){const u=zy+a;this.body=e.slice(u,u+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class kte{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=An.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,c={},u={},h={};for(const m in o){const g=kE[m]||m.toLowerCase();c[g]=o[m]}for(const m in e.attributes){const g=kE[m]||m.toLowerCase();if(o[m]!==void 0){const v=i.accessors[e.attributes[m]],b=xm[v.componentType];h[g]=b.name,u[g]=v.normalized===!0}}return t.getDependency("bufferView",a).then(function(m){return new Promise(function(g,v){r.decodeDracoFile(m,function(b){for(const S in b.attributes){const E=b.attributes[S],M=u[S];M!==void 0&&(E.normalized=M)}g(b)},c,h,ou,v)})})}}class Fte{constructor(){this.name=An.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Hte{constructor(){this.name=An.KHR_MESH_QUANTIZATION}}class ZU extends Qm{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[a+o];return t}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=c*2,h=c*3,m=r-t,g=(i-t)/m,v=g*g,b=v*g,S=e*h,E=S-h,M=-2*b+3*v,A=b-v,z=1-M,B=A-v+g;for(let L=0;L!==c;L++){const O=o[E+L+c],U=o[E+L+u]*m,k=o[S+L+c],F=o[S+L]*m;a[L]=z*O+B*U+M*k+A*F}return a}}const jte=new yr;class Gte extends ZU{interpolate_(e,t,i,r){const a=super.interpolate_(e,t,i,r);return jte.fromArray(a).normalize().toArray(a),a}}const ao={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},xm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yz={9728:kr,9729:Hi,9984:NA,9985:ym,9986:Jd,9987:ho},vz={33071:Ls,33648:Rm,10497:Mf},C1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},kE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...cte>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},cf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Vte={CUBICSPLINE:void 0,LINEAR:Nm,STEP:Om},T1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Xte(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Zm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:oc})),n.DefaultMaterial}function Id(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Kc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Wte(n,e,t){let i=!1,r=!1,a=!1;for(let h=0,m=e.length;h<m;h++){const g=e[h];if(g.POSITION!==void 0&&(i=!0),g.NORMAL!==void 0&&(r=!0),g.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(n);const o=[],c=[],u=[];for(let h=0,m=e.length;h<m;h++){const g=e[h];if(i){const v=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):n.attributes.position;o.push(v)}if(r){const v=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):n.attributes.normal;c.push(v)}if(a){const v=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):n.attributes.color;u.push(v)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(u)]).then(function(h){const m=h[0],g=h[1],v=h[2];return i&&(n.morphAttributes.position=m),r&&(n.morphAttributes.normal=g),a&&(n.morphAttributes.color=v),n.morphTargetsRelative=!0,n})}function Yte(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Kte(n){let e;const t=n.extensions&&n.extensions[An.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+w1(t.attributes):e=n.indices+":"+w1(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+w1(n.targets[i]);return e}function w1(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function FE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function qte(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Jte=new Pt;class Zte{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new xte,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new lU(this.options.manager):this.textureLoader=new gU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ks(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const c={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return Id(a,c,r),Kc(c,r),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(c)})).then(function(){for(const u of c.scenes)u.updateMatrixWorld();e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const o=t[r].joints;for(let c=0,u=o.length;c<u;c++)e[o[c]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),a=(o,c)=>{const u=this.associations.get(o);u!=null&&this.associations.set(c,u);for(const[h,m]of o.children.entries())a(m,c.children[h])};return a(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(a,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[An.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,o){i.load(vf.resolveURL(t.uri,r.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=C1[r.type],c=xm[r.componentType],u=r.normalized===!0,h=new c(r.count*o);return Promise.resolve(new Pn(h,o,u))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(o){const c=o[0],u=C1[r.type],h=xm[r.componentType],m=h.BYTES_PER_ELEMENT,g=m*u,v=r.byteOffset||0,b=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,S=r.normalized===!0;let E,M;if(b&&b!==g){const A=Math.floor(v/b),z="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count;let B=t.cache.get(z);B||(E=new h(c,A*b,r.count*b/m),B=new Z0(E,b/m),t.cache.add(z,B)),M=new Cf(B,u,v%b/m,S)}else c===null?E=new h(r.count*u):E=new h(c,v,r.count*u),M=new Pn(E,u,S);if(r.sparse!==void 0){const A=C1.SCALAR,z=xm[r.sparse.indices.componentType],B=r.sparse.indices.byteOffset||0,L=r.sparse.values.byteOffset||0,O=new z(o[1],B,r.sparse.count*A),U=new h(o[2],L,r.sparse.count*u);c!==null&&(M=new Pn(M.array.slice(),M.itemSize,M.normalized));for(let k=0,F=O.length;k<F;k++){const P=O[k];if(M.setX(P,U[k*u]),u>=2&&M.setY(P,U[k*u+1]),u>=3&&M.setZ(P,U[k*u+2]),u>=4&&M.setW(P,U[k*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return M})}loadTexture(e){const t=this.json,i=this.options,a=t.textures[e].source,o=t.images[a];let c=this.textureLoader;if(o.uri){const u=i.manager.getHandler(o.uri);u!==null&&(c=u)}return this.loadTextureImage(e,a,c)}loadTextureImage(e,t,i){const r=this,a=this.json,o=a.textures[e],c=a.images[t],u=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];const h=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=o.name||c.name||"",m.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(m.name=c.uri);const v=(a.samplers||{})[o.sampler]||{};return m.magFilter=yz[v.magFilter]||Hi,m.minFilter=yz[v.minFilter]||ho,m.wrapS=vz[v.wrapS]||Mf,m.wrapT=vz[v.wrapT]||Mf,r.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[u]=h,h}loadImageSource(e,t){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const o=r.images[e],c=self.URL||self.webkitURL;let u=o.uri||"",h=!1;if(o.bufferView!==void 0)u=i.getDependency("bufferView",o.bufferView).then(function(g){h=!0;const v=new Blob([g],{type:o.mimeType});return u=c.createObjectURL(v),u});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(g){return new Promise(function(v,b){let S=v;t.isImageBitmapLoader===!0&&(S=function(E){const M=new wi(E);M.needsUpdate=!0,v(M)}),t.load(vf.resolveURL(g,a.path),S,void 0,b)})}).then(function(g){return h===!0&&c.revokeObjectURL(u),Kc(g,o),g.userData.mimeType=o.mimeType||qte(o.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[e]=m,m}assignTexture(e,t,i,r){const a=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),a.extensions[An.KHR_TEXTURE_TRANSFORM]){const c=i.extensions!==void 0?i.extensions[An.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const u=a.associations.get(o);o=a.extensions[An.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),a.associations.set(o,u)}}return r!==void 0&&(typeof r=="number"&&(r=r===mz?th:ou),"colorSpace"in o?o.colorSpace=r:o.encoding=r===th?mz:vte),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+i.uuid;let u=this.cache.get(c);u||(u=new JA,_r.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(c,u)),i=u}else if(e.isLine){const c="LineBasicMaterial:"+i.uuid;let u=this.cache.get(c);u||(u=new Aa,_r.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(c,u)),i=u}if(r||a||o){let c="ClonedMaterial:"+i.uuid+":";r&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let u=this.cache.get(c);u||(u=i.clone(),a&&(u.vertexColors=!0),o&&(u.flatShading=!0),r&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(c,u),this.associations.set(u,this.associations.get(i))),i=u}e.material=i}getMaterialType(){return Zm}loadMaterial(e){const t=this,i=this.json,r=this.extensions,a=i.materials[e];let o;const c={},u=a.extensions||{},h=[];if(u[An.KHR_MATERIALS_UNLIT]){const g=r[An.KHR_MATERIALS_UNLIT];o=g.getMaterialType(),h.push(g.extendParams(c,a,t))}else{const g=a.pbrMetallicRoughness||{};if(c.color=new bt(1,1,1),c.opacity=1,Array.isArray(g.baseColorFactor)){const v=g.baseColorFactor;c.color.setRGB(v[0],v[1],v[2],ou),c.opacity=v[3]}g.baseColorTexture!==void 0&&h.push(t.assignTexture(c,"map",g.baseColorTexture,th)),c.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,c.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(c,"metalnessMap",g.metallicRoughnessTexture)),h.push(t.assignTexture(c,"roughnessMap",g.metallicRoughnessTexture))),o=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,c)})))}a.doubleSided===!0&&(c.side=lo);const m=a.alphaMode||T1.OPAQUE;if(m===T1.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===T1.MASK&&(c.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==Os&&(h.push(t.assignTexture(c,"normalMap",a.normalTexture)),c.normalScale=new qe(1,1),a.normalTexture.scale!==void 0)){const g=a.normalTexture.scale;c.normalScale.set(g,g)}if(a.occlusionTexture!==void 0&&o!==Os&&(h.push(t.assignTexture(c,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==Os){const g=a.emissiveFactor;c.emissive=new bt().setRGB(g[0],g[1],g[2],ou)}return a.emissiveTexture!==void 0&&o!==Os&&h.push(t.assignTexture(c,"emissiveMap",a.emissiveTexture,th)),Promise.all(h).then(function(){const g=new o(c);return a.name&&(g.name=a.name),Kc(g,a),t.associations.set(g,{materials:e}),a.extensions&&Id(r,g,a),g})}createUniqueName(e){const t=Nn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function a(c){return i[An.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(u){return xz(u,c,t)})}const o=[];for(let c=0,u=e.length;c<u;c++){const h=e[c],m=Kte(h),g=r[m];if(g)o.push(g.promise);else{let v;h.extensions&&h.extensions[An.KHR_DRACO_MESH_COMPRESSION]?v=a(h):v=xz(new tn,h,t),r[m]={primitive:h,promise:v},o.push(v)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,a=i.meshes[e],o=a.primitives,c=[];for(let u=0,h=o.length;u<h;u++){const m=o[u].material===void 0?Xte(this.cache):this.getDependency("material",o[u].material);c.push(m)}return c.push(t.loadGeometries(o)),Promise.all(c).then(function(u){const h=u.slice(0,u.length-1),m=u[u.length-1],g=[];for(let b=0,S=m.length;b<S;b++){const E=m[b],M=o[b];let A;const z=h[b];if(M.mode===ao.TRIANGLES||M.mode===ao.TRIANGLE_STRIP||M.mode===ao.TRIANGLE_FAN||M.mode===void 0)A=a.isSkinnedMesh===!0?new fT(E,z):new nr(E,z),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),M.mode===ao.TRIANGLE_STRIP?A.geometry=dz(A.geometry,aT):M.mode===ao.TRIANGLE_FAN&&(A.geometry=dz(A.geometry,eA));else if(M.mode===ao.LINES)A=new fl(E,z);else if(M.mode===ao.LINE_STRIP)A=new du(E,z);else if(M.mode===ao.LINE_LOOP)A=new hT(E,z);else if(M.mode===ao.POINTS)A=new pT(E,z);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+M.mode);Object.keys(A.geometry.morphAttributes).length>0&&Yte(A,a),A.name=t.createUniqueName(a.name||"mesh_"+e),Kc(A,a),M.extensions&&Id(r,A,M),t.assignFinalMaterial(A),g.push(A)}for(let b=0,S=g.length;b<S;b++)t.associations.set(g[b],{meshes:e,primitives:b});if(g.length===1)return a.extensions&&Id(r,g[0],a),g[0];const v=new $c;a.extensions&&Id(r,v,a),t.associations.set(v,{meshes:e});for(let b=0,S=g.length;b<S;b++)v.add(g[b]);return v})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ti(AN.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new sl(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Kc(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,a=t.joints.length;r<a;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),o=r,c=[],u=[];for(let h=0,m=o.length;h<m;h++){const g=o[h];if(g){c.push(g);const v=new Pt;a!==null&&v.fromArray(a.array,h*16),u.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}return new Q0(c,u)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],a=r.name?r.name:"animation_"+e,o=[],c=[],u=[],h=[],m=[];for(let g=0,v=r.channels.length;g<v;g++){const b=r.channels[g],S=r.samplers[b.sampler],E=b.target,M=E.node,A=r.parameters!==void 0?r.parameters[S.input]:S.input,z=r.parameters!==void 0?r.parameters[S.output]:S.output;E.node!==void 0&&(o.push(this.getDependency("node",M)),c.push(this.getDependency("accessor",A)),u.push(this.getDependency("accessor",z)),h.push(S),m.push(E))}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(u),Promise.all(h),Promise.all(m)]).then(function(g){const v=g[0],b=g[1],S=g[2],E=g[3],M=g[4],A=[];for(let z=0,B=v.length;z<B;z++){const L=v[z],O=b[z],U=S[z],k=E[z],F=M[z];if(L===void 0)continue;L.updateMatrix&&L.updateMatrix();const P=i._createAnimationTracks(L,O,U,k,F);if(P)for(let w=0;w<P.length;w++)A.push(P[w])}return new Fm(a,void 0,A)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const o=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&o.traverse(function(c){if(c.isMesh)for(let u=0,h=r.weights.length;u<h;u++)c.morphTargetInfluences[u]=r.weights[u]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],a=i._loadNodeShallow(e),o=[],c=r.children||[];for(let h=0,m=c.length;h<m;h++)o.push(i.getDependency("node",c[h]));const u=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(o),u]).then(function(h){const m=h[0],g=h[1],v=h[2];v!==null&&m.traverse(function(b){b.isSkinnedMesh&&b.bind(v,Jte)});for(let b=0,S=g.length;b<S;b++)m.add(g[b]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],o=a.name?r.createUniqueName(a.name):"",c=[],u=r._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return u&&c.push(u),a.camera!==void 0&&c.push(r.getDependency("camera",a.camera).then(function(h){return r._getNodeRef(r.cameraCache,a.camera,h)})),r._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){c.push(h)}),this.nodeCache[e]=Promise.all(c).then(function(h){let m;if(a.isBone===!0?m=new qA:h.length>1?m=new $c:h.length===1?m=h[0]:m=new En,m!==h[0])for(let g=0,v=h.length;g<v;g++)m.add(h[g]);if(a.name&&(m.userData.name=a.name,m.name=o),Kc(m,a),a.extensions&&Id(i,m,a),a.matrix!==void 0){const g=new Pt;g.fromArray(a.matrix),m.applyMatrix4(g)}else a.translation!==void 0&&m.position.fromArray(a.translation),a.rotation!==void 0&&m.quaternion.fromArray(a.rotation),a.scale!==void 0&&m.scale.fromArray(a.scale);return r.associations.has(m)||r.associations.set(m,{}),r.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,a=new $c;i.name&&(a.name=r.createUniqueName(i.name)),Kc(a,i),i.extensions&&Id(t,a,i);const o=i.nodes||[],c=[];for(let u=0,h=o.length;u<h;u++)c.push(r.getDependency("node",o[u]));return Promise.all(c).then(function(u){for(let m=0,g=u.length;m<g;m++)a.add(u[m]);const h=m=>{const g=new Map;for(const[v,b]of r.associations)(v instanceof _r||v instanceof wi)&&g.set(v,b);return m.traverse(v=>{const b=r.associations.get(v);b!=null&&g.set(v,b)}),g};return r.associations=h(a),a})}_createAnimationTracks(e,t,i,r,a){const o=[],c=e.name?e.name:e.uuid,u=[];cf[a.path]===cf.weights?e.traverse(function(v){v.morphTargetInfluences&&u.push(v.name?v.name:v.uuid)}):u.push(c);let h;switch(cf[a.path]){case cf.weights:h=gh;break;case cf.rotation:h=yh;break;case cf.position:case cf.scale:h=vh;break;default:switch(i.itemSize){case 1:h=gh;break;case 2:case 3:default:h=vh;break}break}const m=r.interpolation!==void 0?Vte[r.interpolation]:Nm,g=this._getArrayFromAccessor(i);for(let v=0,b=u.length;v<b;v++){const S=new h(u[v]+"."+cf[a.path],t.array,g,m);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),o.push(S)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=FE(t.constructor),r=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=t[a]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof yh?Gte:ZU;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Qte(n,e,t){const i=e.attributes,r=new Sa;if(i.POSITION!==void 0){const c=t.json.accessors[i.POSITION],u=c.min,h=c.max;if(u!==void 0&&h!==void 0){if(r.set(new Z(u[0],u[1],u[2]),new Z(h[0],h[1],h[2])),c.normalized){const m=FE(xm[c.componentType]);r.min.multiplyScalar(m),r.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const c=new Z,u=new Z;for(let h=0,m=a.length;h<m;h++){const g=a[h];if(g.POSITION!==void 0){const v=t.json.accessors[g.POSITION],b=v.min,S=v.max;if(b!==void 0&&S!==void 0){if(u.setX(Math.max(Math.abs(b[0]),Math.abs(S[0]))),u.setY(Math.max(Math.abs(b[1]),Math.abs(S[1]))),u.setZ(Math.max(Math.abs(b[2]),Math.abs(S[2]))),v.normalized){const E=FE(xm[v.componentType]);u.multiplyScalar(E)}c.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(c)}n.boundingBox=r;const o=new $r;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function xz(n,e,t){const i=e.attributes,r=[];function a(o,c){return t.getDependency("accessor",o).then(function(u){n.setAttribute(c,u)})}for(const o in i){const c=kE[o]||o.toLowerCase();c in n.attributes||r.push(a(i[o],c))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(c){n.setIndex(c)});r.push(o)}return Kc(n,e),Qte(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Wte(n,e.targets,t):n})}const R1=new WeakMap;class $te extends _a{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const a=new ks(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,o=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,c).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const h=t.attributeTypes[u];h.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=h.name)}const i=JSON.stringify(t);if(R1.has(e)){const u=R1.get(e);if(u.key===i)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,o=e.byteLength,c=this._getWorker(a,o).then(u=>(r=u,new Promise((h,m)=>{r._callbacks[a]={resolve:h,reject:m},r.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return c.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),R1.set(e,{key:i,promise:c}),c}_createGeometry(e){const t=new tn;e.index&&t.setIndex(new Pn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,o=r.array,c=r.itemSize;t.setAttribute(a,new Pn(o,c))}return t}_loadLibrary(e,t){const i=new ks(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=ene.toString(),o=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const o=a.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ene(){let n,e;onmessage=function(o){const c=o.data;switch(c.type){case"init":n=c.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(n)});break;case"decode":const u=c.buffer,h=c.taskConfig;e.then(m=>{const g=m.draco,v=new g.Decoder,b=new g.DecoderBuffer;b.Init(new Int8Array(u),u.byteLength);try{const S=t(g,v,b,h),E=S.attributes.map(M=>M.array.buffer);S.index&&E.push(S.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:S},E)}catch(S){console.error(S),self.postMessage({type:"error",id:c.id,error:S.message})}finally{g.destroy(b),g.destroy(v)}});break}};function t(o,c,u,h){const m=h.attributeIDs,g=h.attributeTypes;let v,b;const S=c.GetEncodedGeometryType(u);if(S===o.TRIANGULAR_MESH)v=new o.Mesh,b=c.DecodeBufferToMesh(u,v);else if(S===o.POINT_CLOUD)v=new o.PointCloud,b=c.DecodeBufferToPointCloud(u,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!b.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+b.error_msg());const E={index:null,attributes:[]};for(const M in m){const A=self[g[M]];let z,B;if(h.useUniqueIDs)B=m[M],z=c.GetAttributeByUniqueId(v,B);else{if(B=c.GetAttributeId(v,o[m[M]]),B===-1)continue;z=c.GetAttribute(v,B)}E.attributes.push(r(o,c,v,M,A,z))}return S===o.TRIANGULAR_MESH&&(E.index=i(o,c,v)),o.destroy(v),E}function i(o,c,u){const m=u.num_faces()*3,g=m*4,v=o._malloc(g);c.GetTrianglesUInt32Array(u,g,v);const b=new Uint32Array(o.HEAPF32.buffer,v,m).slice();return o._free(v),{array:b,itemSize:1}}function r(o,c,u,h,m,g){const v=g.num_components(),S=u.num_points()*v,E=S*m.BYTES_PER_ELEMENT,M=a(o,m),A=o._malloc(E);c.GetAttributeDataArrayForAllPoints(u,g,M,E,A);const z=new m(o.HEAPF32.buffer,A,S).slice();return o._free(A),{name:h,array:z,itemSize:v}}function a(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Xb;const B1=()=>{if(Xb)return Xb;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let a;const o=WebAssembly.instantiate(c(r),{}).then(g=>{a=g.instance,a.exports.__wasm_call_ctors()});function c(g){const v=new Uint8Array(g.length);for(let S=0;S<g.length;++S){const E=g.charCodeAt(S);v[S]=E>96?E-71:E>64?E-65:E>47?E+4:E>46?63:62}let b=0;for(let S=0;S<g.length;++S)v[b++]=v[S]<60?i[v[S]]:(v[S]-60)*64+v[++S];return v.buffer.slice(0,b)}function u(g,v,b,S,E,M){const A=a.exports.sbrk,z=b+3&-4,B=A(z*S),L=A(E.length),O=new Uint8Array(a.exports.memory.buffer);O.set(E,L);const U=g(B,b,S,L,E.length);if(U===0&&M&&M(B,z,S),v.set(O.subarray(B,B+b*S)),A(B-A(0)),U!==0)throw new Error(`Malformed buffer data: ${U}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Xb={ready:o,supported:!0,decodeVertexBuffer(g,v,b,S,E){u(a.exports.meshopt_decodeVertexBuffer,g,v,b,S,a.exports[h[E]])},decodeIndexBuffer(g,v,b,S){u(a.exports.meshopt_decodeIndexBuffer,g,v,b,S)},decodeIndexSequence(g,v,b,S){u(a.exports.meshopt_decodeIndexSequence,g,v,b,S)},decodeGltfBuffer(g,v,b,S,E,M){u(a.exports[m[E]],g,v,b,S,a.exports[h[M]])}},Xb};let Wb=null,QU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function $U(n=!0,e=!0,t){return i=>{t&&t(i),n&&(Wb||(Wb=new $te),Wb.setDecoderPath(typeof n=="string"?n:QU),i.setDRACOLoader(Wb)),e&&i.setMeshoptDecoder(typeof B1=="function"?B1():B1)}}const tg=(n,e,t,i)=>rv(KT,n,$U(e,t,i));tg.preload=(n,e,t,i)=>rv.preload(KT,n,$U(e,t,i));tg.clear=n=>rv.clear(KT,n);tg.setDecoderPath=n=>{QU=n};function tne(n,e,t){const i=lr(v=>v.size),r=lr(v=>v.viewport),a=typeof n=="number"?n:i.width*r.dpr,o=i.height*r.dpr,c=(typeof n=="number"?t:n)||{},{samples:u=0,depth:h,...m}=c,g=I.useMemo(()=>{const v=new ll(a,o,{minFilter:Hi,magFilter:Hi,type:Ah,...m});return h&&(v.depthTexture=new QA(a,o,Ha)),v.samples=u,v},[]);return I.useLayoutEffect(()=>{g.setSize(a,o),u&&(g.samples=u)},[u,g,a,o]),I.useEffect(()=>()=>g.dispose(),[]),g}const nne=n=>typeof n=="function",ine=I.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...a},o)=>{const c=lr(({set:M})=>M),u=lr(({camera:M})=>M),h=lr(({size:M})=>M),m=I.useRef(null);I.useImperativeHandle(o,()=>m.current,[]);const g=I.useRef(null),v=tne(e);I.useLayoutEffect(()=>{a.manual||m.current.updateProjectionMatrix()},[h,a]),I.useLayoutEffect(()=>{m.current.updateProjectionMatrix()}),I.useLayoutEffect(()=>{if(r){const M=u;return c(()=>({camera:m.current})),()=>c(()=>({camera:M}))}},[m,r,c]);let b=0,S=null;const E=nne(i);return Th(M=>{E&&(t===1/0||b<t)&&(g.current.visible=!1,M.gl.setRenderTarget(v),S=M.scene.background,n&&(M.scene.background=n),M.gl.render(M.scene,m.current),M.scene.background=S,M.gl.setRenderTarget(null),g.current.visible=!0,b++)}),I.createElement(I.Fragment,null,I.createElement("orthographicCamera",Pa({left:h.width/-2,right:h.width/2,top:h.height/2,bottom:h.height/-2,ref:m},a),!E&&i),I.createElement("group",{ref:g},E&&i(v.texture)))}),qT=I.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:c,onEnd:u,...h},m)=>{const g=lr(U=>U.invalidate),v=lr(U=>U.camera),b=lr(U=>U.gl),S=lr(U=>U.events),E=lr(U=>U.setEvents),M=lr(U=>U.set),A=lr(U=>U.get),z=lr(U=>U.performance),B=e||v,L=i||S.connected||b.domElement,O=I.useMemo(()=>new yte(B),[B]);return Th(()=>{O.enabled&&O.update()},-1),I.useEffect(()=>(a&&O.connect(a===!0?L:a),O.connect(L),()=>void O.dispose()),[a,L,t,O,g]),I.useEffect(()=>{const U=P=>{g(),t&&z.regress(),o&&o(P)},k=P=>{c&&c(P)},F=P=>{u&&u(P)};return O.addEventListener("change",U),O.addEventListener("start",k),O.addEventListener("end",F),()=>{O.removeEventListener("start",k),O.removeEventListener("end",F),O.removeEventListener("change",U)}},[o,c,u,O,g,E]),I.useEffect(()=>{if(n){const U=A().controls;return M({controls:O}),()=>M({controls:U})}},[n,O]),I.createElement("primitive",Pa({ref:m,object:O,enableDamping:r},h))});function rne({defaultScene:n,defaultCamera:e,renderPriority:t=1}){const{gl:i,scene:r,camera:a}=lr();let o;return Th(()=>{o=i.autoClear,t===1&&(i.autoClear=!0,i.render(n,e)),i.autoClear=!1,i.clearDepth(),i.render(r,a),i.autoClear=o},t),I.createElement("group",{onPointerOver:()=>null})}function ane({children:n,renderPriority:e=1}){const{scene:t,camera:i}=lr(),[r]=I.useState(()=>new KA);return I.createElement(I.Fragment,null,jee(I.createElement(I.Fragment,null,n,I.createElement(rne,{defaultScene:t,defaultCamera:i,renderPriority:e})),r,{events:{priority:e+1}}))}const eP=I.createContext({}),sne=()=>I.useContext(eP),one=2*Math.PI,D1=new En,bz=new Pt,[$p,z1]=[new yr,new yr],Sz=new Z,Az=new Z,lne=n=>"minPolarAngle"in n,_z=n=>"getTarget"in n,JT=({alignment:n="bottom-right",margin:e=[80,80],renderPriority:t=1,onUpdate:i,onTarget:r,children:a})=>{const o=lr(U=>U.size),c=lr(U=>U.camera),u=lr(U=>U.controls),h=lr(U=>U.invalidate),m=I.useRef(null),g=I.useRef(null),v=I.useRef(!1),b=I.useRef(0),S=I.useRef(new Z(0,0,0)),E=I.useRef(new Z(0,0,0));I.useEffect(()=>{E.current.copy(c.up),D1.up.copy(c.up)},[c]);const M=I.useCallback(U=>{v.current=!0,(u||r)&&(S.current=(r==null?void 0:r())||(_z(u)?u.getTarget(S.current):u==null?void 0:u.target)),b.current=c.position.distanceTo(Sz),$p.copy(c.quaternion),Az.copy(U).multiplyScalar(b.current).add(Sz),D1.lookAt(Az),z1.copy(D1.quaternion),h()},[u,c,r,h]);Th((U,k)=>{if(g.current&&m.current){var F;if(v.current)if($p.angleTo(z1)<.01)v.current=!1,lne(u)&&c.up.copy(E.current);else{const P=k*one;$p.rotateTowards(z1,P),c.position.set(0,0,1).applyQuaternion($p).multiplyScalar(b.current).add(S.current),c.up.set(0,1,0).applyQuaternion($p).normalize(),c.quaternion.copy($p),_z(u)&&u.setPosition(c.position.x,c.position.y,c.position.z),i?i():u&&u.update(k),h()}bz.copy(c.matrix).invert(),(F=m.current)==null||F.quaternion.setFromRotationMatrix(bz)}});const A=I.useMemo(()=>({tweenCamera:M}),[M]),[z,B]=e,L=n.endsWith("-center")?0:n.endsWith("-left")?-o.width/2+z:o.width/2-z,O=n.startsWith("center-")?0:n.startsWith("top-")?o.height/2-B:-o.height/2+B;return I.createElement(ane,{renderPriority:t},I.createElement(eP.Provider,{value:A},I.createElement(ine,{makeDefault:!0,ref:g,position:[0,0,200]}),I.createElement("group",{ref:m,position:[L,O,0]},a)))};function L1({scale:n=[.8,.05,.05],color:e,rotation:t}){return I.createElement("group",{rotation:t},I.createElement("mesh",{position:[.4,0,0]},I.createElement("boxGeometry",{args:n}),I.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function em({onClick:n,font:e,disabled:t,arcStyle:i,label:r,labelColor:a,axisHeadScale:o=1,...c}){const u=lr(E=>E.gl),h=I.useMemo(()=>{const E=document.createElement("canvas");E.width=64,E.height=64;const M=E.getContext("2d");return M.beginPath(),M.arc(32,32,16,0,2*Math.PI),M.closePath(),M.fillStyle=i,M.fill(),r&&(M.font=e,M.textAlign="center",M.fillStyle=a,M.fillText(r,32,41)),new UN(E)},[i,r,a,e]),[m,g]=I.useState(!1),v=(r?1:.75)*(m?1.2:1)*o,b=E=>{E.stopPropagation(),g(!0)},S=E=>{E.stopPropagation(),g(!1)};return I.createElement("sprite",Pa({scale:v,onPointerOver:t?void 0:b,onPointerOut:t?void 0:n||S},c),I.createElement("spriteMaterial",{map:h,"map-anisotropy":u.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:r?1:.75,toneMapped:!1}))}const ZT=({hideNegativeAxes:n,hideAxisHeads:e,disabled:t,font:i="18px Inter var, Arial, sans-serif",axisColors:r=["#ff2060","#20df80","#2080ff"],axisHeadScale:a=1,axisScale:o,labels:c=["X","Y","Z"],labelColor:u="#000",onClick:h,...m})=>{const[g,v,b]=r,{tweenCamera:S}=sne(),E={font:i,disabled:t,labelColor:u,onClick:h,axisHeadScale:a,onPointerDown:t?void 0:M=>{S(M.object.position),M.stopPropagation()}};return I.createElement("group",Pa({scale:40},m),I.createElement(L1,{color:g,rotation:[0,0,0],scale:o}),I.createElement(L1,{color:v,rotation:[0,0,Math.PI/2],scale:o}),I.createElement(L1,{color:b,rotation:[0,-Math.PI/2,0],scale:o}),!e&&I.createElement(I.Fragment,null,I.createElement(em,Pa({arcStyle:g,position:[1,0,0],label:c[0]},E)),I.createElement(em,Pa({arcStyle:v,position:[0,1,0],label:c[1]},E)),I.createElement(em,Pa({arcStyle:b,position:[0,0,1],label:c[2]},E)),!n&&I.createElement(I.Fragment,null,I.createElement(em,Pa({arcStyle:g,position:[-1,0,0]},E)),I.createElement(em,Pa({arcStyle:v,position:[0,-1,0]},E)),I.createElement(em,Pa({arcStyle:b,position:[0,0,-1]},E)))))};function cne({path:n,scale:e=[1,1,1]}){const{scene:t}=tg(n,!0);return T.jsx("primitive",{object:t,scale:e})}function une({path:n,background:e="black",cameraPosition:t=[5,3,5],scale:i=[1,1,1],enableControls:r=!0}){return T.jsx("div",{style:{width:"100%",height:"100%"},children:T.jsxs(XT,{camera:{position:t,fov:50},style:{width:"100%",height:"100%"},children:[T.jsx("color",{attach:"background",args:[e]}),T.jsx("ambientLight",{intensity:.8}),T.jsx("directionalLight",{position:[10,10,10],intensity:1.5}),T.jsx(I.Suspense,{fallback:T.jsx(YT,{center:!0,children:T.jsx("div",{style:{color:"white"},children:"Ładowanie modelu..."})}),children:T.jsx(cne,{path:n,scale:i})}),r&&T.jsx(qT,{target:[0,0,0],enableDamping:!0}),T.jsx(JT,{alignment:"top-right",margin:[80,80],children:T.jsx(ZT,{axisColors:["red","green","blue"],labelColor:"white"})})]})})}const fne=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(Qc.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},children:T.jsx(ye,{variant:"h4",gutterBottom:!0,sx:{fontWeight:700},children:"Podstawy Silników Elektrycznych"})}),T.jsx(Qc.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:T.jsxs(Mt,{sx:{p:3,backgroundColor:"background.paper",borderRadius:2,boxShadow:3,mt:2},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Siła elektrodynamiczna"}),T.jsx(ye,{paragraph:!0,children:"U podstaw działania silnika elektrycznego leży zjawisko powstawania siły elektrodynamicznej."}),T.jsx(ye,{paragraph:!0,children:"W zależności od kierunku prądu płynącego w przewodniku jest on wypychany lub wciągany do wnętrza pola wytwarzanego przez magnes. Siłą odpowiedzialną za ruch przewodnika jest siła elektrodynamiczna."}),T.jsx(ye,{paragraph:!0,children:"W celu lepszego zrozumienia jak to działa zapraszam do poniższego apletu."}),T.jsxs(Mt,{sx:{backgroundColor:"#e3f2fd",p:2,borderRadius:1,mb:2},children:[T.jsxs(ye,{variant:"subtitle1",sx:{fontWeight:600},children:["Używany aplet: ",T.jsx("span",{style:{color:"#1976d2"},children:"Faraday's Electromagnetic Lab (PhET)"})]}),T.jsxs(ye,{variant:"body2",sx:{mt:1},children:[T.jsx("strong",{children:"Tematy:"})," Prawo Faradaya, Pole magnetyczne, Magnesy",T.jsx("br",{}),T.jsx("strong",{children:"Przykładowe cele nauki:"}),T.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[T.jsx("li",{children:"Wyjaśnij, co się dzieje, gdy magnes porusza się przez cewkę z różną prędkością i jaki ma to wpływ na jasność żarówki oraz wartość i znak napięcia."}),T.jsx("li",{children:"Wyjaśnij różnicę między przesuwaniem magnesu przez cewkę z lewej strony a z prawej."}),T.jsx("li",{children:"Porównaj efekty przesuwania magnesu przez dużą cewkę i przez mniejszą cewkę."})]})]})]}),T.jsx(ye,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Sterowanie apletem"}),T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:1,borderRadius:1,mb:2,height:{xs:300,sm:400,md:500},minHeight:200},children:T.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/faradays-law/latest/faradays-law_pl.html",width:"100%",height:"100%",style:{border:0,borderRadius:8,display:"block"},allowFullScreen:!0,title:"Faraday's Lab"})}),T.jsx(ye,{paragraph:!0,children:"Siła elektrodynamiczna działa w kierunku prostopadłym do płaszczyzny utworzonej przez przewód z prądem i linie indukcji pola magnetycznego. Zwrot siły wyznaczamy stosując zasadę lewej dłoni (lub regułę śruby prawoskrętnej)."}),T.jsx(ye,{paragraph:!0,children:"Siła elektrodynamiczna to siła, z jaką pole magnetyczne działa na przewodnik, przez który płynie prąd elektryczny. Jest to przykład działania tzw. siły Lorentza w odniesieniu do całego przewodnika."}),T.jsx(ye,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Zasada lewej ręki"}),T.jsx(ye,{paragraph:!0,children:"Jeżeli lewą dłoń ustawimy w polu magnetycznym w taki sposób, że linie pola magnetycznego (od N do S) są skierowane do jej wewnętrznej strony, a wyprostowane palce wskazują kierunek przepływu prądu (od + do -), to odchylony kciuk wskaże kierunek działania siły elektrodynamicznej."}),T.jsx(Mt,{component:"img",src:LX,alt:"Reguła Lenza – ilustracja",sx:{flex:1,width:"100%",maxWidth:300,height:"auto",borderRadius:2,objectFit:"contain"}}),T.jsx(ye,{paragraph:!0,children:"Wartość siły elektrodynamicznej jest wprost proporcjonalna do natężenia prądu płynącego w przewodniku i do długości odcinka przewodnika znajdującego się w polu magnetycznym."}),T.jsx(ye,{paragraph:!0,sx:{fontFamily:"monospace",backgroundColor:"#f5f5f5",p:2,borderRadius:1},children:"F = B · I · l · sin(α)"}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"F"})," – siła elektrodynamiczna",T.jsx("br",{}),T.jsx("strong",{children:"B"})," – indukcja magnetyczna",T.jsx("br",{}),T.jsx("strong",{children:"I"})," – natężenie prądu w przewodniku",T.jsx("br",{}),T.jsx("strong",{children:"l"})," – długość przewodnika, która znajduje się w polu magnetycznym",T.jsx("br",{}),T.jsx("strong",{children:"α"})," – kąt pomiędzy kierunkiem prądu w przewodniku a kierunkiem linii pola magnetycznego"]}),T.jsxs(Mt,{sx:{backgroundColor:"#f5f5f5",p:2,borderRadius:1,mb:2},children:[T.jsx(ye,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Reguła trzech palców lewej ręki"}),T.jsxs(ye,{variant:"body2",color:"textSecondary",children:[T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:1,borderRadius:1,mb:2,height:{xs:300,sm:400,md:500},minHeight:200},children:T.jsx(une,{path:"/engines/models/simpleExaple/battery_magnetic_train/scene.gltf",background:"black"})}),"Reguła trzech palców lewej ręki odnosi się do sytuacji, gdy chcemy wyznaczyć w którą stronę działa siła działająca ze strony pola magnetycznego na poruszające się ładunki elektryczne. Siła ta działa prostopadle zarówno do linii pola jak i prędkości cząstki. Reguła mówi nam, że jeśli lewą rękę ustawimy tak, że trzy palce (kciuk, wskazujący i środkowy) będą ustawione prostopadle i przypiszemy im kierunki: wskazujący kierunek pola B, środkowy kierunek ruchu dodatniego ładunku, to kciuk wskaże nam kierunek siły magnetycznej."]})]})]})}),T.jsx(Qc.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:T.jsxs(Mt,{sx:{p:3,backgroundColor:"background.paper",borderRadius:2,boxShadow:3,mt:2},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Indukcja elektromagnetyczna"}),T.jsx(ye,{paragraph:!0,children:"Indukcja elektromagnetyczna to zjawisko fizyczne polegające na powstawaniu siły elektromotorycznej (SEM), a w zamkniętym obwodzie – również prądu, w wyniku zmiany strumienia pola magnetycznego przez powierzchnię obejmowaną przez ten obwód."}),T.jsx(ye,{paragraph:!0,children:"Jeśli obok cewki (solenoidu) będziemy przesuwać magnes stały, w jej uzwojeniach zacznie płynąć prąd elektryczny. Natężenie tego prądu zależy od szybkości przesuwania magnesu i siły pola magnetycznego. Kierunek indukowanego prądu zmienia się wraz ze zmianą kierunku ruchu magnesu."}),T.jsx(ye,{paragraph:!0,children:"Na poruszający się magnes działa wtedy siła oporu magnetycznego skierowana przeciwnie do jego ruchu. Jej źródłem jest pole magnetyczne wytworzone przez indukowany prąd – cewka staje się elektromagnesem, który przeciwdziała zmianie pola magnetycznego. Od strony wsuwanego bieguna magnesu cewka generuje biegun o tej samej nazwie – odpychając magnes. Gdy magnes wyciągamy, bieguny się przyciągają, próbując go zatrzymać."}),T.jsx(ye,{paragraph:!0,children:"Oznacza to, że w każdym przypadku indukowany prąd działa w taki sposób, aby przeciwstawić się zmianie, która go wywołała. To zgodne z zasadą zachowania energii – aby prąd się pojawił, musimy wykonać pracę przeciw siłom pola magnetycznego."}),T.jsx(ye,{paragraph:!0,children:"Całe to zjawisko można zinterpretować również jako bezpośrednią ilustrację prawa indukcji Faradaya, które mówi, że indukowana siła elektromotoryczna w obwodzie jest równa szybkości zmian strumienia pola magnetycznego przez ten obwód."}),T.jsx(ye,{paragraph:!0,children:T.jsx("em",{children:"Zjawisko powstawania prądu indukcyjnego zilustruje doświadczenie zaprezentowane w poniższym aplecie."})}),T.jsxs(Mt,{sx:{backgroundColor:"#e3f2fd",p:2,borderRadius:1,mb:2},children:[T.jsxs(ye,{variant:"subtitle1",sx:{fontWeight:600},children:["Używany aplet: ",T.jsx("span",{style:{color:"#1976d2"},children:"Generator (PhET)"})]}),T.jsxs(ye,{variant:"body2",sx:{mt:1},children:[T.jsx("strong",{children:"Tematy:"})," Generator, Prawo Faradaya, Indukcja, Elektryczność, Pole magnetyczne",T.jsx("br",{}),T.jsx("strong",{children:"Przykładowe cele nauki:"}),T.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[T.jsx("li",{children:"Rozpoznaj warunki, które powodują indukcję."}),T.jsx("li",{children:"Porównaj, jak żarówka i woltomierz pokazują cechy prądu indukowanego."}),T.jsx("li",{children:"Przewiduj, jak zmieni się prąd indukowany przy zmianie warunków eksperymentu."}),T.jsx("li",{children:"Wyjaśnij przyczynę indukcji."})]})]})]}),T.jsx(ye,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Sterowanie apletem"}),T.jsxs(ye,{paragraph:!0,sx:{display:"flex",alignItems:"center",gap:2},children:["Aby uruchomić aplet, pociągnij uchwyt:",T.jsx("img",{src:BX,alt:"uchwyt",style:{height:32,marginLeft:8}})]}),T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:1,borderRadius:1,mb:2,height:{xs:300,sm:400,md:500},minHeight:200},children:T.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/generator/latest/generator_pl.html",width:"100%",height:"100%",style:{border:0,borderRadius:8,display:"block"},allowFullScreen:!0,title:"Faraday's Lab"})}),T.jsx(ye,{paragraph:!0,children:"Przesuwając magnes wewnątrz cewki, można obserwować wychylenie wskazówki amperomierza. Im szybciej porusza się magnes, tym większe wychylenie – czyli silniejszy prąd indukcyjny. Każda zmiana pola magnetycznego powoduje reakcję cewki w postaci przeciwdziałającego pola."}),T.jsxs(ye,{paragraph:!0,children:["Kierunek indukowanego prądu określa ",T.jsx("strong",{children:"reguła Lenza"}),"."]}),T.jsx(ye,{variant:"h6",gutterBottom:!0,children:"Reguła Lenza"}),T.jsx(ye,{paragraph:!0,children:"Prąd indukcyjny płynie w takim kierunku, aby pole magnetyczne przez niego wytworzone przeciwdziałało przyczynie, która go wywołała (czyli zmianie strumienia pola magnetycznego)."}),T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:1,borderRadius:1,mb:2,height:{xs:300,sm:400,md:500},minHeight:200},children:T.jsx("iframe",{src:"https://sketchfab.com/models/a0ef32002aa042cf9f80891e4e9d9533/embed",width:"100%",height:"100%",style:{border:0,borderRadius:8,display:"block"},allowFullScreen:!0,title:"Experiment on magnetic induction"})}),T.jsx(ye,{paragraph:!0,children:"W cewce indukuje się napięcie (SEM), a jeśli obwód jest zamknięty – pojawia się prąd. Zmiana pola magnetycznego może wynikać nie tylko z ruchu magnesu, ale też z ruchu samej cewki względem pola magnetycznego lub zmiany jego intensywności."}),T.jsx(ye,{paragraph:!0,children:"Przykład: jeżeli odcinek przewodu (np. pojedynczy zwój) porusza się w polu magnetycznym, to zgodnie z prawem indukcji elektromagnetycznej, na jego końcach pojawia się napięcie – jeden koniec ma nadmiar, a drugi niedobór elektronów. To różnica potencjałów, czyli siła elektromotoryczna."}),T.jsxs(Mt,{sx:{backgroundColor:"#e3f2fd",p:2,borderRadius:1,mb:2},children:[T.jsxs(ye,{variant:"subtitle1",sx:{fontWeight:600},children:["Używany aplet: ",T.jsx("span",{style:{color:"#1976d2"},children:"Laboratorium elektromagnetyczne Faradaya (PhET)"})]}),T.jsxs(ye,{variant:"body2",sx:{mt:1},children:[T.jsx("strong",{children:"Tematy:"})," Prawo Faradaya, Reguła Lenza, Siła elektromotoryczna (SEM), Indukcja elektromagnetyczna",T.jsx("br",{}),T.jsx("strong",{children:"Przykładowe cele nauki:"}),T.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[T.jsx("li",{children:"Przewiduj kierunek pola magnetycznego wokół magnesu sztabkowego i elektromagnesu."}),T.jsx("li",{children:"Porównaj właściwości magnesów trwałych i elektromagnesów."}),T.jsx("li",{children:"Rozpoznaj zmienne właściwości elektromagnesu i ich wpływ na kierunek oraz siłę pola magnetycznego."}),T.jsx("li",{children:"Analizuj zależność siły pola magnetycznego od odległości — jakościowo i ilościowo."}),T.jsx("li",{children:"Identyfikuj warunki niezbędne do zajścia zjawiska indukcji."}),T.jsx("li",{children:"Porównuj, jak żarówka i woltomierz wskazują obecność i cechy prądu indukowanego."}),T.jsx("li",{children:"Przewiduj, jak zmieni się prąd indukowany w zależności od modyfikacji warunków eksperymentu."})]})]})]}),T.jsx(ye,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Sterowanie apletem"}),T.jsxs(ye,{paragraph:!0,sx:{display:"flex",alignItems:"center",gap:2},children:["Aby uruchomić Laboratorium „Reguła Lenza”, wybierz początkowo ",T.jsx("strong",{children:"Cewka"}),":",T.jsx("img",{src:DX,alt:"Ikona uchwytu cewki",style:{height:52}})]}),T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:2,borderRadius:1,mb:2},children:T.jsxs(Mt,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,alignItems:"center",justifyContent:"center"},children:[T.jsx(Mt,{sx:{flex:1,minWidth:300,height:{xs:300,sm:400,md:500},borderRadius:2,overflow:"hidden"},children:T.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/faradays-electromagnetic-lab/latest/faradays-electromagnetic-lab_pl.html",width:"100%",height:"100%",style:{border:0,display:"block"},allowFullScreen:!0,title:"Experiment on magnetic induction"})}),T.jsx(Mt,{component:"img",src:zX,alt:"Reguła Lenza – ilustracja",sx:{flex:1,width:"100%",maxWidth:500,height:"auto",borderRadius:2,objectFit:"contain"}})]})}),T.jsx(ye,{paragraph:!0,children:"Poruszający się przewodnik przecina linie pola magnetycznego, co powoduje powstanie siły elektromotorycznej. Siła ta działa na swobodne elektrony w przewodniku, powodując ich przemieszczenie i wytworzenie napięcia."}),T.jsxs(ye,{paragraph:!0,children:["Wartość tego napięcia zależy od:",T.jsxs("ul",{children:[T.jsx("li",{children:"prędkości poruszania się przewodnika,"}),T.jsx("li",{children:"długości odcinka przewodu w polu magnetycznym,"}),T.jsx("li",{children:"wartości indukcji magnetycznej pola."})]})]}),T.jsx(ye,{paragraph:!0,children:"Jeżeli obwód nie jest zamknięty, prąd nie popłynie – obserwujemy jedynie obecność napięcia między końcami przewodu."}),T.jsxs(ye,{paragraph:!0,children:["Kierunek indukowanego napięcia można określić za pomocą ",T.jsx("strong",{children:"reguły prawej ręki"}),"."]}),T.jsx(ye,{variant:"h6",gutterBottom:!0,children:"Zasada prawej ręki"}),T.jsx(ye,{paragraph:!0,children:"Ustaw prawą rękę tak, aby linie pola magnetycznego (od bieguna N do S) wchodziły do wnętrza dłoni, a kciuk wskazywał kierunek ruchu przewodu. Wtedy pozostałe palce wskazują zwrot indukującej się siły elektromotorycznej (SEM), czyli kierunek przepływu prądu."}),T.jsx(Mt,{component:"img",src:OX,alt:"Reguła Lenza – ilustracja",sx:{flex:1,width:"100%",maxWidth:300,height:"auto",borderRadius:2,objectFit:"contain"}}),T.jsx(ye,{paragraph:!0,sx:{fontFamily:"monospace",backgroundColor:"#f5f5f5",p:2,borderRadius:1},children:"e = B · l · v"}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"e"})," – siła elektromotoryczna (V) ",T.jsx("br",{}),T.jsx("strong",{children:"B"})," – indukcja magnetyczna (T) ",T.jsx("br",{}),T.jsx("strong",{children:"l"})," – długość przewodnika w polu magnetycznym (m) ",T.jsx("br",{}),T.jsx("strong",{children:"v"})," – prędkość ruchu przewodnika (m/s)"]}),T.jsx(ye,{paragraph:!0,children:"Indukcja elektromagnetyczna znajduje zastosowanie m.in. w prądnicach, transformatorach, mikrofonach dynamicznych oraz bezkontaktowym ładowaniu urządzeń elektronicznych. To jedno z kluczowych zjawisk umożliwiających przekształcanie energii mechanicznej w elektryczną."}),T.jsxs(Mt,{sx:{backgroundColor:"#f5f5f5",p:2,borderRadius:1,mb:2},children:[T.jsx(ye,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Zasada prawej dłoni"}),T.jsxs(Mt,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,alignItems:"center",justifyContent:"center"},children:[T.jsx(Mt,{sx:{flex:1,minWidth:300,height:{xs:300,sm:400,md:500},borderRadius:2,overflow:"hidden"},children:T.jsx("iframe",{src:"https://sketchfab.com/models/fc4dac92f4344db188c37bc65a125288/embed",width:"100%",height:"100%",style:{border:0,display:"block"},allowFullScreen:!0,title:"Determining the direction of the magnetic field of a direct current"})}),T.jsx(Mt,{component:"img",src:NX,alt:"Zasada prawej ręki – ilustracja",sx:{flex:1,width:"100%",maxWidth:500,height:"auto",borderRadius:2,objectFit:"contain"}})]}),T.jsx("strong",{children:"Ćwiczenie: Zwrot wektora indukcji magnetycznej"}),T.jsx("br",{}),T.jsx("br",{}),"Jeżeli przez przewodnik płynie prąd elektryczny, wokół niego powstaje pole magnetyczne - tę zależność odkrył i opisał André Ampère. To pole może oddziaływać tak samo, jak pole pochodzące od magnesów stałych, czyli może powodować przyciąganie lub odpychanie.",T.jsx("br",{}),T.jsx("br",{}),"Jeżeli przez przewód płynie prąd I, wówczas wokół niego powstaje pole magnetyczne o indukcji B. Jeżeli obejmiemy przewód prawą ręką tak, aby kciuk wskazywał kierunek przepływu prądu, to cztery zgięte palce wskażą zwrot wektora indukcji magnetycznej. W ten sposób można również określić ustawienie się igły magnetycznej przy takim przewodniku. Zakładamy przy tym, że ta igła jest pomalowana w sposób typowy, czyli biegun południowy (S) ma kolor czerwony, a północny (N) niebieski."]})]})}),T.jsx(Qc.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:T.jsxs(Mt,{sx:{p:3,backgroundColor:"background.paper",borderRadius:2,boxShadow:3,mt:2},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Dla bardziej zaawansowanych"}),T.jsx(ye,{paragraph:!0,children:"Zmiany strumienia magnetycznego z cewką możemy uzyskać w dwojaki sposób, przez prąd zmienny płynący w uzwojeniu, lub przez ruch uzwojenia względem stałego lub zmiennego pola magnetycznego."}),T.jsx(ye,{paragraph:!0,children:"Jeżeli skojarzony z cewką strumień magnetyczny zmienia się w czasie, w cewce tej indukuje się napięcie (SEM) którego wartość będzie zależała od szybkości zmian tego strumienia w czasie."}),T.jsx(ye,{paragraph:!0,sx:{fontFamily:"monospace",backgroundColor:"#f5f5f5",p:2,borderRadius:1},children:"e = -dΦ/dt"}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"e"})," - siła elektromotoryczna",T.jsx("br",{}),T.jsx("strong",{children:"dΦ"})," - przyrost strumienia magnetycznego skojarzonego z cewką",T.jsx("br",{}),T.jsx("strong",{children:"dt"})," - przyrost czasu"]}),T.jsx(ye,{paragraph:!0,children:"Zgodnie z regułą Lenza, znak tego napięcia będzie zawsze taki, aby prąd indukcyjny który popłynie pod jego wpływem tworzył strumień magnetyczny, który będzie się przeciwstawiał strumieniowi pierwotnemu."}),T.jsx(ye,{paragraph:!0,children:"Ze względu na sposób powstawania siły elektromotorycznej możemy podzielić ją na dwa rodzaje. Jeżeli powstaje ona w wyniku umieszczenia zwojów w zmiennym polu magnetycznym, a uzwojenie nie wykonuje żadnego ruchu względem tego pola, wyindukowane w ten sposób napięcie nazywane jest napięciem transformacji. Natomiast, jeżeli napięcie indukuje się w wyniku ruchu uzwojeń w polu magnetycznym, nazywane jest napięciem rotacji. Nazwy te wzięły się od sposobu działania maszyn, w których wykorzystuje się zjawisko indukcji elektromagnetycznej: transformatorów (napięcie transformacji) i silników elektrycznych (napięcie rotacji)."}),T.jsx(ye,{paragraph:!0,children:"W ogólnym przypadku, gdy uzwojenie wykonuje ruch w zmiennym polu magnetycznym, siła elektromotoryczna składa się z dwóch członów: napięcia transformacji i napięcia rotacji."}),T.jsx(ye,{paragraph:!0,sx:{fontFamily:"monospace",backgroundColor:"#f5f5f5",p:2,borderRadius:1},children:"e = -dΦ/dt + B l v"}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"e"})," - siła elektromotoryczna",T.jsx("br",{}),T.jsx("strong",{children:"dΦ"})," - przyrost strumienia magnetycznego skojarzonego z cewką",T.jsx("br",{}),T.jsx("strong",{children:"dt"})," - przyrost czasu",T.jsx("br",{}),T.jsx("strong",{children:"B"})," - indukcja magnetyczna",T.jsx("br",{}),T.jsx("strong",{children:"l"})," - długość przewodnika, która znajduje się w polu magnetycznym",T.jsx("br",{}),T.jsx("strong",{children:"v"})," - prędkość z jaką porusza się przewodnik"]})]})})]}),dne=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Silniki Elektryczne"}),T.jsxs(ui,{container:!0,spacing:3,sx:{mt:2},children:[T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Silniki Prądu Stałego (DC)"}),T.jsx(ye,{paragraph:!0,children:"Silniki o prostej konstrukcji i łatwej kontroli prędkości."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/dc",sx:{mt:2},children:"Poznaj silniki DC"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Silniki Prądu Przemiennego (AC)"}),T.jsx(ye,{paragraph:!0,children:"Wysokosprawne silniki do zastosowań przemysłowych."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/ac",sx:{mt:2},children:"Poznaj silniki AC"})]})})})]})]}),hne=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Silniki Prądu Stałego (DC)"}),T.jsxs(ui,{container:!0,spacing:3,sx:{mt:2},children:[T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Budowa silników DC"}),T.jsx(ye,{paragraph:!0,children:"Poznaj elementy składowe silników prądu stałego, takie jak wirnik, stojan, komutator i szczotki."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/dc/construction",sx:{mt:2},children:"Dowiedz się więcej"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Zasada działania"}),T.jsx(ye,{paragraph:!0,children:"Dowiedz się, jak pole magnetyczne i prąd elektryczny powodują ruch obrotowy wirnika."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/dc/operation",sx:{mt:2},children:"Dowiedz się więcej"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Rodzaje silników DC"}),T.jsx(ye,{paragraph:!0,children:"Poznaj różne rodzaje silników prądu stałego, takie jak szeregowe, bocznikowe i uniwersalne."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/dc/types",sx:{mt:2},children:"Dowiedz się więcej"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Zastosowania"}),T.jsx(ye,{paragraph:!0,children:"Odkryj zastosowania silników prądu stałego w różnych urządzeniach i pojazdach."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/dc/applications",sx:{mt:2},children:"Dowiedz się więcej"})]})})})]})]}),Mz=["rotor","housing_front","housing_rear","brushes_left","brushes_right","magnet_left","magnet_right","shaft_rear","shaft_front"],pne={rotor:[0,0,0],housing_front:[0,0,0],housing_rear:[0,0,-1.08],brushes_left:[.403,.045,-.8],brushes_right:[-.403,-.045,-.8],magnet_left:[0,0,.5],magnet_right:[0,0,-.58],shaft_rear:[0,0,-1.5],shaft_front:[0,0,.8]},mne={brushes_left:[Math.PI,0,0],brushes_right:[0,Math.PI,0],magnet_left:[0,Math.PI,0]},gne={rotor:"Wirnik",housing_front:"Obudowa przednia",housing_rear:"Obudowa tylna",brushes_left:"Szczotka lewa",brushes_right:"Szczotka prawa",magnet_left:"Magnes lewy",magnet_right:"Magnes prawy",shaft_rear:"Wałek tylny",shaft_front:"Wałek przedni"},yne=[{label:"Przezroczysty",value:"#f5f5f5"},{label:"Jasne",value:"#e0eafc"},{label:"Ciemne",value:"#222831"},{label:"Białe",value:"#ffffff"},{label:"Niebieskie",value:"#a2c7fa"}],vne=I.memo(function({folder:e,position:t,rotation:i,isHighlighted:r,isVisible:a,rotorRotating:o=!1,rotationSpeed:c=1}){const{scene:u}=tg(`/engines/models/${e}/${e}.gltf`,!0);Th(()=>{o&&e==="rotor"&&(u.rotation.z+=.03*c)});const h=I.useMemo(()=>new Zm({color:"yellow"}),[]);return I.useMemo(()=>{u.traverse(m=>{m instanceof nr&&r&&(m.material=h)})},[u,r,h]),T.jsx("primitive",{object:u,position:t,rotation:i,scale:[90,90,90],visible:a})});function xne(){const[n,e]=I.useState([]),[t,i]=I.useState("#e0eafc"),[r,a]=I.useState(!1),[o,c]=I.useState(!1),[u,h]=I.useState(1),m=I.useRef(null),g=Em("(max-width:600px)"),[v,b]=I.useState(!1),[S,E]=I.useState(!1),M=()=>{const O=m.current;O&&(b(O.scrollLeft>0),E(O.scrollLeft+O.clientWidth<O.scrollWidth-1))};I.useEffect(()=>{M();const O=m.current;if(O)return O.addEventListener("scroll",M),window.addEventListener("resize",M),()=>{O.removeEventListener("scroll",M),window.removeEventListener("resize",M)}},[]);const A=O=>{e(U=>U.includes(O)?U.filter(k=>k!==O):[...U,O])},z=O=>{m.current&&m.current.scrollBy({left:O==="left"?-180:180,behavior:"smooth"})},B=Rf(),L=Em(B.breakpoints.up("sm"));return T.jsxs("div",{className:"scene-vertical-container",children:[T.jsxs("div",{className:"controls-horizontal",style:{flexDirection:g?"column":"row",alignItems:g?"stretch":"center",gap:g?"12px 0":void 0,padding:g?"8px 4px":void 0},children:[T.jsxs(Mt,{sx:{display:"flex",alignItems:"center",flex:1,minWidth:0,width:"100%",mb:g?1:0},children:[v&&T.jsx(tr,{onClick:()=>z("left"),sx:{minWidth:32,px:0,mr:1,height:36,display:"flex",fontSize:g?"1.2rem":"1.5rem"},children:"←"}),T.jsx("div",{ref:m,className:"controls-buttons-horizontal",style:{display:"flex",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none",flex:1,minWidth:0},children:Mz.map(O=>T.jsx(tr,{variant:n.includes(O)?"outlined":"contained",color:n.includes(O)?"inherit":"success",size:"small",onClick:()=>A(O),sx:{marginRight:g?.5:1,minWidth:g?60:90,fontSize:g?"0.75rem":"1rem",textTransform:"none",whiteSpace:"nowrap",flexShrink:0,py:g?.2:1},children:gne[O]},O))}),S&&T.jsx(tr,{onClick:()=>z("right"),sx:{minWidth:32,px:0,ml:1,height:36,display:"flex",fontSize:g?"1.2rem":"1.5rem"},children:"→"})]}),T.jsx(Mt,{className:"background-toggle-group",sx:{ml:g?0:4,mt:g?1:0,width:g?"100%":"auto",display:"flex",justifyContent:g?"flex-start":"center"},children:T.jsx(e3,{value:t,exclusive:!0,onChange:(O,U)=>U&&i(U),size:g?"small":"medium",color:"primary",fullWidth:g,children:yne.map(O=>T.jsx($L,{value:O.value,children:O.label},O.value))})})]}),T.jsx("div",{className:"canvas-container-horizontal",children:T.jsxs(XT,{camera:{position:[10,5,5],fov:30},style:{width:"100%",height:"100%"},children:[T.jsx("color",{attach:"background",args:[t]}),T.jsx("ambientLight",{intensity:.8}),T.jsx("directionalLight",{position:[10,10,10],intensity:1.5}),T.jsx(I.Suspense,{fallback:T.jsx(YT,{center:!0,children:T.jsx("div",{style:{color:"white"},children:"Ładowanie..."})}),children:Mz.map(O=>T.jsx(vne,{folder:O,position:pne[O],rotation:mne[O],isHighlighted:!1,isVisible:!n.includes(O),rotorRotating:o&&r,rotationSpeed:u},O))}),T.jsx(qT,{target:[0,0,0],enableDamping:!0}),T.jsx(JT,{alignment:"top-right",margin:[80,80],children:T.jsx(ZT,{axisColors:["red","green","blue"],labelColor:"white"})})]})}),T.jsx(Mt,{sx:{mt:2,display:"flex",justifyContent:"center"},children:T.jsxs(wA,{direction:L?"row":"column",spacing:2,alignItems:"center",justifyContent:"center",children:[T.jsx(tr,{variant:r?"contained":"outlined",color:r?"success":"primary",onClick:()=>a(O=>!O),children:r?"Wyłącz zasilanie":"Włącz zasilanie"}),T.jsx(tr,{variant:o?"contained":"outlined",color:o?"success":"primary",onClick:()=>c(O=>!O),disabled:!r,children:o?"Zatrzymaj wirnik":"Uruchom obrót wirnika"}),T.jsxs(Mt,{sx:{width:300},children:[T.jsxs(ye,{gutterBottom:!0,children:["Prędkość obrotu wirnika: ",u.toFixed(2)]}),T.jsx(JL,{value:u,min:.1,max:3,step:.01,onChange:(O,U)=>h(Number(U)),disabled:!r||!o,valueLabelDisplay:"auto"})]})]})})]})}const bne="/engines/assets/stojan-wz1YNbj5.png",Sne="/engines/assets/rotor-BTKvxJF9.png",Ane="/engines/assets/silnik_bocznikowy-DxXA6-N_.png",_ne="/engines/assets/silnik_szeregowy-DYkuSJ1h.png",Mne="/engines/assets/silnik_uniwersalny-BZWIutsZ.png",Ene="/engines/assets/a_Motor_Inside1-BwERlgGE.jpg",Cne="/engines/assets/a_DC_komutator-Bn_hz1H8.jpg",Ez="/engines/assets/a_DC_przekroj-BdWB1shI.gif",Tne=()=>{const n=Em("(max-width:600px)"),e={generalInfo:{title:"Budowa i Zasada Działania Silników Prądu Stałego (DC)",description:"Prawdziwe silniki prądu stałego są bardziej skomplikowane niż ich podstawowe modele. Zwykle zamiast magnesów stałych stosuje się elektromagnesy, które wytwarzają znacznie silniejsze pole magnetyczne. Uzwojenie wirnika posiada wiele zwojów, a komutator jest złożoną konstrukcją. Mimo tych różnic, podstawowa zasada działania pozostaje taka sama."},parts:[{name:"Stojan (Stator)",description:"Nieruchoma część silnika wykonana jako żeliwny lub staliwny odlew z biegunami głównymi i pomocniczymi.",details:["Zawiera uzwojenia wzbudzenia wytwarzające pole magnetyczne","Posiada bieguny pomocnicze z uzwojeniem eliminujące niekorzystne zjawiska","Nabiegunnik (część bieguna) kieruje strumień magnetyczny"],image:bne},{name:"Wirnik (Rotor)",description:"Obracająca się część silnika zawierająca uzwojenia twornika.",details:["Wykonany w kształcie walca z żłobkami na uzwojenie","Rdzeń z pakietowanych blach dla lepszych właściwości magnetycznych","Uzwojenie zabezpieczone specjalnymi klinami"],image:Sne},{name:"System komutacji",description:"Zespół elementów zapewniający zmianę kierunku prądu w uzwojeniach.",details:["Komutator z miedzianych segmentów odizolowanych od siebie","Szczotki węglowe przewodzące prąd do obracającego się komutatora","Typowe problemy: zużycie szczotek i iskrzenie"],image:Cne}],operationPrinciple:{title:"Zasada działania",description:"W silniku komutatorowym prądu stałego uzwojenie wzbudzenia znajduje się w stojanie, natomiast uzwojenie twornika w wirniku. Komutator pełni rolę prostownika mechanicznego. Pole magnetyczne wzbudzenia uzyskuje się przez zasilanie uzwojeń stojana prądem stałym.",image:Ene,imageCaption:"Wnętrze współczesnego silnika prądu stałego"},faqs:[{question:"Dlaczego w silnikach DC stosuje się elektromagnesy zamiast magnesów trwałych?",answer:"Elektromagnesy pozwalają na uzyskanie znacznie silniejszego pola magnetycznego niż magnesy trwałe. Dodatkowo, możliwość regulacji prądu wzbudzenia daje większą kontrolę nad parametrami pracy silnika. Magnesy trwałe byłyby też znacznie droższe w przypadku silników o większych mocach."},{question:"Jakie są główne wady silników komutatorowych?",answer:"Główne wady to: konieczność okresowej wymiany szczotek węglowych, iskrzenie na komutatorze, ograniczona prędkość obrotowa, hałas podczas pracy oraz generowanie zakłóceń elektromagnetycznych. Te problemy są minimalizowane w nowoczesnych silnikach bezszczotkowych (BLDC)."},{question:"Do czego służą bieguny pomocnicze w silniku DC?",answer:"Bieguny pomocnicze wraz z ich uzwojeniami służą do kompensacji niekorzystnych zjawisk związanych z oddziaływaniem wirnika na pole magnetyczne. Zmniejszają one efekt reakcji twornika, poprawiają komutację i redukują iskrzenie na szczotkach."}]};return T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:e.generalInfo.title}),T.jsx(ye,{paragraph:!0,children:e.generalInfo.description}),T.jsx(Mt,{sx:{height:n?500:1e3,mt:2,mb:4},children:T.jsx(xne,{})}),T.jsxs(Mt,{sx:{mb:4,p:2,backgroundColor:"#f5f5f5",borderRadius:2},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Przekrój silnika DC"}),T.jsxs(Mt,{sx:{display:"flex",flexDirection:n?"column":"row",gap:3},children:[T.jsx(Mt,{sx:{flex:1},children:T.jsx("img",{src:Ez,alt:"Przekrój silnika DC",style:{width:"100%",borderRadius:"8px"}})}),T.jsxs(Mt,{sx:{flex:1},children:[T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Wirnik"})," silnika prądu stałego wykonany jest w kształcie walca z żłobkami, w których umieszczone jest uzwojenie. Rdzeń żłobka wykonany jest z pakietowanych blach dla lepszych właściwości magnetycznych."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Stojan"})," wykonany jest jako żeliwny lub staliwny odlew z biegunami głównymi i pomocniczymi. Nabiegunnik (część bieguna najbliższa osi) jest szerszy od reszty bieguna."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Uzwojenie wirnika"})," to przewody miedziane ułożone w żłobkach wirnika. Gdy przepływa przez nie prąd, w polu magnetycznym stojana wytwarzany jest moment obrotowy."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Komutator"})," to zespół miedzianych segmentów połączonych z uzwojeniem wirnika. Jego rolą jest zmiana kierunku prądu w uzwojeniach tak, aby moment obrotowy był zawsze w tym samym kierunku."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Szczotki"})," (zwykle węglowe) przewodzą prąd z zewnętrznego obwodu do obracającego się komutatora, umożliwiając przepływ prądu przez uzwojenie wirnika."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Biegun główny"})," to elektromagnes tworzący główne pole magnetyczne w szczelinie powietrznej. Pracuje w parze z uzwojeniem głównym."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Uzwojenie główne"})," znajduje się na biegunach głównych i generuje pole magnetyczne niezbędne do działania silnika."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Biegun pomocniczy"})," (lub uzwojenie pomocnicze) wspiera proces komutacji – wygładza zmiany pola magnetycznego w trakcie przełączania prądu, redukując iskrzenie."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Nabiegunnik"})," to rozszerzona część bieguna stojana, która kieruje strumień magnetyczny do szczeliny powietrznej – jego szerokość pomaga uzyskać równomierne pole magnetyczne."]})]})]})]}),T.jsxs(Mt,{sx:{mb:4,p:2,backgroundColor:"#f5f5f5",borderRadius:2},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Komutator silnika prądu stałego"}),T.jsxs(Mt,{sx:{display:"flex",flexDirection:n?"column":"row",gap:3},children:[T.jsx(Mt,{sx:{flex:1},children:T.jsx("img",{src:Ez,alt:"Komutator silnika prądu stałego",style:{width:"100%",borderRadius:"8px"}})}),T.jsxs(Mt,{sx:{flex:1},children:[T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Wycinek komutatora"})," to jeden z wielu miedzianych segmentów ułożonych wokół osi wirnika. Każdy segment połączony jest z końcówką uzwojenia wirnika. Segmenty są od siebie odizolowane, aby umożliwić kontrolowane przełączanie prądu podczas obrotu."]}),T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Izolacja"})," (zwykle wykonana z miki lub innego materiału dielektrycznego) oddziela poszczególne segmenty komutatora. Dzięki niej nie dochodzi do zwarć pomiędzy segmentami, mimo ich bliskiego ułożenia i kontaktu z obracającym się elementem."]}),T.jsx(ye,{paragraph:!0,children:"Komutator pełni kluczową rolę w zapewnianiu jednokierunkowego momentu obrotowego. Działa razem ze szczotkami, które dostarczają prąd do odpowiednich uzwojeń wirnika w odpowiednim czasie."})]})]})]}),T.jsx(ye,{variant:"h5",gutterBottom:!0,sx:{mt:4},children:"Szczegółowa budowa silnika DC"}),T.jsx(ui,{container:!0,spacing:3,sx:{mb:4},children:e.parts.map((t,i)=>T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{sx:{height:"100%"},children:T.jsxs(Mt,{sx:{display:"flex",flexDirection:n?"column":"row"},children:[T.jsx(GL,{component:"img",sx:{width:n?"100%":200,height:200},image:t.image,alt:t.name}),T.jsx(Mt,{children:T.jsxs(cs,{children:[T.jsx(ye,{gutterBottom:!0,variant:"h6",children:t.name}),T.jsx(ye,{variant:"body2",color:"text.secondary",children:t.description}),T.jsx(Mt,{component:"ul",sx:{pl:2,mt:1},children:t.details.map((r,a)=>T.jsx(ye,{variant:"body2",component:"li",children:r},a))})]})})]})})},i))}),T.jsxs(Mt,{sx:{mb:4,p:3,backgroundColor:"#f5f5f5",borderRadius:2},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:e.operationPrinciple.title}),T.jsx(ye,{paragraph:!0,children:e.operationPrinciple.description}),T.jsxs(Mt,{sx:{textAlign:"center",my:3},children:[T.jsx("img",{src:e.operationPrinciple.image,alt:e.operationPrinciple.title,style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}}),T.jsx(ye,{variant:"caption",display:"block",gutterBottom:!0,children:e.operationPrinciple.imageCaption})]})]}),T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Najczęstsze pytania"}),e.faqs.map((t,i)=>T.jsxs(ih,{children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:t.question})}),T.jsx(rh,{children:T.jsx(ye,{children:t.answer})})]},i))]})},wne="/engines/assets/Electric_motor-JggaqNnJ.gif",Rne=()=>T.jsxs(Mt,{sx:{p:3,display:"flex",flexDirection:"column",gap:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Zasada Działania Silników Prądu Stałego (DC)"}),T.jsx(ye,{paragraph:!0,children:"Silniki prądu stałego przekształcają energię elektryczną w mechaniczną dzięki zjawisku elektromagnetyzmu. Ich działanie opiera się na fundamentalnej zasadzie, że przewodnik z prądem umieszczony w polu magnetycznym doświadcza działania siły elektrodynamicznej."}),T.jsxs(Qc.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[T.jsxs(Mt,{sx:{backgroundColor:"#f5f5f5",p:3,borderRadius:2,mb:4},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,sx:{color:"#1976d2"},children:"Podstawowa zasada działania"}),T.jsxs(ui,{container:!0,spacing:3,children:[T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsxs(ka,{sx:{height:"100%"},children:[T.jsx(Mt,{sx:{height:300,display:"flex",justifyContent:"center",alignItems:"center",p:2},children:T.jsx("img",{src:wne,width:"90%",height:"100%",style:{border:0},title:"Zasada działania silnika DC"})}),T.jsx(cs,{children:T.jsx(ye,{variant:"body2",color:"text.secondary",children:"Animacja przedstawiająca zasadę działania siły elektrodynamicznej w silniku DC"})})]})}),T.jsxs(ui,{item:!0,xs:12,md:6,children:[T.jsxs(ye,{paragraph:!0,children:[T.jsx("strong",{children:"Prawo siły elektrodynamicznej (Lorentza):"})," Gdy przewodnik z prądem znajduje się w polu magnetycznym, działa na niego siła prostopadła zarówno do kierunku prądu, jak i do kierunku pola magnetycznego."]}),T.jsx(ye,{paragraph:!0,sx:{fontStyle:"italic"},children:"F = B × I × L"}),T.jsxs(ye,{paragraph:!0,children:["gdzie:",T.jsx("br",{}),"F - siła [N]",T.jsx("br",{}),"B - indukcja magnetyczna [T]",T.jsx("br",{}),"I - natężenie prądu [A]",T.jsx("br",{}),"L - długość przewodnika w polu magnetycznym [m]"]})]})]})]}),T.jsxs(Mt,{sx:{mb:4},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,sx:{color:"#1976d2"},children:"Proces działania silnika DC krok po kroku"}),T.jsx(ui,{container:!0,spacing:3,children:[{step:"1",title:"Zasilanie uzwojeń",description:"Prąd stały przepływa przez uzwojenia twornika (wirnika) poprzez szczotki i komutator."},{step:"2",title:"Powstawanie pola magnetycznego",description:"Przepływ prądu przez uzwojenia wytwarza wokół nich pole magnetyczne."},{step:"3",title:"Oddziaływanie pól magnetycznych",description:"Pole magnetyczne wirnika oddziałuje z polem magnetycznym stojana (magnesy trwałe lub elektromagnesy)."},{step:"4",title:"Powstawanie momentu obrotowego",description:"W wyniku oddziaływania pól powstaje moment obrotowy powodujący obrót wirnika."},{step:"5",title:"Komutacja",description:"Komutator zmienia kierunek prądu w uzwojeniach gdy wirnik przekracza neutralne położenie."},{step:"6",title:"Ciągły obrót",description:"Proces powtarza się, zapewniając ciągły ruch obrotowy wirnika."}].map((n,e)=>T.jsx(ui,{item:!0,xs:12,sm:6,md:4,children:T.jsxs(ka,{sx:{height:"100%",p:2},children:[T.jsxs(ye,{variant:"h6",color:"primary",gutterBottom:!0,children:["Krok ",n.step,": ",n.title]}),T.jsx(ye,{variant:"body2",children:n.description})]})},e))})]}),T.jsxs(Mt,{sx:{backgroundColor:"#f5f5f5",p:3,borderRadius:2,mb:4},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,sx:{color:"#1976d2"},children:"Wizualizacja 3D budowy i działania"}),T.jsx(Mt,{sx:{height:500,borderRadius:2,overflow:"hidden",mb:2},children:T.jsx("iframe",{src:"https://sketchfab.com/models/afa32b4585e54f748b6abf0b171b96ae/embed",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,title:"Silnik DC - model 3D"})}),T.jsx(ye,{variant:"body2",color:"text.secondary",children:"Interaktywny model 3D przedstawiający budowę i zasadę działania silnika prądu stałego"})]}),T.jsx(ye,{variant:"h5",gutterBottom:!0,sx:{color:"#1976d2"},children:"Często zadawane pytania"}),T.jsxs(ih,{children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:"Dlaczego silnik DC potrzebuje komutatora?"})}),T.jsx(rh,{children:T.jsx(ye,{children:"Komutator jest kluczowym elementem silnika DC, który odwraca kierunek prądu w uzwojeniach wirnika w odpowiednim momencie obrotu. Dzięki temu moment obrotowy działa zawsze w tym samym kierunku, umożliwiając ciągły obrót wirnika."})})]}),T.jsxs(ih,{children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:"Jakie są główne zalety silników DC?"})}),T.jsx(rh,{children:T.jsx(ye,{children:"Główne zalety to: precyzyjna kontrola prędkości, wysoki moment rozruchowy, liniowa charakterystyka prędkości, możliwość pracy w szerokim zakresie prędkości oraz stosunkowo prosta regulacja parametrów pracy."})})]}),T.jsxs(ih,{children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:"Jakie są typowe problemy w silnikach DC?"})}),T.jsx(rh,{children:T.jsx(ye,{children:"Najczęstsze problemy to: zużycie szczotek i komutatora (wymagające okresowej konserwacji), iskrzenie na komutatorze, nagrzewanie się uzwojeń, zmniejszanie się momentu obrotowego przy wysokich prędkościach. Nowoczesne silniki bezszczotkowe (BLDC) eliminują wiele z tych problemów."})})]})]})]}),Bne=Va(T.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Dne=Va(T.jsx("path",{d:"M14.69 2.21 4.33 11.49c-.64.58-.28 1.65.58 1.73L13 14l-4.85 6.76c-.22.31-.19.74.08 1.01.3.3.77.31 1.08.02l10.36-9.28c.64-.58.28-1.65-.58-1.73L11 10l4.85-6.76c.22-.31.19-.74-.08-1.01-.3-.3-.77-.31-1.08-.02"}),"ElectricBolt"),zne=Va(T.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Cz=Va(T.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed"),Lne="/engines/assets/silnik_compound-BHITwCeJ.png",One="/engines/assets/silnik_bldc-zNxqsZDc.png",Nne=()=>{const n=[{name:"Silnik szeregowy",image:_ne,description:"Uzwojenie wzbudzenia połączone szeregowo z twornikiem.",connectionDiagram:"Szeregowe połączenie uzwojenia wzbudzenia i twornika",characteristics:["Bardzo duży moment rozruchowy","Prędkość silnie zależna od obciążenia",'Tendencja do "uciekania" przy małych obciążeniach',"Prosta konstrukcja"],applications:["Rozruszniki samochodowe","Windy i dźwigi","Lokomotywy elektryczne","Urządzenia wymagające dużego momentu rozruchowego"],advantages:["Wysoki moment rozruchowy (do 500% momentu nominalnego)","Prosta konstrukcja","Dobra charakterystyka przy dużych obciążeniach"],disadvantages:["Niestabilna prędkość przy zmiennym obciążeniu","Ryzyko uszkodzenia przy pracy bez obciążenia","Wymaga zabezpieczeń przed rozbieganiem"],speedControl:"Regulacja napięcia zasilania lub rezystancji w obwodzie twornika",tags:["wysoki moment","rozruch","transport"]},{name:"Silnik bocznikowy",image:Ane,description:"Uzwojenie wzbudzenia połączone równolegle z twornikiem.",connectionDiagram:"Równoległe połączenie uzwojenia wzbudzenia i twornika",characteristics:["Stabilna prędkość obrotowa","Mniejszy moment rozruchowy niż silnik szeregowy","Niezależna regulacja prędkości i momentu","Możliwość pracy bez obciążenia"],applications:["Obrabiarki","Wentylatory i pompy","Maszyny drukarskie","Urządzenia wymagające stałej prędkości"],advantages:["Stabilna prędkość obrotowa (±5-10%)","Dobra regulacja prędkości","Bezpieczna praca przy małych obciążeniach","Wysoka sprawność"],disadvantages:["Mniejszy moment rozruchowy (150-200% momentu nominalnego)","Bardziej złożona konstrukcja niż silnik szeregowy","Wrażliwość na zmiany napięcia wzbudzenia"],speedControl:"Regulacja napięcia twornika lub prądu wzbudzenia",tags:["stabilna prędkość","precyzja","przemysł"]},{name:"Silnik uniwersalny",image:Mne,description:"Może pracować zarówno na prąd stały jak i zmienny.",connectionDiagram:"Połączenie szeregowe, podobne do silnika szeregowego DC",characteristics:["Wysoka prędkość obrotowa (do 30 000 obr/min)","Duży moment rozruchowy","Kompaktowa konstrukcja","Stosunkowo mała trwałość"],applications:["Odkurzacze","Miksery i blendery","Wiertarki elektryczne","Maszyny do szycia","Małe urządzenia AGD"],advantages:["Uniwersalne zasilanie (AC/DC)","Wysoka prędkość obrotowa","Kompaktowe rozmiary","Niski koszt produkcji"],disadvantages:["Zużycie szczotek i komutatora","Hałas podczas pracy","Ograniczona żywotność","Generowanie zakłóceń elektromagnetycznych"],speedControl:"Regulacja napięcia lub sterowanie fazowe (dla AC)",tags:["uniwersalny","AGD","wysoka prędkość"]},{name:"Silnik compound (obcowzbudny)",image:Lne,description:"Połączenie cech silnika szeregowego i bocznikowego.",connectionDiagram:"Połączenie mieszane uzwojeń wzbudzenia",characteristics:["Duży moment rozruchowy","Lepsza stabilność prędkości niż silnik szeregowy","Złożona konstrukcja","Dwie cewki wzbudzenia"],applications:["Prasy i walcarki","Podnośniki","Urządzenia wymagające dużego momentu i stabilnej prędkości","Systemy napędowe o zmiennym obciążeniu"],advantages:["Kompromis między momentem rozruchowym a stabilnością","Dobra charakterystyka mechaniczna","Mniejsze ryzyko rozbiegania niż silnik szeregowy"],disadvantages:["Złożona konstrukcja","Wyższy koszt produkcji","Wymaga precyzyjnego dostrojenia"],speedControl:"Regulacja napięcia twornika lub stosunku wzbudzenia",tags:["hybryda","przemysł","duży moment"]},{name:"Silnik BLDC (bezszczotkowy)",image:One,description:"Nowoczesny silnik prądu stałego bez komutatora mechanicznego.",connectionDiagram:"Sterowanie elektroniczne z czujnikami Halla",characteristics:["Brak szczotek i komutatora","Wysoka sprawność","Cicha praca","Wymaga elektroniki sterującej"],applications:["Drony i modele RC","Wentylatory komputerowe","Napędy elektryczne w pojazdach","Precyzyjne systemy pozycjonowania"],advantages:["Długa żywotność (brak zużywających się części)","Wysoka sprawność (do 95%)","Precyzyjna kontrola prędkości","Niskie zakłócenia elektromagnetyczne"],disadvantages:["Wysoki koszt","Wymaga złożonego sterownika","Ograniczona dostępność zamienników"],speedControl:"Sterowanie PWM z kontrolą fazową",tags:["nowoczesny","precyzja","elektronika"]}];return T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Rodzaje Silników Prądu Stałego"}),T.jsx(ye,{paragraph:!0,sx:{mb:4},children:"Silniki prądu stałego dzielą się na kilka podstawowych typów różniących się budową, charakterystyką pracy i zastosowaniami. Wybór odpowiedniego typu zależy od wymagań dotyczących momentu rozruchowego, stabilności prędkości obrotowej i warunków eksploatacji."}),T.jsx(ui,{container:!0,spacing:3,sx:{mb:4},children:n.map((e,t)=>T.jsx(ui,{item:!0,xs:12,md:6,lg:4,children:T.jsxs(ka,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.3s","&:hover":{transform:"scale(1.02)",boxShadow:6}},children:[T.jsx(GL,{component:"img",height:"220",image:e.image,alt:e.name,sx:{objectFit:"contain",p:2}}),T.jsxs(cs,{sx:{flexGrow:1},children:[T.jsx(ye,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),T.jsx(ye,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.description}),T.jsx(Mt,{sx:{mb:2},children:e.tags.map((i,r)=>T.jsx(n5,{label:i,size:"small",sx:{mr:1,mb:1}},r))}),T.jsxs(ih,{sx:{mb:1},children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:"Charakterystyka i zastosowania"})}),T.jsx(rh,{children:T.jsxs(mf,{dense:!0,children:[T.jsxs(mi,{children:[T.jsx(Ds,{}),T.jsx(gi,{primary:"Moment rozruchowy",secondary:e.characteristics[0]})]}),T.jsxs(mi,{children:[T.jsx(Ds,{children:T.jsx(Cz,{fontSize:"small"})}),T.jsx(gi,{primary:"Charakterystyka prędkości",secondary:e.characteristics[1]})]}),T.jsx(eE,{component:"li"}),T.jsx(ye,{variant:"subtitle2",sx:{mt:1},children:"Główne zastosowania:"}),e.applications.map((i,r)=>T.jsx(mi,{sx:{pl:4},children:T.jsx(gi,{secondary:`• ${i}`})},r))]})})]}),T.jsxs(ih,{sx:{mb:1},children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:"Zalety i wady"})}),T.jsx(rh,{children:T.jsxs(ui,{container:!0,spacing:2,children:[T.jsxs(ui,{item:!0,xs:12,md:6,children:[T.jsx(ye,{variant:"subtitle2",color:"success.main",children:"Zalety:"}),T.jsx(mf,{dense:!0,children:e.advantages.map((i,r)=>T.jsx(mi,{sx:{pl:4},children:T.jsx(gi,{secondary:`✓ ${i}`})},r))})]}),T.jsxs(ui,{item:!0,xs:12,md:6,children:[T.jsx(ye,{variant:"subtitle2",color:"error.main",children:"Wady:"}),T.jsx(mf,{dense:!0,children:e.disadvantages.map((i,r)=>T.jsx(mi,{sx:{pl:4},children:T.jsx(gi,{secondary:`✗ ${i}`})},r))})]})]})})]}),T.jsxs(ih,{children:[T.jsx(ah,{expandIcon:T.jsx(ic,{}),children:T.jsx(ye,{children:"Sterowanie i regulacja"})}),T.jsxs(rh,{children:[T.jsxs(ye,{variant:"body2",children:[T.jsx("strong",{children:"Metoda regulacji prędkości:"})," ",e.speedControl]}),T.jsxs(ye,{variant:"body2",sx:{mt:1},children:[T.jsx("strong",{children:"Schemat połączeń:"})," ",e.connectionDiagram]})]})]})]})]})},t))}),T.jsxs(Mt,{sx:{p:3,backgroundColor:"background.paper",borderRadius:2,boxShadow:1,mt:4},children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Podsumowanie charakterystyk"}),T.jsx(ye,{paragraph:!0,children:"Każdy typ silnika DC ma unikalne właściwości, które determinują jego zastosowanie:"}),T.jsxs(mf,{children:[T.jsxs(mi,{children:[T.jsx(Ds,{children:T.jsx(Dne,{color:"primary"})}),T.jsx(gi,{primary:"Silniki szeregowe",secondary:"Najlepsze do aplikacji wymagających dużego momentu rozruchowego"})]}),T.jsxs(mi,{children:[T.jsx(Ds,{children:T.jsx(Cz,{color:"primary"})}),T.jsx(gi,{primary:"Silniki bocznikowe",secondary:"Idealne gdy potrzebna jest stabilna prędkość obrotowa"})]}),T.jsxs(mi,{children:[T.jsx(Ds,{children:T.jsx(zne,{color:"primary"})}),T.jsx(gi,{primary:"Silniki uniwersalne",secondary:"Uniwersalne zastosowanie w urządzeniach AGD i narzędziach"})]}),T.jsxs(mi,{children:[T.jsx(Ds,{children:T.jsx(BO,{color:"primary"})}),T.jsx(gi,{primary:"Silniki compound",secondary:"Kompromis między momentem rozruchowym a stabilnością"})]}),T.jsxs(mi,{children:[T.jsx(Ds,{}),T.jsx(gi,{primary:"Silniki BLDC",secondary:"Nowoczesne rozwiązanie do precyzyjnych aplikacji"})]})]}),T.jsx(ye,{variant:"body2",sx:{mt:2,fontStyle:"italic"},children:"Wybór odpowiedniego silnika zależy od konkretnych wymagań aplikacji, w tym potrzebnego momentu obrotowego, zakresu prędkości, warunków pracy i budżetu."})]})]})},Une=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Zastosowania Silników DC"}),T.jsx(ye,{paragraph:!0,children:"Silniki prądu stałego znajdują zastosowanie w urządzeniach takich jak wiertarki, wentylatory, pojazdy elektryczne i wiele innych."})]}),Pne=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Silniki Prądu Przemiennego (AC)"}),T.jsxs(ui,{container:!0,spacing:3,sx:{mt:2},children:[T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Budowa silników AC"}),T.jsx(ye,{paragraph:!0,children:"Poznaj elementy składowe silników prądu przemiennego, takie jak stojan, wirnik, obudowa, wał i wentylator."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/ac/construction",sx:{mt:2},children:"Dowiedz się więcej"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Zasada działania"}),T.jsx(ye,{paragraph:!0,children:"Dowiedz się, jak pole magnetyczne i prąd przemienny powodują ruch obrotowy wirnika w silniku AC."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/ac/operation",sx:{mt:2},children:"Dowiedz się więcej"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Rodzaje silników AC"}),T.jsx(ye,{paragraph:!0,children:"Poznaj różne rodzaje silników prądu przemiennego, takie jak indukcyjne, synchroniczne, jednofazowe i trójfazowe."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/ac/types",sx:{mt:2},children:"Dowiedz się więcej"})]})})}),T.jsx(ui,{item:!0,xs:12,md:6,children:T.jsx(ka,{elevation:3,children:T.jsxs(cs,{children:[T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Zastosowania"}),T.jsx(ye,{paragraph:!0,children:"Odkryj zastosowania silników prądu przemiennego w przemyśle, gospodarstwie domowym i transporcie."}),T.jsx(tr,{variant:"contained",component:nl,to:"/motors/ac/applications",sx:{mt:2},children:"Dowiedz się więcej"})]})})})]})]}),Ine=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Budowa Silników AC"}),T.jsx(ye,{paragraph:!0,children:"Silniki prądu przemiennego składają się z takich elementów jak stojan, wirnik, obudowa, wał, łożyska oraz wentylator. Każdy z tych elementów pełni kluczową rolę w pracy silnika."}),T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:2,borderRadius:1,mb:2},children:T.jsxs(ye,{variant:"body2",color:"textSecondary",children:[T.jsx(Mt,{sx:{backgroundColor:"#f5f5f5",p:1,borderRadius:1,mb:2,height:{xs:300,sm:400,md:500},minHeight:200},children:T.jsx("iframe",{src:"https://sketchfab.com/models/b02c98e04e614d97897e3dababb70bc8/embed",width:"100%",height:"100%",style:{border:0,borderRadius:8,display:"block"},allowFullScreen:!0,title:"Induction Motor Cutaway"})}),T.jsx("strong",{children:"Induction Motor Cutaway"}),T.jsx("br",{}),T.jsx("br",{}),"Cutaway of a three-phase induction motor with annotations.",T.jsx("br",{}),T.jsx("br",{}),"3D model created and textured in 3ds Max using Photoshop and Substance Source textures.",T.jsx("br",{}),T.jsx("br",{}),"Published in 3dsmax"]})}),T.jsx(ye,{paragraph:!0,sx:{textAlign:"justify"},children:"Model 3D przedstawia typową budowę silnika AC."})]}),kne=["Text001_black_0","Text_black_0","Cylinder_copper_0","Cube001_red_0","Cube_blue_0","Cylinder001_copper_0","Cylinder004_copper_0","Cylinder002_black_0","Cylinder002_Material_0"],Fne=[{label:"Przezroczysty",value:"#f5f5f5"},{label:"Jasne",value:"#e0eafc"},{label:"Ciemne",value:"#222831"},{label:"Białe",value:"#ffffff"},{label:"Niebieskie",value:"#a2c7fa"}],Hne=[{label:"Pole magnetyczne stojana",elements:["Text_black_0","Cube_blue_0","Text001_black_0","Cube001_red_0"]},{label:"Rotor",elements:["Cylinder_copper_0"]},{label:"Komutator",elements:["Cylinder001_copper_0","Cylinder004_copper_0"]},{label:"Szczotki z regulacją prędkości",elements:["Cylinder002_black_0","Cylinder002_Material_0"]}];function jne({visibleMap:n,coilRotating:e,rotationSpeed:t=1}){const{scene:i}=tg("/engines/models/ac/scene.gltf",!0);return Th(()=>{if(e){const r=i.getObjectByName("Cylinder_copper_0");r&&(r.rotation.z+=.03*t)}}),I.useMemo(()=>{i.traverse(r=>{r.isMesh&&r.name&&n[r.name]!==void 0&&(r.visible=n[r.name])})},[i,n]),T.jsx("primitive",{object:i,scale:[1,1,1]})}function Gne(){const[n,e]=I.useState(Object.fromEntries(kne.map(B=>[B,!0]))),[t,i]=I.useState("#e0eafc"),[r,a]=I.useState(!1),[o,c]=I.useState(!1),[u,h]=I.useState(1),m=I.useRef(null),g=Em("(max-width:600px)"),[v,b]=I.useState(!1),[S,E]=I.useState(!1),M=()=>{const B=m.current;B&&(b(B.scrollLeft>0),E(B.scrollLeft+B.clientWidth<B.scrollWidth-1))};I.useEffect(()=>{M();const B=m.current;if(B)return B.addEventListener("scroll",M),window.addEventListener("resize",M),()=>{B.removeEventListener("scroll",M),window.removeEventListener("resize",M)}},[]);const A=B=>{m.current&&m.current.scrollBy({left:B==="left"?-180:180,behavior:"smooth"})},z=B=>{const L=B.every(O=>n[O]);e(O=>{const U={...O};return B.forEach(k=>{U[k]=!L}),U})};return T.jsxs("div",{className:"scene-vertical-container",children:[T.jsxs("div",{className:"controls-horizontal",style:{flexDirection:g?"column":"row",alignItems:g?"stretch":"center",gap:g?"12px 0":void 0,padding:g?"8px 4px":void 0},children:[T.jsxs(Mt,{sx:{display:"flex",alignItems:"center",flex:1,minWidth:0,width:"100%",mb:g?1:0},children:[v&&T.jsx(tr,{onClick:()=>A("left"),sx:{minWidth:32,px:0,mr:1,height:36,display:"flex",fontSize:g?"1.2rem":"1.5rem"},children:"←"}),T.jsx("div",{ref:m,className:"controls-buttons-horizontal",style:{display:"flex",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none",flex:1,minWidth:0},children:Hne.map(B=>{const L=B.elements.every(O=>n[O]);return T.jsx(tr,{variant:L?"contained":"outlined",color:L?"success":"inherit",size:"small",onClick:()=>z(B.elements),sx:{marginRight:g?.5:1,minWidth:g?60:120,fontSize:g?"0.75rem":"1rem",textTransform:"none",whiteSpace:"nowrap",flexShrink:0,py:g?.2:1},children:B.label},B.label)})}),S&&T.jsx(tr,{onClick:()=>A("right"),sx:{minWidth:32,px:0,ml:1,height:36,display:"flex",fontSize:g?"1.2rem":"1.5rem"},children:"→"})]}),T.jsx(Mt,{className:"background-toggle-group",sx:{ml:g?0:4,mt:g?1:0,width:g?"100%":"auto",display:"flex",justifyContent:g?"flex-start":"center"},children:T.jsx(e3,{value:t,exclusive:!0,onChange:(B,L)=>L&&i(L),size:g?"small":"medium",color:"primary",fullWidth:g,children:Fne.map(B=>T.jsx($L,{value:B.value,children:B.label},B.value))})})]}),T.jsx("div",{className:"canvas-container-horizontal",children:T.jsxs(XT,{camera:{position:[10,5,5],fov:50},style:{width:"100%",height:"100%"},children:[T.jsx("color",{attach:"background",args:[t]}),T.jsx("ambientLight",{intensity:.8}),T.jsx("directionalLight",{position:[10,10,10],intensity:1.5}),T.jsx(I.Suspense,{fallback:T.jsx(YT,{center:!0,children:T.jsx("div",{style:{color:"white"},children:"Ładowanie..."})}),children:T.jsx(jne,{visibleMap:n,coilRotating:r&&o,rotationSpeed:u})}),T.jsx(qT,{target:[0,0,0],enableDamping:!0}),T.jsx(JT,{alignment:"top-right",margin:[80,80],children:T.jsx(ZT,{axisColors:["red","green","blue"],labelColor:"white"})})]})}),T.jsxs(Mt,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[T.jsxs(wA,{direction:"row",spacing:2,children:[T.jsx(tr,{variant:o?"contained":"outlined",color:o?"success":"primary",onClick:()=>c(B=>!B),children:o?"Wyłącz zasilanie":"Włącz zasilanie"}),T.jsx(tr,{variant:r?"contained":"outlined",color:r?"success":"primary",onClick:()=>a(B=>!B),disabled:!o,children:r?"Zatrzymaj cewkę":"Uruchom obrót cewki"})]}),T.jsxs(Mt,{sx:{width:300,mt:2},children:[T.jsxs(ye,{gutterBottom:!0,children:["Prędkość obrotu cewki: ",u.toFixed(2)]}),T.jsx(JL,{value:u,min:.1,max:3,step:.01,onChange:(B,L)=>h(Number(L)),disabled:!o||!r,valueLabelDisplay:"auto"})]})]})]})}const Vne=()=>{const n=Em("(max-width:600px)");return T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Zasada Działania Silników AC"}),T.jsx(ye,{paragraph:!0,children:"Silniki AC działają na zasadzie indukcji elektromagnetycznej. Prąd przemienny wytwarza wirujące pole magnetyczne w stojanie, które powoduje obrót wirnika."}),T.jsxs(Mt,{sx:{height:n?500:1e3,mt:2},children:["Generator AC",T.jsx(Gne,{})]})]})},Xne=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Rodzaje Silników AC"}),T.jsx(ye,{paragraph:!0,children:"Do najpopularniejszych rodzajów silników AC należą silniki indukcyjne, synchroniczne, jednofazowe i trójfazowe. Różnią się one budową oraz zastosowaniem."})]}),Wne=()=>T.jsxs(Mt,{sx:{p:3},children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Zastosowania Silników AC"}),T.jsx(ye,{paragraph:!0,children:"Silniki AC są szeroko stosowane w przemyśle, wentylatorach, pompach, sprężarkach, urządzeniach AGD i wielu innych aplikacjach wymagających niezawodnego napędu."})]}),Yne=()=>T.jsxs("div",{children:[T.jsx(hs,{}),T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Maszyny Elektryczne"}),T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Silniki"}),T.jsx(ye,{paragraph:!0,children:"Silniki są najczęściej spotykanymi maszynami elektrycznymi."}),T.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Generatory"}),T.jsx(ye,{paragraph:!0,children:"Generatory przekształcają energię mechaniczną w elektryczną."})]}),Kne=()=>T.jsxs("div",{children:[T.jsx(ye,{variant:"h4",gutterBottom:!0,children:"Zasoby"}),T.jsx(ye,{paragraph:!0,children:"Tutaj znajdziesz linki do zasobów zewnętrznych."})]}),qne=Ct(Mt)({display:"flex",flexDirection:"column",gap:"16px",margin:"20px 0"}),Jne=Ct(tr)(({theme:n})=>({backgroundColor:n.palette.primary.main,color:"white","&:hover":{backgroundColor:n.palette.primary.dark}})),Zne=()=>T.jsxs(qne,{children:[T.jsxs(wA,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[T.jsx(ye,{variant:"h6",component:"h2",children:"Prezentacja: Zasady działania maszyn elektrycznych"}),T.jsx("a",{href:"https://upkrakow-my.sharepoint.com/personal/s174103_student_uken_krakow_pl/_layouts/15/Doc.aspx?sourcedoc={3330f614-4dc4-4e30-82d3-85945c280d9e}&action=download",download:"Silniki_Elektryczne_Prezentacja.pptx",children:T.jsx(Jne,{variant:"contained",startIcon:T.jsx(Bne,{}),children:"Pobierz prezentację"})})]}),T.jsx(Mt,{sx:{height:"600px",border:"1px solid #e0e0e0",borderRadius:"4px",overflow:"hidden"},children:T.jsx("iframe",{src:"https://upkrakow-my.sharepoint.com/personal/s174103_student_uken_krakow_pl/_layouts/15/Doc.aspx?sourcedoc={3330f614-4dc4-4e30-82d3-85945c280d9e}&action=embedview&wdAr=1.7777777777777777",width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,title:"Prezentacja o silnikach elektrycznych"})})]}),Qne=()=>T.jsxs(FI,{children:[T.jsx(Ir,{path:"/",element:T.jsx(RX,{})}),T.jsx(Ir,{path:"/basics",element:T.jsx(fne,{})}),T.jsx(Ir,{path:"/motors",element:T.jsx(dne,{})}),T.jsx(Ir,{path:"/motors/dc",element:T.jsx(hne,{})}),T.jsx(Ir,{path:"/motors/dc/construction",element:T.jsx(Tne,{})}),T.jsx(Ir,{path:"/motors/dc/operation",element:T.jsx(Rne,{})}),T.jsx(Ir,{path:"/motors/dc/types",element:T.jsx(Nne,{})}),T.jsx(Ir,{path:"/motors/dc/applications",element:T.jsx(Une,{})}),T.jsx(Ir,{path:"/motors/ac",element:T.jsx(Pne,{})}),T.jsx(Ir,{path:"/motors/ac/construction",element:T.jsx(Ine,{})}),T.jsx(Ir,{path:"/motors/ac/operation",element:T.jsx(Vne,{})}),T.jsx(Ir,{path:"/motors/ac/types",element:T.jsx(Xne,{})}),T.jsx(Ir,{path:"/motors/ac/applications",element:T.jsx(Wne,{})}),T.jsx(Ir,{path:"/machines",element:T.jsx(Yne,{})}),T.jsx(Ir,{path:"/resources",element:T.jsx(Kne,{})}),T.jsx(Ir,{path:"/prezentacja",element:T.jsx(Zne,{})}),T.jsx(Ir,{path:"*",element:T.jsx(II,{to:"/",replace:!0})})]}),$ne=({children:n,delayMs:e=1200})=>{const[t,i]=I.useState(!0),[r,a]=I.useState(!1);return I.useEffect(()=>{const o=setTimeout(()=>a(!0),e);return()=>clearTimeout(o)},[e]),I.useEffect(()=>{if(r){const o=setTimeout(()=>i(!1),700);return()=>clearTimeout(o)}},[r]),t?T.jsx("div",{className:`logo__container visible${r?" fading-out":""}`,children:T.jsx("img",{src:DO,alt:"UKEN logo",className:`uken-logo${r?" fading-out":""}`,draggable:!1})}):T.jsx(T.Fragment,{children:n})},O1=240,eie=()=>{const[n,e]=I.useState(!1),[t,i]=I.useState(!1),[r,a]=I.useState({x:20,y:80}),o=Em("(min-width:900px)"),c=()=>{e(!n)};I.useEffect(()=>{const h=()=>{i(window.scrollY>80)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const u=h=>{const m=h.clientX,g=h.clientY,v=r.x,b=r.y,S=M=>{a({x:v+M.clientX-m,y:b+M.clientY-g})},E=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",E)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",E)};return T.jsx($ne,{children:T.jsxs(YI,{basename:"/engines/",children:[T.jsx(W5,{}),T.jsxs(Mt,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[T.jsx(SX,{onMenuClick:o?void 0:c}),T.jsxs(Mt,{sx:{display:"flex",flexGrow:1},children:[!o&&T.jsx(TG,{variant:"temporary",open:n,onClose:c,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:O1}},children:T.jsx(hB,{})}),o&&T.jsx(Mt,{sx:{width:O1,flexShrink:0,display:{xs:"none",md:"block"}},children:T.jsx(hB,{})}),T.jsx(Mt,{component:"main",sx:{flexGrow:1,p:3,width:{xs:"100%",md:`calc(100% - ${O1}px)`},display:"flex",flexDirection:"column"},children:T.jsx(Qne,{})})]}),T.jsx(TX,{sx:{marginTop:"auto"}}),!o&&t&&T.jsx(DG,{color:"primary","aria-label":"menu",onClick:c,onMouseDown:u,sx:{position:"fixed",left:r.x,top:r.y,zIndex:2e3,boxShadow:6,cursor:"grab",transition:"box-shadow 0.2s"},children:T.jsx(t3,{})})]})]})})},tie=CA({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#333333",secondary:"#555555"}},typography:{fontFamily:"Roboto, sans-serif",h1:{fontSize:"2.5rem",fontWeight:700},h2:{fontSize:"2rem",fontWeight:600},h3:{fontSize:"1.75rem",fontWeight:500},body1:{fontSize:"1rem",lineHeight:1.6}},spacing:8});KP.createRoot(document.getElementById("root")).render(T.jsx(co.StrictMode,{children:T.jsx(zH,{theme:tie,children:T.jsx(eie,{})})}));
